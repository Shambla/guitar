<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link type="text/css" rel="stylesheet" href="style/montserrat.css">
		<link type="text/css" rel="stylesheet" href="style/font-awesome.css">
		<link type="text/css" rel="stylesheet" href="style/index.css">
		<link rel="shortcut icon" href="img/favico.ico" type="image/x-icon">
		<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
		<script src="https://js.stripe.com/v3/"></script>
		<title>Trading Signals - Live Feed</title>
		<style>
			/* ============================================
			   SYNTHWAVE THEME - Background & Base Styles
			   ============================================ */
			
			/* Synthwave gradient background */
			html, body {
				background: linear-gradient(135deg, #0a0e27 0%, #1a0d2e 25%, #16213e 50%, #0f3460 75%, #0a0e27 100%) !important;
				background-attachment: fixed !important;
				background-size: 400% 400% !important;
				animation: synthwaveGradient 15s ease infinite !important;
				min-height: 100vh !important;
				position: relative !important;
			}
			
			/* Animated gradient background */
			@keyframes synthwaveGradient {
				0% { background-position: 0% 50%; }
				50% { background-position: 100% 50%; }
				100% { background-position: 0% 50%; }
			}
			
			/* Grid overlay pattern (synthwave aesthetic) */
			body::before {
				content: '';
				position: fixed;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				background-image: 
					linear-gradient(rgba(0, 255, 255, 0.03) 1px, transparent 1px),
					linear-gradient(90deg, rgba(0, 255, 255, 0.03) 1px, transparent 1px);
				background-size: 50px 50px;
				pointer-events: none;
				z-index: 0;
			}
			
			/* Horizon line effect (classic synthwave) */
			body::after {
				content: '';
				position: fixed;
				bottom: 0;
				left: 0;
				width: 100%;
				height: 200px;
				background: linear-gradient(to top, 
					rgba(255, 0, 255, 0.15) 0%,
					rgba(0, 255, 255, 0.1) 50%,
					transparent 100%);
				pointer-events: none;
				z-index: 0;
			}
			
			/* Ensure content is above background layers */
			body > * {
				position: relative;
				z-index: 1;
			}
			
			/* Neon glow text effect */
			@keyframes neonGlow {
				0%, 100% {
					text-shadow: 
						0 0 5px currentColor,
						0 0 10px currentColor,
						0 0 15px currentColor,
						0 0 20px currentColor;
				}
				50% {
					text-shadow: 
						0 0 2px currentColor,
						0 0 5px currentColor,
						0 0 8px currentColor,
						0 0 12px currentColor;
				}
			}
			
			/* Animated ROI colors - cycling through vibrant colors */
			@keyframes roiColorCycle {
				0% { color: #ff0080; }
				16.66% { color: #ff4000; }
				33.33% { color: #ffaa00; }
				50% { color: #ffff00; }
				66.66% { color: #00ff00; }
				83.33% { color: #00ffff; }
				100% { color: #ff0080; }
			}
			
			/* Pulsing glow effect for ROI */
			@keyframes roiPulse {
				0%, 100% {
					filter: drop-shadow(0 0 10px rgba(255, 0, 128, 0.8)) 
					        drop-shadow(0 0 20px rgba(255, 64, 0, 0.6)) 
					        drop-shadow(0 0 30px rgba(255, 170, 0, 0.4));
					transform: scale(1);
				}
				50% {
					filter: drop-shadow(0 0 20px rgba(255, 0, 128, 1)) 
					        drop-shadow(0 0 40px rgba(255, 64, 0, 0.8)) 
					        drop-shadow(0 0 60px rgba(255, 170, 0, 0.6))
					        drop-shadow(0 0 80px rgba(0, 255, 0, 0.4));
					transform: scale(1.05);
				}
			}
			
			/* ROI styling - animated and eye-catching */
			.roi-animated {
				display: inline-block;
				font-size: 28px !important;
				font-weight: 900 !important;
				letter-spacing: 1px;
				background: linear-gradient(135deg, #ff0080, #ff4000, #ffaa00, #ffff00, #00ff00, #00ffff, #ff0080);
				background-size: 300% 300%;
				-webkit-background-clip: text;
				-webkit-text-fill-color: transparent;
				background-clip: text;
				animation: 
					roiGradientShift 3s ease infinite,
					roiPulse 2s ease-in-out infinite;
				position: relative;
			}
			
			/* Sparkle highlight for "ACTUALLY MACHINE LEARNING" */
			@keyframes mlShimmer {
				0%, 100% {
					text-shadow:
						0 0 6px rgba(255, 235, 59, 0.8),
						0 0 14px rgba(255, 193, 7, 0.7),
						0 0 24px rgba(255, 193, 7, 0.5);
				}
				50% {
					text-shadow:
						0 0 10px rgba(255, 255, 255, 0.95),
						0 0 18px rgba(255, 193, 7, 0.9),
						0 0 32px rgba(255, 193, 7, 0.7);
				}
			}
			.sparkle-ml {
				color: #ffeb3b !important;
				font-weight: 900 !important;
				letter-spacing: 0.5px;
				text-shadow:
					0 0 6px rgba(255, 235, 59, 0.8),
					0 0 14px rgba(255, 193, 7, 0.7),
					0 0 24px rgba(255, 193, 7, 0.5);
				animation: mlShimmer 1.8s ease-in-out infinite;
			}
			
			/* Gradient shift animation for background */
			@keyframes roiGradientShift {
				0% { background-position: 0% 50%; }
				50% { background-position: 100% 50%; }
				100% { background-position: 0% 50%; }
			}
			
			/* Money emoji animation */
			.roi-money-emoji {
				display: inline-block;
				font-size: 32px;
				animation: moneyBounce 1.5s ease-in-out infinite;
				filter: drop-shadow(0 0 8px rgba(255, 215, 0, 0.8));
			}
			
			@keyframes moneyBounce {
				0%, 100% {
					transform: translateY(0) rotate(0deg) scale(1);
				}
				25% {
					transform: translateY(-5px) rotate(-10deg) scale(1.1);
				}
				50% {
					transform: translateY(-8px) rotate(0deg) scale(1.15);
				}
				75% {
					transform: translateY(-5px) rotate(10deg) scale(1.1);
				}
			}
			
			.signals-container {
				margin-top: 100px;
				padding: 20px;
			}
			.signals-header {
				text-align: center;
				margin-bottom: 30px;
				position: fixed;
				top: 0;
				left: 0;
				right: 0;
				background: rgba(10, 14, 39, 0.95);
				backdrop-filter: blur(10px);
				padding: 20px;
				z-index: 1000;
				box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
			}
			.signals-header h1 {
				color: var(--primary-color);
				font-size: 28px;
				text-align: center;
				font-weight: bold;
			}
			.signals-header p {
				color: rgba(255, 255, 255, 0.9);
				text-shadow: 0 0 5px rgba(255, 255, 255, 0.3);
			}
			
			/* Floating Right-Side Navigation */
			.floating-nav {
				position: fixed !important;
				right: 20px !important;
				top: 50% !important;
				transform: translateY(-50%) !important;
				z-index: 10000 !important;
				display: flex !important;
				flex-direction: column;
				gap: 12px;
				background: rgba(10, 14, 39, 0.3) !important;
				backdrop-filter: blur(5px);
				padding: 20px 15px;
				border-radius: 12px;
				box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3), 0 0 10px rgba(0, 255, 255, 0.1);
				border: 2px solid rgba(0, 255, 255, 0.2);
				visibility: visible !important;
				opacity: 1 !important;
				transition: all 0.3s ease;
			}
			
			.floating-nav:hover {
				background: rgba(10, 14, 39, 0.95) !important;
				backdrop-filter: blur(10px);
				box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5), 0 0 20px rgba(0, 255, 255, 0.3);
				border: 2px solid rgba(0, 255, 255, 0.5);
			}
			
			.floating-nav a {
				display: block;
				color: rgba(255, 255, 255, 0.6) !important;
				text-decoration: none;
				padding: 12px 20px;
				background: rgba(0, 255, 255, 0.1);
				border: 1px solid rgba(0, 255, 255, 0.2);
				border-radius: 8px;
				font-weight: bold;
				font-size: 14px;
				text-align: center;
				transition: all 0.3s ease;
				white-space: nowrap;
			}
			
			.floating-nav:hover a {
				color: #fff !important;
				background: rgba(0, 255, 255, 0.2);
				border-color: rgba(0, 255, 255, 0.4);
			}
			
			.floating-nav a:hover {
				background: rgba(0, 255, 255, 0.4) !important;
				border-color: rgba(0, 255, 255, 0.8) !important;
				transform: translateX(-5px);
				box-shadow: 0 0 15px rgba(0, 255, 255, 0.6);
				color: #fff !important;
			}
			
			@media (max-width: 768px) {
				.floating-nav {
					right: 10px;
					padding: 15px 10px;
				}
				.floating-nav a {
					padding: 10px 15px;
					font-size: 12px;
				}
			}
			.status-indicator {
				display: inline-block;
				width: 12px;
				height: 12px;
				border-radius: 50%;
				margin-right: 8px;
				animation: pulse 2s infinite;
			}
			.status-indicator.active {
				background-color: #00ff88;
				box-shadow: 0 0 10px rgba(0, 255, 136, 0.8), 0 0 20px rgba(0, 255, 136, 0.4);
			}
			.status-indicator.inactive {
				background-color: #ff0080;
				box-shadow: 0 0 10px rgba(255, 0, 128, 0.8), 0 0 20px rgba(255, 0, 128, 0.4);
			}
			@keyframes pulse {
				0%, 100% { opacity: 1; }
				50% { opacity: 0.5; }
			}
			.signals-grid {
				display: grid !important;
				grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
				gap: 20px;
				margin-top: 20px;
				visibility: visible !important;
				opacity: 1 !important;
				min-height: 200px;
			}
			
			/* Mobile responsive styles */
			@media (max-width: 768px) {
				/* Navigation - stack vertically on mobile */
				nav {
					padding: 15px 0 !important;
					transition: padding 0.3s ease, font-size 0.3s ease;
				}
				
				/* When scrolled on mobile - make nav MUCH smaller */
				nav.scrolled {
					padding: 5px 0 !important;
				}
				
				nav .content {
					display: flex !important;
					flex-direction: column !important;
					align-items: center !important;
					gap: 10px !important;
					padding: 10px 0 !important;
					transition: gap 0.3s ease;
				}
				
				/* When scrolled - reduce gap between nav items */
				nav.scrolled .content {
					gap: 3px !important;
					padding: 0 !important;
				}
				
				nav a {
					margin: 5px 0 !important;
					font-size: 0.9em !important;
					padding: 8px !important;
					display: block !important;
					transition: font-size 0.3s ease, padding 0.3s ease, margin 0.3s ease;
				}
				
				/* When scrolled - make nav links much smaller */
				nav.scrolled a {
					font-size: 0.7em !important;
					padding: 3px 8px !important;
					margin: 2px 0 !important;
					line-height: 1.2 !important;
				}
				
				/* Content adjustments */
				.content {
					width: 100% !important;
					padding: 0 15px !important;
				}
				
				.signals-container {
					margin-top: 120px !important;
					padding: 15px !important;
				}
				
				/* Signals grid - single column on mobile */
				.signals-grid {
					grid-template-columns: 1fr !important;
					gap: 15px !important;
				}
				
				.signal-card {
					margin: 0 !important;
					padding: 15px !important;
				}
				
				.signal-symbol {
					font-size: 20px !important;
				}
				
				.signal-action {
					font-size: 14px !important;
					padding: 4px 10px !important;
				}
				
				/* Live signals navigation - stack vertically */
				#live-signals-nav {
					flex-direction: column !important;
					gap: 15px !important;
					padding: 15px !important;
				}
				
				#live-signals-nav button {
					width: 100% !important;
					padding: 12px !important;
					text-align: center !important;
					font-size: 14px !important;
				}
				
				/* Page navigation buttons - stack vertically */
				#page-navigation {
					flex-direction: column !important;
					gap: 10px !important;
					padding: 15px !important;
				}
				
				#page-navigation a {
					width: 100% !important;
					padding: 12px !important;
					text-align: center !important;
				}
				
				/* Headings */
				h1 {
					font-size: 1.8em !important;
				}
				
				h2 {
					font-size: 1.5em !important;
				}
				
				/* Disclaimer modal - full width on mobile */
				.disclaimer-modal {
					max-width: 95% !important;
					padding: 20px !important;
					max-height: 90vh !important;
				}
				
				.disclaimer-modal h2 {
					font-size: 20px !important;
				}
				
				.disclaimer-content {
					font-size: 14px !important;
					line-height: 1.6 !important;
				}
				
				/* Indicator sections */
				.indicators-section {
					padding: 20px 15px !important;
				}
				
				.indicators-header h2 {
					font-size: 24px !important;
				}
				
				.indicator-category {
					padding: 15px !important;
				}
				
				.indicator-category h3 {
					font-size: 20px !important;
				}
				
				/* Summary stats grid - single column */
				.summary-stats ul {
					grid-template-columns: 1fr !important;
				}
				
				/* Asset list grid - single column on mobile */
				.asset-list-grid {
					grid-template-columns: 1fr !important;
					gap: 12px !important;
				}
				
				.asset-list-item {
					padding: 15px !important;
					flex-direction: column !important;
					align-items: flex-start !important;
					gap: 10px !important;
				}
				
				.asset-signal {
					align-items: flex-start !important;
					width: 100%;
				}
				
				/* Backtest image - responsive */
				.backtest-section img {
					width: 100% !important;
					height: auto !important;
				}
			}
			
			/* Tablet adjustments */
			@media (min-width: 769px) and (max-width: 1024px) {
				.signals-grid {
					grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)) !important;
				}
				
				#page-navigation {
					flex-wrap: wrap !important;
				}
				
				#page-navigation a {
					flex: 1 1 calc(50% - 10px) !important;
				}
			}
			.signal-card {
				background: rgba(10, 14, 39, 0.6) !important;
				border: 2px solid rgba(0, 255, 255, 0.3) !important;
				border-radius: 8px;
				padding: 20px;
				transition: all 0.3s ease;
				animation: fadeInUp 0.5s ease;
				display: block !important;
				visibility: visible !important;
				opacity: 1 !important;
				color: #ffffff !important;
				margin: 10px;
				/* Synthwave glass effect */
				background-color: rgba(10, 14, 39, 0.7) !important;
				backdrop-filter: blur(8px);
				box-shadow: 
					0 0 10px rgba(0, 255, 255, 0.2),
					0 0 20px rgba(255, 0, 255, 0.1),
					inset 0 0 20px rgba(0, 255, 255, 0.05);
				/* Elevate above any overlays */
				position: relative;
				z-index: 1;
				/* Prevent any accidental hiding */
				mix-blend-mode: normal !important;
				pointer-events: auto !important;
			}
			.signal-card:hover {
				transform: translateY(-5px);
				box-shadow: 
					0 0 20px rgba(0, 255, 255, 0.4),
					0 0 40px rgba(255, 0, 255, 0.3),
					0 8px 32px rgba(0, 0, 0, 0.5);
				border-color: rgba(0, 255, 255, 0.6);
			}
			.signal-card.buy {
				border-left: 4px solid #00ff88;
				box-shadow: 
					0 0 10px rgba(0, 255, 136, 0.3),
					0 0 20px rgba(0, 255, 136, 0.2),
					inset 0 0 20px rgba(0, 255, 136, 0.05);
			}
			.signal-card.buy:hover {
				border-left-color: #00ff88;
				box-shadow: 
					0 0 20px rgba(0, 255, 136, 0.5),
					0 0 40px rgba(0, 255, 136, 0.3),
					0 8px 32px rgba(0, 0, 0, 0.5);
			}
			.signal-card.sell {
				border-left: 4px solid #ff0080;
				box-shadow: 
					0 0 10px rgba(255, 0, 128, 0.3),
					0 0 20px rgba(255, 0, 128, 0.2),
					inset 0 0 20px rgba(255, 0, 128, 0.05);
			}
			.signal-card.sell:hover {
				border-left-color: #ff0080;
				box-shadow: 
					0 0 20px rgba(255, 0, 128, 0.5),
					0 0 40px rgba(255, 0, 128, 0.3),
					0 8px 32px rgba(0, 0, 0, 0.5);
			}
			.confluence-badge {
				display: inline-block;
				padding: 5px 10px;
				border-radius: 6px;
				font-size: 11px;
				font-weight: bold;
				margin-left: 8px;
			}
			.confluence-pure {
				background-color: rgba(0, 255, 255, 0.25);
				color: #00ffff;
				border: 1px solid rgba(0, 255, 255, 0.5);
				text-shadow: 0 0 8px rgba(0, 255, 255, 0.8);
				box-shadow: 0 0 10px rgba(0, 255, 255, 0.3);
			}
			.confluence-ema {
				background-color: rgba(255, 165, 0, 0.25);
				color: #ffa500;
				border: 1px solid rgba(255, 165, 0, 0.5);
				text-shadow: 0 0 8px rgba(255, 165, 0, 0.8);
				box-shadow: 0 0 10px rgba(255, 165, 0, 0.3);
			}
			.confluence-hmm {
				background-color: rgba(255, 0, 255, 0.25);
				color: #ff00ff;
				border: 1px solid rgba(255, 0, 255, 0.5);
				text-shadow: 0 0 8px rgba(255, 0, 255, 0.8);
				box-shadow: 0 0 10px rgba(255, 0, 255, 0.3);
			}
			.confluence-extreme {
				background-color: rgba(255, 0, 128, 0.35);
				color: #ff0080;
				border: 1px solid rgba(255, 0, 128, 0.6);
				text-shadow: 0 0 10px rgba(255, 0, 128, 1), 0 0 20px rgba(255, 0, 128, 0.6);
				box-shadow: 0 0 15px rgba(255, 0, 128, 0.5);
			}
			.note-highlight {
				font-weight: 600;
				color: #fff !important;
				margin-top: 10px;
				padding: 8px;
				background: rgba(255, 255, 255, 0.08);
				border-radius: 4px;
				border-left: 3px solid rgba(255,255,255,0.6);
			}
			.signal-header {
				display: flex;
				justify-content: space-between;
				align-items: center;
				margin-bottom: 15px;
			}
			.signal-header > div {
				display: flex;
				align-items: center;
				gap: 8px;
			}
			.signal-action {
				font-size: 18px;
				font-weight: bold;
				text-transform: uppercase;
				padding: 5px 15px;
				border-radius: 4px;
			}
			.signal-action.buy {
				background-color: rgba(0, 255, 136, 0.2);
				color: #00ff88;
				text-shadow: 0 0 10px rgba(0, 255, 136, 0.8);
				border: 1px solid rgba(0, 255, 136, 0.4);
			}
			.signal-action.sell {
				background-color: rgba(255, 0, 128, 0.2);
				color: #ff0080;
				text-shadow: 0 0 10px rgba(255, 0, 128, 0.8);
				border: 1px solid rgba(255, 0, 128, 0.4);
			}
			.signal-symbol {
				font-size: 24px;
				font-weight: bold;
				color: #ffffff !important; /* force visible on dark bg */
			}
			.signal-details {
				margin-top: 15px;
			}
			.signal-detail-row {
				display: flex;
				justify-content: space-between;
				padding: 8px 0;
				border-bottom: 1px solid rgba(255, 255, 255, 0.1);
			}
			.signal-detail-row:last-child {
				border-bottom: none;
			}
			.signal-detail-label {
				color: rgba(255, 255, 255, 0.85) !important; /* more visible */
				font-size: 14px;
			}
			.signal-detail-value {
				color: #ffffff !important;
				font-weight: 600;
			}
			.signal-timestamp {
				font-size: 12px;
				color: rgba(255, 255, 255, 0.75) !important;
				margin-top: 10px;
			}
			.empty-state {
				text-align: center;
				padding: 60px 20px;
				color: rgba(255, 255, 255, 0.6);
			}
			.refresh-info {
				text-align: center;
				margin-top: 5px;
				margin-bottom: 5px;
				color: rgba(255, 255, 255, 0.5);
				font-size: 14px;
			}
			.loading {
				text-align: center;
				padding: 40px;
				color: rgba(255, 255, 255, 0.6) !important;
				visibility: visible !important;
				display: block !important;
			}
			.empty-state {
				text-align: center;
				padding: 60px 20px;
				color: rgba(255, 255, 255, 0.6) !important;
				visibility: visible !important;
				display: block !important;
			}
			.disclaimer-overlay {
				position: fixed;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				background: rgba(0, 0, 0, 0.95);
				z-index: 10000;
				display: flex;
				justify-content: center;
				align-items: center;
				padding: 20px;
			}
			.disclaimer-modal {
				background: var(--bg-color);
				border: 2px solid var(--primary-color);
				border-radius: 12px;
				padding: 30px;
				max-width: 700px;
				max-height: 80vh;
				overflow-y: auto;
				box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
			}
			.disclaimer-modal h2 {
				color: var(--primary-color);
				margin-top: 0;
				margin-bottom: 20px;
				text-align: center;
				font-size: 24px;
			}
			.disclaimer-content {
				color: rgba(255, 255, 255, 0.9);
				line-height: 1.8;
				margin-bottom: 25px;
			}
			.disclaimer-content p {
				margin-bottom: 15px;
			}
			.disclaimer-content strong {
				color: var(--primary-color);
				font-weight: bold;
			}
			.disclaimer-content ul {
				margin-left: 20px;
				margin-bottom: 15px;
			}
			.disclaimer-content li {
				margin-bottom: 10px;
			}
			.disclaimer-warning {
				background: rgba(244, 67, 54, 0.2);
				border-left: 4px solid #f44336;
				padding: 15px;
				margin: 20px 0;
				border-radius: 4px;
			}
			.disclaimer-accept {
				display: flex;
				align-items: center;
				justify-content: center;
				gap: 12px;
				margin: 25px 0;
			}
			.disclaimer-checkbox {
				width: 20px;
				height: 20px;
				cursor: pointer;
			}
			.disclaimer-checkbox-label {
				color: rgba(255, 255, 255, 0.9);
				cursor: pointer;
				user-select: none;
			}
			.disclaimer-button {
				width: 100%;
				padding: 15px;
				background: var(--primary-color);
				color: var(--bg-color);
				border: none;
				border-radius: 6px;
				font-size: 16px;
				font-weight: bold;
				cursor: pointer;
				transition: all 0.3s ease;
				opacity: 0.5;
				pointer-events: none;
			}
			.disclaimer-button:enabled {
				opacity: 1;
				pointer-events: auto;
			}
			.disclaimer-button:enabled:hover {
				background: #d4b896;
				transform: translateY(-2px);
				box-shadow: 0 4px 12px rgba(241, 207, 171, 0.4);
			}
			.disclaimer-hidden {
				display: none !important;
			}
			#page-navigation {
				display: flex !important;
				visibility: visible !important;
				opacity: 1 !important;
			}
			#page-navigation a {
				display: inline-block !important;
				visibility: visible !important;
				opacity: 1 !important;
				color: #fff !important;
			}
			.indicators-section {
				margin-top: 60px;
				padding: 40px 20px;
				background: rgba(0, 0, 0, 0.3);
				border-radius: 12px;
				border: 1px solid rgba(255, 255, 255, 0.1);
				display: block !important;
				visibility: visible !important;
				opacity: 1 !important;
			}
			.indicators-header {
				text-align: center;
				margin-bottom: 40px;
			}
			.indicators-header h2 {
				color: #00ffff;
				font-size: 32px;
				margin-bottom: 10px;
				text-shadow: 
					0 0 10px rgba(0, 255, 255, 0.8),
					0 0 20px rgba(0, 255, 255, 0.6),
					0 0 30px rgba(0, 255, 255, 0.4);
			}
			.indicators-header p {
				color: rgba(255, 255, 255, 0.7);
				font-size: 16px;
				max-width: 800px;
				margin: 0 auto;
			}
			.indicators-content {
				max-width: 1200px;
				margin: 0 auto;
			}
			.indicator-category {
				margin-bottom: 40px;
				background: rgba(255, 255, 255, 0.03);
				border-radius: 8px;
				padding: 25px;
				border-left: 4px solid var(--primary-color);
			}
			.indicator-category h3 {
				color: #00ffff;
				font-size: 24px;
				margin-bottom: 20px;
				border-bottom: 2px solid rgba(0, 255, 255, 0.4);
				padding-bottom: 10px;
				text-shadow: 0 0 10px rgba(0, 255, 255, 0.6);
			}
			.indicator-category h4 {
				color: rgba(255, 255, 255, 0.9);
				font-size: 18px;
				margin-top: 20px;
				margin-bottom: 12px;
			}
			.indicator-category ul {
				list-style: none;
				padding-left: 0;
				margin: 0;
			}
			.indicator-category li {
				color: rgba(255, 255, 255, 0.8);
				padding: 8px 0;
				padding-left: 20px;
				position: relative;
				line-height: 1.6;
			}
			.indicator-category li:before {
				content: "‚ñ∏";
				position: absolute;
				left: 0;
				color: var(--primary-color);
			}
			.indicator-category strong {
				color: var(--primary-color);
				font-weight: bold;
			}
			.summary-stats {
				background: rgba(241, 207, 171, 0.1);
				border: 2px solid var(--primary-color);
				border-radius: 8px;
				padding: 30px;
				margin-top: 40px;
				text-align: center;
			}
			.summary-stats h3 {
				color: #00ffff;
				font-size: 28px;
				margin-bottom: 20px;
				text-shadow: 
					0 0 10px rgba(0, 255, 255, 0.8),
					0 0 20px rgba(0, 255, 255, 0.6);
			}
			.summary-stats ul {
				list-style: none;
				padding: 0;
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
				gap: 15px;
				margin: 20px 0;
			}
			.summary-stats li {
				color: rgba(255, 255, 255, 0.9);
				font-size: 16px;
				padding: 10px;
				background: rgba(0, 0, 0, 0.2);
				border-radius: 4px;
			}
			.philosophy-box {
				background: rgba(76, 175, 80, 0.1);
				border-left: 4px solid #4caf50;
				padding: 25px;
				margin-top: 30px;
				border-radius: 4px;
			}
			.philosophy-box h4 {
				color: #4caf50;
				margin-top: 0;
				margin-bottom: 15px;
			}
			.philosophy-box ol {
				margin-left: 20px;
				color: rgba(255, 255, 255, 0.9);
			}
			.philosophy-box li {
				margin-bottom: 10px;
				line-height: 1.6;
			}
			.asset-list-item {
				background: rgba(10, 14, 39, 0.6);
				border: 2px solid rgba(0, 255, 255, 0.3);
				border-radius: 8px;
				padding: 20px;
				transition: all 0.3s ease;
				display: flex;
				justify-content: space-between;
				align-items: center;
				backdrop-filter: blur(8px);
				box-shadow: 
					0 0 10px rgba(0, 255, 255, 0.2),
					inset 0 0 20px rgba(0, 255, 255, 0.05);
			}
			.asset-list-item:hover {
				transform: translateY(-3px);
				box-shadow: 
					0 0 20px rgba(0, 255, 255, 0.4),
					0 0 40px rgba(255, 0, 255, 0.2),
					0 6px 20px rgba(0, 0, 0, 0.5);
				border-color: rgba(0, 255, 255, 0.6);
			}
			.asset-list-item.buy {
				border-left: 4px solid #00ff88;
				box-shadow: 
					0 0 10px rgba(0, 255, 136, 0.3),
					inset 0 0 20px rgba(0, 255, 136, 0.05);
			}
			.asset-list-item.sell {
				border-left: 4px solid #ff0080;
				box-shadow: 
					0 0 10px rgba(255, 0, 128, 0.3),
					inset 0 0 20px rgba(255, 0, 128, 0.05);
			}
			.asset-name {
				font-size: 20px;
				font-weight: bold;
				color: #00ffff;
				text-shadow: 0 0 10px rgba(0, 255, 255, 0.6);
			}
			.asset-signal {
				display: flex;
				flex-direction: column;
				align-items: flex-end;
				gap: 5px;
			}
			.asset-signal-action {
				font-size: 16px;
				font-weight: bold;
				text-transform: uppercase;
				padding: 6px 12px;
				border-radius: 4px;
			}
			.asset-signal-action.buy {
				background-color: rgba(0, 255, 136, 0.2);
				color: #00ff88;
				text-shadow: 0 0 10px rgba(0, 255, 136, 0.8);
				border: 1px solid rgba(0, 255, 136, 0.4);
			}
			.asset-signal-action.sell {
				background-color: rgba(255, 0, 128, 0.2);
				color: #ff0080;
				text-shadow: 0 0 10px rgba(255, 0, 128, 0.8);
				border: 1px solid rgba(255, 0, 128, 0.4);
			}
			.asset-signal-time {
				font-size: 12px;
				color: rgba(255, 255, 255, 0.5);
			}
			.asset-signal-price {
				font-size: 14px;
				color: rgba(255, 255, 255, 0.7);
			}
			.subscribe-button {
				background: linear-gradient(135deg, #ff00ff 0%, #00ffff 100%);
				color: #fff;
				border: 2px solid rgba(255, 255, 255, 0.3);
				padding: 12px 24px;
				border-radius: 6px;
				font-weight: bold;
				font-size: 16px;
				cursor: pointer;
				transition: all 0.3s ease;
				box-shadow: 
					0 0 15px rgba(255, 0, 255, 0.5),
					0 0 30px rgba(0, 255, 255, 0.3),
					0 4px 12px rgba(0, 0, 0, 0.4);
				text-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
			}
			.subscribe-button:hover {
				transform: translateY(-2px);
				box-shadow: 
					0 0 25px rgba(255, 0, 255, 0.7),
					0 0 50px rgba(0, 255, 255, 0.5),
					0 6px 20px rgba(0, 0, 0, 0.5);
				border-color: rgba(255, 255, 255, 0.6);
			}
			.subscribe-button:disabled {
				opacity: 0.6;
				cursor: not-allowed;
				transform: none;
			}
			
			/* Signal status indicators for asset list */
			.asset-signal-status {
				display: inline-block;
				margin-left: 12px;
				padding: 4px 10px;
				border-radius: 6px;
				font-size: 12px;
				font-weight: bold;
				text-transform: uppercase;
				letter-spacing: 0.5px;
				transition: all 0.3s ease;
			}
			
			.asset-signal-status.buy {
				background: rgba(76, 175, 80, 0.2);
				border: 1px solid rgba(76, 175, 80, 0.6);
				color: #4caf50;
				box-shadow: 0 0 8px rgba(76, 175, 80, 0.4);
			}
			
			.asset-signal-status.sell {
				background: rgba(244, 67, 54, 0.2);
				border: 1px solid rgba(244, 67, 54, 0.6);
				color: #f44336;
				box-shadow: 0 0 8px rgba(244, 67, 54, 0.4);
			}
			
			.asset-signal-status.neutral {
				background: rgba(158, 158, 158, 0.2);
				border: 1px solid rgba(158, 158, 158, 0.6);
				color: #9e9e9e;
				box-shadow: 0 0 8px rgba(158, 158, 158, 0.3);
			}
			
			.asset-signal-status.locked {
				background: rgba(102, 126, 234, 0.2);
				border: 1px solid rgba(102, 126, 234, 0.6);
				color: #667eea;
			}
			
			.asset-signal-status .time-ago {
				font-size: 10px;
				opacity: 0.8;
				margin-left: 4px;
				text-transform: none;
			}
			
			.asset-signal-status .subscribe-mini-btn {
				background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
				color: white;
				border: none;
				padding: 4px 10px;
				border-radius: 4px;
				font-size: 11px;
				font-weight: bold;
				cursor: pointer;
				text-decoration: none;
				display: inline-block;
				transition: all 0.3s ease;
			}
			
			.asset-signal-status .subscribe-mini-btn:hover {
				transform: translateY(-2px);
				box-shadow: 0 4px 12px rgba(102, 126, 234, 0.6);
			}
			
			.subscription-badge {
				display: inline-block;
				padding: 4px 12px;
				background: rgba(76, 175, 80, 0.2);
				color: #4caf50;
				border: 1px solid #4caf50;
				border-radius: 12px;
				font-size: 12px;
				font-weight: bold;
				margin-left: 10px;
			}
			.subscription-modal {
				position: fixed;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				background: rgba(0, 0, 0, 0.95);
				z-index: 10001;
				display: none;
				justify-content: center;
				align-items: center;
				padding: 20px;
			}
			.subscription-modal-content {
				background: var(--bg-color);
				border: 2px solid var(--primary-color);
				border-radius: 12px;
				padding: 40px;
				max-width: 500px;
				text-align: center;
				box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
			}
			.subscription-modal-content h2 {
				color: var(--primary-color);
				margin-top: 0;
				margin-bottom: 20px;
				font-size: 28px;
			}
			.subscription-modal-content p {
				color: rgba(255, 255, 255, 0.9);
				line-height: 1.8;
				margin-bottom: 15px;
			}
			.subscription-features {
				text-align: left;
				margin: 25px 0;
				padding: 20px;
				background: rgba(255, 255, 255, 0.05);
				border-radius: 8px;
			}
			.subscription-features ul {
				list-style: none;
				padding: 0;
				margin: 0;
			}
			.subscription-features li {
				color: rgba(255, 255, 255, 0.9);
				padding: 8px 0;
				padding-left: 25px;
				position: relative;
			}
			.subscription-features li:before {
				content: "‚úì";
				position: absolute;
				left: 0;
				color: #4caf50;
				font-weight: bold;
				font-size: 18px;
			}
			.subscription-pricing {
				background: rgba(76, 175, 80, 0.1);
				border: 2px solid #4caf50;
				border-radius: 8px;
				padding: 20px;
				margin: 25px 0;
			}
			.subscription-pricing .price {
				font-size: 36px;
				font-weight: bold;
				color: #4caf50;
				margin: 10px 0;
			}
			.subscription-pricing .trial {
				color: rgba(255, 255, 255, 0.8);
				font-size: 14px;
				margin-top: 10px;
			}

			/* --- Hard overrides to ensure signals are visible --- */
			.signals-container {
				display: block !important;
				visibility: visible !important;
				opacity: 1 !important;
			}
			
			#bitcoin-dominance-section {
				display: block !important;
				visibility: visible !important;
				opacity: 1 !important;
				pointer-events: auto !important;
				z-index: 200 !important;
				position: relative !important;
				background: rgba(247, 147, 26, 0.3) !important;
				border: 3px solid rgba(247, 147, 26, 1) !important;
				min-height: 600px !important;
				margin: 30px 0 !important;
				padding: 25px !important;
			}
			
			#bitcoin-dominance-section * {
				opacity: 1 !important;
				visibility: visible !important;
			}
			
			#bitcoin-dominance-section h3,
			#bitcoin-dominance-section div {
				color: rgba(255, 255, 255, 1) !important;
			}
			
			#crypto-signals-container,
			#stock-signals-container,
			#signals-grid,
			#stock-signals-grid,
			#old-signals-grid,
			#stock-historical-grid,
			.asset-list-grid {
				visibility: visible !important;
				opacity: 1 !important;
				display: grid !important;
				pointer-events: auto !important;
				z-index: 1;
			}

			/* If a grid is meant to be hidden by JS, JS will set display:none explicitly */
			.signal-card,
			.signal-card * {
				color: #ffffff !important;
				opacity: 1 !important;
				mix-blend-mode: normal !important;
				text-shadow: 0 0 1px rgba(0,0,0,0.4);
			}

			.signal-card {
				background-color: rgba(20, 20, 20, 0.8) !important;
				backdrop-filter: blur(2px);
				position: relative;
				z-index: 2;
			}
		</style>
	</head>
	<body>
		<!-- Disclaimer Modal -->
		<div id="disclaimer-overlay" class="disclaimer-overlay">
			<div class="disclaimer-modal">
				<h2>‚ö†Ô∏è Important Disclaimer</h2>
				<div class="disclaimer-content">
					<div class="disclaimer-warning">
						<strong>NOT FINANCIAL ADVICE:</strong> I am not a certified financial advisor, registered investment advisor, or licensed financial professional. The trading signals displayed on this website are for informational and educational purposes only.
					</div>
					
					<p><strong>Seek Professional Advice:</strong> Before making any investment decisions, you should consult with a qualified financial advisor, accountant, or other professional who can provide advice tailored to your individual circumstances.</p>
					
					<p><strong>Cryptocurrency Volatility:</strong> Cryptocurrencies are among the most volatile assets in the world. Prices can experience extreme fluctuations and may decline by 99% or more. You could lose your entire investment.</p>
					
					<p><strong>SEC & CFTC Disclaimers:</strong></p>
					<ul>
						<li>Past performance does not guarantee future results.</li>
						<li>All investments carry risk of loss, including the potential loss of principal.</li>
						<li>Cryptocurrency markets are largely unregulated and may be subject to manipulation.</li>
						<li>Trading cryptocurrencies involves substantial risk of loss and is not suitable for all investors.</li>
						<li>You should only invest money you can afford to lose.</li>
					</ul>
					
					<p><strong>Risk Management:</strong> Manage your risk accordingly. Never invest more than you can afford to lose. Use proper position sizing, stop-loss orders, and risk management techniques.</p>
					
					<div class="disclaimer-warning">
						<strong>Security Warnings:</strong>
						<ul>
							<li><strong>Hold Your Own Keys:</strong> Always maintain control of your private keys and seed phrases. Never share them with anyone, including this website or any service.</li>
							<li><strong>Website Permissions:</strong> Be extremely careful when granting websites or applications permission to access your cryptocurrency wallets or funds. Only connect to trusted, verified services.</li>
							<li><strong>Phishing Scams:</strong> Be vigilant against phishing scams. Always verify website URLs, never click suspicious links, and never enter your private keys or seed phrases on any website.</li>
							<li><strong>No Liability:</strong> This website and its operators are not responsible for any losses, damages, or security breaches that may occur from using the information displayed here.</li>
						</ul>
					</div>
					
					<p><strong>No Guarantees:</strong> Trading signals are not guarantees of profit. Market conditions can change rapidly, and past signals do not predict future performance.</p>
				</div>
				
				<div class="disclaimer-accept">
					<input type="checkbox" id="disclaimer-checkbox" class="disclaimer-checkbox">
					<label for="disclaimer-checkbox" class="disclaimer-checkbox-label">
						I have read and understand the risks. I agree that I am solely responsible for my investment decisions and will not hold this website or its operators liable for any losses.
					</label>
				</div>
				
				<button id="disclaimer-accept-btn" class="disclaimer-button" disabled>
					Accept & Continue
				</button>
			</div>
		</div>
		
		<!-- Subscription Modal -->
		<div id="subscription-modal" class="subscription-modal">
			<div class="subscription-modal-content">
				<h2>üöÄ Premium Trading Signals</h2>
				<p>Get unlimited access to all trading signals with our premium subscription.</p>
				
				<div class="subscription-pricing">
					<div class="price">$9.99<span style="font-size: 18px; color: rgba(255, 255, 255, 0.7);">/month</span></div>
					<div class="trial">‚ú® 7-Day Free Trial ‚Ä¢ No Credit Card Required</div>
				</div>
				
				<div class="subscription-features">
					<ul>
						<li>Unlimited access to all trading signals</li>
						<li>Real-time crypto and stock signals</li>
						<li>Historical signal analysis</li>
						<li>Asset list with latest signals</li>
						<li>Priority support</li>
					</ul>
				</div>
				
				<button id="start-subscription-btn" class="subscribe-button" onclick="startSubscription()">
					Start 7-Day Free Trial
				</button>
				<button onclick="closeSubscriptionModal()" style="background: transparent; border: 1px solid rgba(255, 255, 255, 0.3); color: rgba(255, 255, 255, 0.7); padding: 10px 20px; border-radius: 6px; margin-top: 15px; cursor: pointer; transition: all 0.3s ease;" onmouseover="this.style.borderColor='rgba(255, 255, 255, 0.5)'; this.style.color='#fff';" onmouseout="this.style.borderColor='rgba(255, 255, 255, 0.3)'; this.style.color='rgba(255, 255, 255, 0.7)';">
					Maybe Later
				</button>
				<div id="subscription-error" style="color: #f44336; margin-top: 15px; display: none;"></div>
			</div>
		</div>
		
		<nav>
			<div id="backing"></div>
			<div class="content">
				<a href="index.html">HOME</a>
				<a href="catalog.html">üéµ CATALOG</a>
				<a href="signals.html">üöÄ Crypto Signals</a>
				<a href="#" onclick="event.preventDefault(); showStockSignals(); return false;">üìà Stock Signals</a>
				<a href="#" onclick="event.preventDefault(); showHistoricalSignals(); return false;">üìú Historical Signals</a>
				<a href="#" onclick="event.preventDefault(); showSubscriptionModal(); return false;" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 6px; padding: 8px 16px; margin-left: 10px;">
					üí≥ Subscribe
				</a>
			</div>
		</nav>
		
		<!-- Floating Right-Side Navigation -->
		<div class="floating-nav">
			<a href="#" onclick="event.preventDefault(); switchToCrypto(); return false;">üöÄ Crypto</a>
			<a href="#" onclick="event.preventDefault(); showStockSignals(); return false;">üìà Stocks</a>
			<a href="#" onclick="event.preventDefault(); showHistoricalSignals(); return false;">üìú Historical</a>
			<a href="#asset-list" onclick="event.preventDefault(); showAssetList(); return false;">üìã Assets</a>
			<a href="#" onclick="event.preventDefault(); showSubscriptionModal(); return false;">üí≥ Subscribe</a>
		</div>
		
		<div class="content signals-container" id="signals-content">
			<!-- Trial Status Banner -->
			<div id="trial-status-banner" style="background: linear-gradient(135deg, rgba(76, 175, 80, 0.2) 0%, rgba(33, 150, 243, 0.2) 100%); border: 2px solid rgba(76, 175, 80, 0.5); border-radius: 12px; padding: 20px; margin-bottom: 30px; text-align: center;">
				<div id="trial-status-message" style="color: #fff; font-size: 16px; font-weight: bold; line-height: 1.6;">
					<!-- Will be populated by JavaScript -->
				</div>
			</div>
			<!-- Email capture (non-blocking, freemium) -->
			<div id="email-capture-banner" style="display: none; background: linear-gradient(135deg, rgba(255, 193, 7, 0.2) 0%, rgba(255, 152, 0, 0.2) 100%); border: 2px solid rgba(255, 193, 7, 0.6); border-radius: 12px; padding: 16px; margin-bottom: 20px;">
				<div style="color: #fff; font-weight: bold; margin-bottom: 8px;">Stay in the loop</div>
				<div style="color: rgba(255,255,255,0.85); font-size: 14px; margin-bottom: 8px;">Enter your email so we can keep your trial consistent across devices.</div>
				<div style="display: flex; gap: 10px; flex-wrap: wrap; align-items: center;">
					<input id="email-capture-input" type="email" placeholder="you@example.com" style="flex: 1 1 240px; min-width: 180px; padding: 10px; border-radius: 6px; border: 1px solid rgba(255,255,255,0.3); background: rgba(0,0,0,0.4); color: #fff;" />
					<button id="email-capture-btn" class="subscribe-button" style="padding: 10px 18px;">Save Email</button>
				</div>
				<div id="email-capture-status" style="color: #4caf50; font-size: 13px; margin-top: 6px; display: none;"></div>
			</div>
			
			<div class="signals-header">
				<h1>üöÄ Crypto Signals</h1>
				<p>Live feed of buy and sell signals from trading strategies</p>
				<div style="margin-top: 15px;">
					<span class="status-indicator active" id="status-indicator"></span>
					<span id="status-text">Connected</span>
					<span style="margin-left: 20px;" id="last-update"></span>
				</div>
			</div>
			
			<!-- Page Navigation -->
			<div id="page-navigation" style="display: flex !important; visibility: visible !important; opacity: 1 !important; justify-content: center; gap: 15px; margin: 30px 0 20px; margin-top: 180px; padding: 20px; background: rgba(0, 0, 0, 0.7); border-radius: 8px; flex-wrap: wrap; z-index: 100;">
				<a href="#asset-list" onclick="event.preventDefault(); showAssetList(); return false;" style="display: inline-block !important; visibility: visible !important; opacity: 1 !important; color: #fff !important; text-decoration: none; padding: 12px 24px; background: rgba(255, 193, 7, 0.8) !important; border: 2px solid #ffc107; border-radius: 6px; font-weight: bold; transition: all 0.3s ease;" onmouseover="this.style.background='rgba(255, 193, 7, 1)'; this.style.transform='translateY(-2px)'" onmouseout="this.style.background='rgba(255, 193, 7, 0.8)'; this.style.transform='translateY(0)'">
					üìã List of Assets
				</a>
				<a href="#backtest" style="display: inline-block !important; visibility: visible !important; opacity: 1 !important; color: #fff !important; text-decoration: none; padding: 12px 24px; background: rgba(76, 175, 80, 0.8) !important; border: 2px solid #4caf50; border-radius: 6px; font-weight: bold; transition: all 0.3s ease;" onmouseover="this.style.background='rgba(76, 175, 80, 1)'; this.style.transform='translateY(-2px)'" onmouseout="this.style.background='rgba(76, 175, 80, 0.8)'; this.style.transform='translateY(0)'">
					üìà Backtesting
				</a>
				<a href="#trading-education" style="display: inline-block !important; visibility: visible !important; opacity: 1 !important; color: #fff !important; text-decoration: none; padding: 12px 24px; background: rgba(255, 152, 0, 0.8) !important; border: 2px solid #ffa726; border-radius: 6px; font-weight: bold; transition: all 0.3s ease;" onmouseover="this.style.background='rgba(255, 152, 0, 1)'; this.style.transform='translateY(-2px)'" onmouseout="this.style.background='rgba(255, 152, 0, 0.8)'; this.style.transform='translateY(0)'">
					üí° Trading Education
				</a>
				<a href="#code-explanation" style="display: inline-block !important; visibility: visible !important; opacity: 1 !important; color: #fff !important; text-decoration: none; padding: 12px 24px; background: rgba(156, 39, 176, 0.8) !important; border: 2px solid #ab47bc; border-radius: 6px; font-weight: bold; transition: all 0.3s ease;" onmouseover="this.style.background='rgba(156, 39, 176, 1)'; this.style.transform='translateY(-2px)'" onmouseout="this.style.background='rgba(156, 39, 176, 0.8)'; this.style.transform='translateY(0)'">
					üîß Code Explanation
				</a>
			</div>
			
			<!-- Bitcoin Dominance Indicator -->
			<div id="bitcoin-dominance-section" style="display: block !important; visibility: visible !important; opacity: 1 !important; margin: 30px auto !important; padding: 25px !important; background: rgba(247, 147, 26, 0.3) !important; border: 3px solid #f7931a !important; border-radius: 12px; position: relative !important; z-index: 200 !important; min-height: 600px !important; width: calc(100% - 40px) !important; max-width: 1400px !important; box-shadow: 0 4px 20px rgba(247, 147, 26, 0.4) !important;">
				<div style="display: flex; align-items: center; gap: 20px; margin-bottom: 15px; flex-wrap: wrap;">
					<div style="flex: 1; min-width: 200px;">
						<h3 style="color: #f7931a !important; font-size: 24px; margin-bottom: 10px; opacity: 1 !important; visibility: visible !important;">‚Çø Bitcoin Dominance</h3>
						<div style="color: rgba(255, 255, 255, 0.9) !important; font-size: 14px; opacity: 1 !important; visibility: visible !important;">
							Bitcoin's market capitalization as a percentage of total cryptocurrency market cap
						</div>
					</div>
					<div style="flex-shrink: 0;">
						<img src="img/Bitcoin Dominance image.png" alt="Bitcoin Dominance" style="max-width: 200px; max-height: 500px; width: auto; height: auto; border-radius: 8px; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);">
					</div>
				</div>
				
				<!-- TradingView Bitcoin Dominance Widget -->
				<div class="tradingview-widget-container" style="height: 500px; width: 100%; margin-bottom: 20px;">
					<div class="tradingview-widget-container__widget" style="height: 100%; width: 100%;"></div>
					<script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js" async>
					{
						"autosize": true,
						"symbol": "CRYPTOCAP:BTC.D",
						"interval": "60",
						"timezone": "Etc/UTC",
						"theme": "dark",
						"style": "1",
						"locale": "en",
						"backgroundColor": "rgba(0, 0, 0, 0.3)",
						"gridColor": "rgba(255, 255, 255, 0.1)",
						"hide_top_toolbar": false,
						"hide_legend": false,
						"save_image": false,
						"support_host": "https://www.tradingview.com",
						"studies": [
							{
								"id": "MASimple@tv-basicstudies",
								"inputs": {
									"length": 21,
									"source": "close"
								},
								"overrides": {
									"plot_0.style": 1,
									"plot_0.color": "#ff9800",
									"plot_0.plottype": 2
								}
							}
						]
					}
					</script>
				</div>
				
				<!-- Bitcoin Dominance Warning -->
				<div id="btc-dominance-warning" style="display: none; background: rgba(244, 67, 54, 0.2); border: 2px solid #f44336; padding: 20px; border-radius: 8px; margin-top: 15px;">
					<div style="color: #f44336; font-weight: bold; font-size: 18px; margin-bottom: 10px; display: flex; align-items: center; gap: 10px;">
						<span>üö® RISING BITCOIN DOMINANCE WARNING</span>
					</div>
					<div style="color: rgba(255, 255, 255, 0.95); font-size: 16px; line-height: 1.6;">
						Bitcoin dominance is <strong>trending upwards</strong>, which typically indicates that capital is flowing from altcoins back into Bitcoin.
					</div>
					<div style="color: rgba(255, 255, 255, 0.9); font-size: 15px; margin-top: 12px; padding-top: 12px; border-top: 1px solid rgba(255, 255, 255, 0.2);">
						‚ö†Ô∏è <strong>Exercise extreme caution when taking altcoin long positions</strong> during rising Bitcoin dominance. Consider:
						<ul style="margin: 10px 0 0 20px; padding-left: 10px;">
							<li>Avoiding or reducing altcoin long positions when dominance is rising</li>
							<li>Waiting for Bitcoin dominance to stabilize or decline before entering altcoin longs</li>
							<li>Using tighter stop-losses on any existing altcoin positions</li>
							<li>Focusing on Bitcoin or stablecoins during dominance uptrends</li>
							<li>Remember: When Bitcoin dominance rises, altcoins typically underperform or decline</li>
						</ul>
					</div>
				</div>
				
				<!-- Bitcoin Dominance Info (dynamically updated based on trend) -->
				<div id="btc-dominance-info" style="display: none; background: rgba(76, 175, 80, 0.15); border: 2px solid rgba(76, 175, 80, 0.5); padding: 15px; border-radius: 8px; margin-top: 15px;">
					<!-- Content will be dynamically updated by JavaScript -->
					<div style="color: #9e9e9e; font-weight: bold; font-size: 16px; margin-bottom: 8px;">
						‚è≥ Collecting Data
					</div>
					<div style="color: rgba(255, 255, 255, 0.9); font-size: 14px; line-height: 1.6;">
						Collecting Bitcoin dominance data to determine trend. Check back in a few minutes.
					</div>
				</div>
			</div>
			
			<div id="live-signals"></div>
			
			<!-- Crypto Signals (Recent - Last 1 Day) -->
			<div id="crypto-signals-container" style="display: block;">
				<h2 style="color: var(--primary-color); font-size: 28px; margin: 40px 0 20px; text-align: center;">üöÄ Crypto Signals</h2>
			<div id="signals-grid" class="signals-grid" style="background: rgba(255,0,0,0.1); border: 2px dashed rgba(255,255,255,0.3); padding: 20px; min-height: 50px; margin-bottom: 0 !important;">
				<div class="loading">‚è≥ Waiting for signals...</div>
				</div>
			</div>
			
			<!-- Stock Signals (Recent - Last 7 Days) - Hidden by default -->
			<div id="stock-signals-container" style="margin: 40px 0; padding: 0; display: none;">
				<h2 style="color: var(--primary-color); font-size: 28px; margin: 40px 0 20px; text-align: center;">üìä Stock Signals</h2>
				<p style="color: rgba(255, 255, 255, 0.6); font-size: 14px; text-align: center; margin-bottom: 20px; max-width: 800px; margin-left: auto; margin-right: auto;">
					Stocks and ETFs are long-term plays, so signals remain valid for extended periods. Recent stock signals from the past week are shown below.
				</p>
				
				<!-- Watchlist Section -->
				<div id="watchlist-section" style="margin: 30px 0; padding: 25px; background: rgba(255, 193, 7, 0.1); border: 2px solid rgba(255, 193, 7, 0.5); border-radius: 12px;">
					<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
						<h3 style="color: #ffc107; font-size: 24px; margin: 0;">‚≠ê My Watchlist</h3>
						<button id="request-notification-btn" style="display: none; background: rgba(255, 193, 7, 0.2); border: 1px solid #ffc107; color: #ffc107; padding: 8px 16px; border-radius: 6px; cursor: pointer; font-size: 14px;">
							üîî Enable Notifications
						</button>
					</div>
					<p style="color: rgba(255, 255, 255, 0.7); font-size: 14px; margin-bottom: 15px;">
						Get browser notifications and sound alerts when your watched symbols change signals. Click the ‚≠ê button on any signal card to add it to your watchlist.
					</p>
					<div id="watchlist-items" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 10px; min-height: 50px;">
						<div style="color: rgba(255, 255, 255, 0.5); text-align: center; padding: 20px; font-style: italic;">
							No symbols in watchlist yet. Add symbols using the ‚≠ê button on signal cards.
						</div>
					</div>
				</div>
				
			<!-- Market Breadth Indicator -->
			<div id="market-breadth-section" style="margin: 30px 0; padding: 25px; background: rgba(156, 39, 176, 0.1); border: 2px solid rgba(156, 39, 176, 0.5); border-radius: 12px;">
				<div style="text-align: center; margin-bottom: 15px;">
					<h3 style="color: #9c27b0; font-size: 24px; margin-bottom: 10px;">üìä Market Breadth Indicator</h3>
					<div style="color: rgba(255, 255, 255, 0.7); font-size: 14px; margin-bottom: 15px;">
						Percentage of scanned assets showing BUY vs SELL signals based on multi-indicator analysis
					</div>
				</div>
				<div id="market-breadth-content" style="min-height: 80px;">
					<div style="color: rgba(255, 255, 255, 0.6); text-align: center; padding: 20px;">Loading market breadth...</div>
				</div>
			</div>
			
			<!-- Top 3 Signals Section with Thresholds -->
			<div id="top-signals-section" style="margin: 30px 0; padding: 25px; background: rgba(33, 150, 243, 0.1); border: 2px solid rgba(33, 150, 243, 0.5); border-radius: 12px;">
					<div style="text-align: center; margin-bottom: 20px;">
						<h3 style="color: var(--primary-color); font-size: 24px; margin-bottom: 15px;">üèÜ Top 3 Stock Signals (Best of the Day)</h3>
						<div style="background: rgba(0, 0, 0, 0.3); padding: 15px; border-radius: 8px; margin-bottom: 15px; border-left: 4px solid #ffc107;">
							<div style="color: #ffc107; font-weight: bold; font-size: 16px; margin-bottom: 8px;">üìä Signal Thresholds Explained</div>
							<div style="color: rgba(255, 255, 255, 0.9); font-size: 14px; line-height: 1.6;">
								<strong>BUY Threshold:</strong> ‚â•16/38 indicators (‚âà42%) must agree<br>
								<strong>SELL Threshold:</strong> ‚â•13/37 indicators (‚âà35%) must agree<br>
								<span style="color: rgba(255, 255, 255, 0.7); font-size: 13px; display: block; margin-top: 8px;">
									üí° These are the <strong>best signals</strong> from today's scan, even if they don't meet the full threshold. 
									On quiet market days, these represent the strongest setups available.
								</span>
							</div>
						</div>
					</div>
					
					<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px;">
						<!-- Top 3 BUY Signals -->
						<div style="background: rgba(76, 175, 80, 0.15); border: 2px solid rgba(76, 175, 80, 0.5); border-radius: 8px; padding: 20px;">
							<h4 style="color: #4caf50; font-size: 20px; margin-bottom: 15px; text-align: center;">üü¢ Top 3 BUY Signals</h4>
							<div style="color: rgba(255, 255, 255, 0.6); text-align: center; font-size: 12px; margin-bottom: 10px; font-style: italic;">No data on weekends, stock market closed.</div>
							<div id="top-buy-signals" style="min-height: 100px;">
								<div style="color: rgba(255, 255, 255, 0.6); text-align: center; padding: 20px;">Loading...</div>
							</div>
						</div>
						
						<!-- Top 3 SELL Signals -->
						<div style="background: rgba(244, 67, 54, 0.15); border: 2px solid rgba(244, 67, 54, 0.5); border-radius: 8px; padding: 20px;">
							<h4 style="color: #f44336; font-size: 20px; margin-bottom: 15px; text-align: center;">üî¥ Top 3 SELL Signals</h4>
							<div style="color: rgba(255, 255, 255, 0.6); text-align: center; font-size: 12px; margin-bottom: 10px; font-style: italic;">No data on weekends, stock market closed.</div>
							<div id="top-sell-signals" style="min-height: 100px;">
								<div style="color: rgba(255, 255, 255, 0.6); text-align: center; padding: 20px;">Loading...</div>
							</div>
						</div>
					</div>
				</div>
				
				<div id="stock-signals-grid" class="signals-grid" style="background: rgba(76, 175, 80, 0.1); border: 2px solid rgba(76, 175, 80, 0.3); padding: 20px; min-height: 50px;">
					<div class="loading">‚è≥ Loading stock signals...</div>
				</div>
			</div>
			
			<!-- Asset List Section - Hidden by default -->
			<div id="asset-list"></div>
			<div id="asset-list-container" style="margin: 40px 0; padding: 0; display: none;">
				<h2 style="color: var(--primary-color); font-size: 28px; margin: 40px 0 20px; text-align: center;">üìã Asset List - Latest Signals</h2>
				<p style="color: rgba(255, 255, 255, 0.6); font-size: 14px; text-align: center; margin-bottom: 30px; max-width: 800px; margin-left: auto; margin-right: auto;">
					Find your favorite asset below to see its most recent trading signal. This view shows the latest signal for each asset, making it easy to check the current status of any asset you're tracking.
				</p>
				
				<!-- Crypto Assets List -->
				<div style="margin-bottom: 40px;">
					<h3 style="color: var(--primary-color); font-size: 24px; margin-bottom: 20px; text-align: center;">üíé Cryptocurrencies</h3>
					<div id="crypto-asset-list" class="asset-list-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 15px; margin-bottom: 30px;">
						<div class="loading">‚è≥ Loading crypto assets...</div>
					</div>
				</div>
				
				<!-- Stock Assets List -->
				<div>
					<h3 style="color: var(--primary-color); font-size: 24px; margin-bottom: 20px; text-align: center;">üìà Stocks & ETFs</h3>
					<div id="stock-asset-list" class="asset-list-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 15px;">
						<div class="loading">‚è≥ Loading stock assets...</div>
					</div>
				</div>
			</div>
			
			<!-- Backtest Results Section -->
			<div id="backtest"></div>
			<div class="backtest-section" style="display: block !important; visibility: visible !important; opacity: 1 !important; margin: 10px 0 0px 0 !important; padding: 40px 20px; background: rgba(76, 175, 80, 0.15); border-radius: 12px; border: 3px solid #4caf50;">
				<h2 style="color: #f1cfab; font-size: 32px; margin-bottom: 15px; text-align: center; display: block !important; visibility: visible !important;">
					üìà Backtest Performance
				</h2>
				
				<div style="display: block !important; visibility: visible !important; margin: 30px auto; max-width: 1200px; background: rgba(255, 0, 0, 0.1); padding: 20px;">
					<img src="img/Best%20backtest%2030m.png" 
					     alt="Best Backtest Results - 30 Minute Timeframe" 
					     style="display: block !important; visibility: visible !important; opacity: 1 !important; width: 100%; height: auto; border-radius: 8px; box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4); border: 3px solid #4caf50;"
					     onerror="console.error('Image failed to load:', this.src); this.style.border='5px solid red'; this.style.background='yellow'; alert('IMAGE LOAD ERROR: ' + this.src);">
				</div>
				
				<!-- Detailed Explanation -->
				<div style="display: block !important; visibility: visible !important; opacity: 1 !important; margin-top: 30px; text-align: left; max-width: 1000px; margin-left: auto; margin-right: auto; background: rgba(0, 0, 0, 0.5); padding: 30px; border-radius: 8px; border-left: 4px solid #f1cfab;">
					<p style="display: block !important; visibility: visible !important; color: rgba(255, 255, 255, 0.95); font-size: 16px; line-height: 1.8; margin-bottom: 15px;">
						Now I could <strong>lie to you</strong> and tell you that this is real. Unfortunately this is overly optimistic because of repainting. 
						<strong>HOWEVER</strong>, I started to ponder how I could solve the problem.
					</p>
					
					<p style="color: rgba(255, 255, 255, 0.9); font-size: 16px; line-height: 1.8; margin-bottom: 15px;">
						<strong style="color: #4caf50;">The solution:</strong> Delay the bot intentionally to have it look back in time to see if the signal was <strong>REAL</strong> and to crunch the numbers on historical data that can <strong>NO LONGER BE CHANGED</strong>. On the backend, I have preliminary signals that fire, but they will only be shown on this website once enough time has passed by, and once enough signal confluence becomes true. 
					</p>
					
					<p style="color: rgba(255, 255, 255, 0.9); font-size: 16px; line-height: 1.8; margin-bottom: 15px;">
						This is a big reason that led to the <strong style="color: var(--primary-color);">double filtering strategy</strong>‚Äîfirst TradingView, then have Python code to help watch the trade to make sure everything is going to plan and it is not a repainting volatile fake-out. The other big reason for Python code? <strong style="color: #ab47bc;">Sophisticated AI algorithms that are not possible in TradingView.</strong>
					</p>
					
					<div style="background: rgba(244, 67, 54, 0.15); border: 2px solid #ef5350; padding: 25px; border-radius: 8px; margin: 20px 0;">
						<p style="color: rgba(255, 255, 255, 0.95); font-size: 18px; line-height: 1.8; margin: 0; font-weight: bold;">
							That being said, <span class="roi-animated">447,623,973,008% ROI</span><span class="roi-money-emoji">üí∞</span> with 
							<span style="color: #4caf50;">83.87% accuracy</span>, 
							<span style="color: #ffa726;">14.362 Profit Factor</span> is <strong>INSANE</strong>, and I am <strong>INSANE</strong> for giving this away for FREE. 
							When Blackrock finds out about this, they'll certainly make me "sleep with the fishes." üêüüíÄ
							Even if I am an idiot that's bad at math: the bot performing 10x WORSE than this IS STILL turning ONE DOLLAR into $44,700,000 ü§Ø. Broker commissions INCLUDED at 0.07%.
						</p>
					</div>
					
					<p style="color: rgba(255, 255, 255, 0.9); font-size: 16px; line-height: 1.8; margin-bottom: 15px;">
						<strong>Still need more proof?</strong> I ran <strong style="color: #42a5f5;">Monte Carlo tests</strong>. That means I even ran the bot through <em>alternate versions of history</em>. What if Bitcoin was at $2 right now, would the bot still have made money? <strong style="color: #4caf50;">Yes</strong>, the bot is still successful in alternate versions of history, so I didn't shoot the arrow first and then draw a bullseye around it. This helps to avoid future knowledge or over-fitting hard-coded bias.
					</p>
					
					<p style="color: rgba(255, 255, 255, 0.9); font-size: 16px; line-height: 1.8; margin-bottom: 0;">
						<strong>In fact, the backtests were so good that I caused TradingView to have errors</strong> and I had to start putting the starting capital at <strong style="color: var(--primary-color);">$1.00</strong>. 
						If I put $1,000 starting capital, <span style="color: #f44336; font-weight: bold;">TradingView's UI would break!</span> 
						<span style="background: rgba(255, 193, 7, 0.2); padding: 2px 8px; border-radius: 4px; font-weight: bold;">Also, that backtest image is from 3 years ago, we are now up to 350,000+ lines of code and we have created a monster. Imagine what I can do now!</span> üöÄ
					</p>
				</div>
				
				<p style="color: rgba(255, 255, 255, 0.6); font-size: 14px; margin-top: 30px; font-style: italic; text-align: center;">
					Past performance does not guarantee future results. All trading involves risk. 
					See full disclaimer for important risk information.
				</p>
			</div>
			
			<!-- Signal Timing & Repainting Explanation -->
			<div id="trading-education"></div> <!-- Manual edit to trading education. double check my work to make sure I didn't break anything.-->
			<div class="indicators-section" style="margin-top: 0px !important; background: rgba(76, 175, 80, 0.1); border: 2px solid #4caf50;">
				<div class="indicators-header">
					<h2>üí° How to Use These Signals</h2>
				</div>
				
				<div class="indicators-content">
					<div class="indicator-category" style="background: rgba(76, 175, 80, 0.05);">
						<h3 style="color: #4caf50;">üìä Understanding Multiple Signals</h3>
						<div style="background: rgba(33, 150, 243, 0.1); border-left: 4px solid #2196f3; padding: 20px; margin-bottom: 20px; border-radius: 4px;">
							<p style="color: rgba(255, 255, 255, 0.9); margin-bottom: 15px; line-height: 1.6;">
								<strong>You may notice multiple signals appearing at the same time for a given ticker. This is a feature, not a bug.</strong>
							</p>
							<p style="color: rgba(255, 255, 255, 0.85); margin-bottom: 15px; line-height: 1.6;">
								The System uses <strong>built-in position sizing</strong> based on how many indicators are confirming the signal. When multiple indicators align, it indicates stronger conviction, and the system automatically scales position size accordingly.
							</p>
							<ul style="color: rgba(255, 255, 255, 0.85); line-height: 1.8;">
								<li><strong>Buy positions can be pyramided up to 3 times</strong> - As more indicators confirm the signal, additional buy signals may appear, allowing you to scale into the position with increasing confidence. The different tickers all trading is position sizing even more. If multiple signals fire on different assets, that scales in even more. A perfect dollar-cost-average strategy.</li>
								<li><strong>Sells are always 100% of the position</strong> - When a sell signal appears, it represents a complete exit of the position, regardless of how many buy signals were used to build it</li>
								<li><strong>More signals = Higher conviction</strong> - Multiple simultaneous signals indicate stronger confluence and higher probability setups</li>
							</ul>
						</div>
						
						<h3 style="color: #4caf50;">üéØ Signal Timing Philosophy</h3>
						
						<h4>Wait for Confirmation (Recommended)</h4>
						<ul>
							<li><strong>Don't rush the entry</strong> - Give signals a few hours to confirm the move is real. Consider starting with a smaller position (25-50% of your intended size) and adding to it as the move confirms through price action, additional indicators, or time. This scaling approach lets you participate while managing risk.
							<br><br>
							Being 3-12 hours late on the signal is actually a good thing, and is the sweet spot IF the directional bias seems to be playing out correctly. The more time passes by, the more the massive suite of indicators get carved into stone and can't be undone.
							<br><br>
							<strong>Understanding "Repainting":</strong> There's a phenomenon called repainting, which is when live prices are moving so fast that the signal "changes its mind." In order to mitigate repainting, consider slowly scaling in as you feel the move gets more and more confirmed. Of course, the market is filled with manipulation and "short squeezes," so this thinking helps mitigate that risk. 
							<br><br>
							<strong>Reality check:</strong> It's next to impossible to completely eliminate this‚Äîit's just the nature of trading. An asset can have a +50% move and then take it all back in the SAME candle. That's part of the game. This is why we emphasize position sizing and scaling, not all-or-nothing entries.</li>
							<li><strong>Avoid fake-outs</strong> - Extreme volatility can create false signals that reverse quickly</li>
							<li><strong>Let the move develop</strong> - The best traders don't try to catch the perfect bottom or top</li>
							<li><strong>Patience pays</strong> - A confirmed trend is worth more than catching the first tick</li>
						</ul>
						
						<h4>Anti-Repainting Proof</h4>
						<p style="color: rgba(255, 255, 255, 0.8); margin-bottom: 15px;">
							<strong>Repainting</strong> is when trading systems retroactively change or delete past signals to make their performance look better. 
							We explicitly prevent this through transparency:
						</p>
						<ul>
							<li><strong>Permanent timestamps</strong> - Every signal gets an immutable ISO 8601 timestamp the moment it's generated</li>
							<li><strong>Never deleted</strong> - Signals are archived (not removed) after 4 days, providing long-term proof</li>
							<li><strong>The longer signals age</strong> - The more proof they provide that we haven't edited or manipulated them</li>
							<li><strong>GitHub commit history</strong> - Every update to signals.json is version-controlled with commit timestamps</li>
							<li><strong>What you see is what was generated</strong> - No cherry-picking, no editing, no hiding bad calls</li>
						</ul>
						
						<div style="background: rgba(255, 193, 7, 0.1); border-left: 4px solid #ffc107; padding: 20px; margin-top: 20px; border-radius: 4px;">
							<h4 style="color: #ffc107; margin-top: 0;">üí° Professional Trader Mindset</h4>
							<p style="color: rgba(255, 255, 255, 0.9); margin-bottom: 10px;">
								The best traders understand that:
							</p>
							<ul style="margin-bottom: 0;">
								<li><strong>Not every signal will be profitable</strong> - That's trading. Even 55-60% win rate with proper risk management is excellent</li>
								<li><strong>Confirmation > Speed</strong> - Missing the first 2% of a move to gain 80% confidence is a good trade-off</li>
								<li><strong>Risk management matters most</strong> - Use stop-losses and position sizing</li>
								<li><strong>The trend is your friend</strong> - Signals work best when aligned with higher timeframe trends</li>
								<li><strong>Patience wins</strong> - Let high-probability setups come to you rather than forcing trades</li>
							</ul>
						</div>
					</div>
				</div>
			</div>
			
			<!-- Stock vs Crypto Strategy Advice -->
			<div class="indicators-section" style="margin-top: 40px; background: rgba(156, 39, 176, 0.1); border: 2px solid rgba(156, 39, 176, 0.5);">
				<div class="indicators-header">
					<h2>üìà Stock Strategy vs Crypto Strategy</h2>
				</div>
				
				<div class="indicators-content">
					<div class="indicator-category" style="background: rgba(156, 39, 176, 0.05);">
						<div style="background: rgba(156, 39, 176, 0.1); border-left: 4px solid #9c27b0; padding: 20px; margin-bottom: 20px; border-radius: 4px;">
							<p style="color: rgba(255, 255, 255, 0.9); margin-bottom: 15px; line-height: 1.6;">
								<strong>The stock strategy is different code than crypto. The stock strategy emphasizes trend while the crypto strategy is much more of a mean reversion strategy.</strong>
							</p>
							<ul style="color: rgba(255, 255, 255, 0.85); line-height: 1.8;">
								<li><strong>Buy into strength for stocks</strong> - Stocks mostly trend forever. When you see a strong uptrend signal, the momentum is likely to continue. Follow the trend and add to positions as they move in your favor.</li>
								<li><strong>Buy into weakness for crypto</strong> - Crypto is much more of a roller coaster ride. Mean reversion strategies work better here. When crypto drops significantly, that's often the best time to buy, as it tends to bounce back.</li>
								<li><strong>Different mindsets</strong> - Stocks reward trend-following patience. Crypto rewards contrarian thinking and buying the dip.</li>
							</ul>
						</div>
					</div>
				</div>
			</div>
			
			<!-- Benefits Section -->
			<div class="indicators-section" style="margin-top: 40px;">
				<div class="indicators-header">
					<h2>üöÄ Why This Is Different</h2>
				</div>
				
				<div class="indicators-content">
					<div class="indicator-category" style="background: rgba(76, 175, 80, 0.1); border: 2px solid rgba(76, 175, 80, 0.3); padding: 25px; border-radius: 12px;">
						<h3 style="color: #4caf50; margin-top: 0;">üí∞ Become a Quant Trader Without the Complexity</h3>
						<ul style="color: rgba(255, 255, 255, 0.9); font-size: 18px; line-height: 1.8; margin-bottom: 20px; padding-left: 25px;">
							<li><strong>Access institutional-grade trading signals</strong> in the most lucrative asset class in human history</li>
							<li><strong>Large funds don't trade crypto</strong> - creating a huge opportunity for retail traders</li>
							<li><strong>No math or coding experience required</strong> - only $9.99</li>
							<li><strong>Massive opportunity cost</strong> of manually staring at charts all day instead of focusing on family, friends, and your career</li>
							<li><strong>Human emotions are your enemy:</strong> Can you really stay emotionless after losing $5,000 in a month? Will you avoid revenge trading?</li>
							<li><strong>AI outperforms human traders:</strong> Can you buy when crypto drops -50% even when analysis says you should? Can you sell when everyone's bragging about gains?</li>
							<li><strong>Chart > News:</strong> The chart tells the story, not the news. Big players use news to make you buy tops and sell bottoms</li>
							<li><strong>AI is revealing Wall Street's secrets:</strong> This secretive industry is finally being democratized</li>
						</ul>
						
						<div style="background: rgba(244, 67, 54, 0.1); border-left: 4px solid #f44336; padding: 20px; margin: 20px 0; border-radius: 4px;">
							<h4 style="color: #f44336; margin-top: 0;">‚ö†Ô∏è Stay Safe: Watch Out for Scams</h4>
							<p style="color: rgba(255, 255, 255, 0.9); margin-bottom: 10px;">
								<strong>Be careful of the scams that say you can make 2 ETH a day with arbitrage.</strong> 99% of them are scams trying to trick you into downloading their wallet drainer. These malicious programs can drain your entire crypto wallet the moment you connect it.
							</p>
							<p style="color: rgba(255, 255, 255, 0.9); margin-bottom: 0;">
								<strong>No sketchy code to download or install that can drain your account.</strong> Simply visit this page to take advantage of institutional hedge fund grade code tirelessly hunting down the best trades for you.
							</p>
						</div>
						
						<div style="background: rgba(33, 150, 243, 0.1); border-left: 4px solid #2196f3; padding: 20px; margin-top: 20px; border-radius: 4px;">
							<h4 style="color: #2196f3; margin-top: 0;">‚úÖ What Makes This Safe and Legitimate</h4>
							<ul style="color: rgba(255, 255, 255, 0.9); margin-bottom: 0;">
								<li><strong>No downloads required</strong> - Just visit this page, no software to install. I will never ask for passwords/seed phrase. Never share these to anyone. Pro tip: Have a separate device with only $100 of crypto with a fresh seed phrase for "exploring".</li>
								<li><strong>No wallet connections</strong> - We never ask you to connect your wallet</li>
								<li><strong>Transparent signals</strong> - All signals are publicly visible with permanent timestamps</li>
								<li><strong>Institutional-grade code</strong> - Professional trading algorithms working 24/7</li>
								<li><strong>Simple subscription</strong> - Just $9.99/month for access to all signals through secure https payment with Stripe. (crypto payments coming soon!). I'm not hiding behind an alias Moonboy777, I'm using my legal name. Bloomberg Terminal costs $2,500 a month, Refinitiv $2,200 a month, Motley Fool $2,000 a year, TrendSpider $1,500 a year, TradingView Premium $599 a year, Trading courses are often $3,000+. You'll spend more on coffee this month than this costs. </li>
							</ul>
						</div>
					</div>
				</div>
			</div>
			
			<!-- Ticker Symbols Section -->
			<div id="code-explanation"></div>
			<div class="indicators-section" style="margin-top: 40px;">
				<div class="indicators-header">
					<h2>Assets Traded</h2>
					<p>We focus on a curated selection of assets to ensure quality analysis and signal generation. Below are the specific ticker symbols we actively monitor and trade.</p>
				</div>
				
				<div class="indicators-content">
					<div class="indicator-category">
						<h3>CRYPTOCURRENCIES</h3>
						<p style="color: rgba(255, 255, 255, 0.8); margin-bottom: 15px;">Cryptocurrency selection is based on extensive backtesting analysis. These tokens have demonstrated the strongest historical performance and signal reliability in the trading system:</p>
						<ul>
							<li data-symbol="ETH/USD"><strong>ETH/USD</strong> - Ethereum: The second-largest cryptocurrency and leading smart contract platform, powering the majority of DeFi and NFT ecosystems <span class="asset-signal-status"></span></li>
							<li data-symbol="SOL/USD"><strong>SOL/USD</strong> - Solana: High-performance blockchain with fast transaction speeds and low fees, popular for DeFi and NFT applications <span class="asset-signal-status"></span></li>
							<li data-symbol="BONK/USD"><strong>BONK/USD</strong> - Bonk: Meme coin on the Solana blockchain with strong community engagement and high volatility <span class="asset-signal-status"></span></li>
							<li data-symbol="CRV/USD"><strong>CRV/USD</strong> - Curve DAO Token: Governance token for Curve Finance, a leading DeFi protocol specializing in stablecoin swaps and liquidity pools <span class="asset-signal-status"></span></li>
							<li data-symbol="SUI/USD"><strong>SUI/USD</strong> - Sui: Next-generation blockchain platform designed for high throughput and low latency, focusing on gaming and DeFi applications <span class="asset-signal-status"></span></li>
							<li data-symbol="AERO/USD"><strong>AERO/USD</strong> - Aerodrome: DeFi protocol token on Base blockchain, providing liquidity and yield farming opportunities <span class="asset-signal-status"></span></li>
							<li data-symbol="FET/USD"><strong>FET/USD</strong> - Fetch.ai: AI-powered blockchain platform enabling autonomous economic agents and machine learning applications <span class="asset-signal-status"></span></li>
							<li data-symbol="RNDR/USD"><strong>RNDR/USD</strong> - Render Token: Decentralized GPU rendering network connecting artists with distributed computing power for 3D rendering <span class="asset-signal-status"></span></li>
							<li data-symbol="AAVE/USD"><strong>AAVE/USD</strong> - Aave: Leading DeFi lending protocol token, enabling users to lend and borrow cryptocurrencies with competitive interest rates <span class="asset-signal-status"></span></li>
						</ul>
						<p style="color: rgba(255, 255, 255, 0.6); font-size: 0.9em; margin-top: 10px; font-style: italic;">These cryptocurrencies were selected based on comprehensive backtesting results showing optimal signal performance and trading outcomes.</p>
					</div>
					
					<div class="indicator-category">
						<h3>STOCKS & ETFs</h3>
						<p style="color: rgba(255, 255, 255, 0.8); margin-bottom: 15px;">Stock strategy focuses on sector ETFs, benchmarks, and select individual stocks:</p>
						<h4>US Sector ETFs</h4>
						<ul>
							<li data-symbol="XLK"><strong>XLK</strong> - Technology Select Sector SPDR Fund <span class="asset-signal-status"></span></li>
							<li data-symbol="XLY"><strong>XLY</strong> - Consumer Discretionary Select Sector SPDR Fund <span class="asset-signal-status"></span></li>
							<li data-symbol="XLP"><strong>XLP</strong> - Consumer Staples Select Sector SPDR Fund <span class="asset-signal-status"></span></li>
							<li data-symbol="XLI"><strong>XLI</strong> - Industrial Select Sector SPDR Fund <span class="asset-signal-status"></span></li>
							<li data-symbol="XLB"><strong>XLB</strong> - Materials Select Sector SPDR Fund <span class="asset-signal-status"></span></li>
							<li data-symbol="XLRE"><strong>XLRE</strong> - Real Estate Select Sector SPDR Fund <span class="asset-signal-status"></span></li>
							<li data-symbol="XLU"><strong>XLU</strong> - Utilities Select Sector SPDR Fund <span class="asset-signal-status"></span></li>
							<li data-symbol="XLC"><strong>XLC</strong> - Communication Services Select Sector SPDR Fund <span class="asset-signal-status"></span></li>
							<li data-symbol="XLF"><strong>XLF</strong> - Financial Select Sector SPDR Fund <span class="asset-signal-status"></span></li>
							<li data-symbol="XLV"><strong>XLV</strong> - Health Care Select Sector SPDR Fund <span class="asset-signal-status"></span></li>
							<li data-symbol="XLE"><strong>XLE</strong> - Energy Select Sector SPDR Fund <span class="asset-signal-status"></span></li>
						</ul>
						<h4>Specialized Sectors</h4>
						<ul>
							<li data-symbol="SOXX"><strong>SOXX</strong> - iShares Semiconductor ETF <span class="asset-signal-status"></span></li>
						</ul>
						<h4>Individual Stocks</h4>
						<ul>
							<li data-symbol="NVDA"><strong>NVDA</strong> - NVIDIA Corporation <span class="asset-signal-status"></span></li>
						</ul>
						<h4>Benchmarks</h4>
						<ul>
							<li data-symbol="SPY"><strong>SPY</strong> - SPDR S&P 500 ETF Trust <span class="asset-signal-status"></span></li>
						</ul>
						<h4>Precious Metals</h4>
						<ul>
							<li data-symbol="GLD"><strong>GLD</strong> - SPDR Gold Trust <span class="asset-signal-status"></span></li>
							<li data-symbol="SLV"><strong>SLV</strong> - iShares Silver Trust <span class="asset-signal-status"></span></li>
							<li data-symbol="PPLT"><strong>PPLT</strong> - Aberdeen Standard Physical Platinum Shares ETF <span class="asset-signal-status"></span></li>
							<li data-symbol="PALL"><strong>PALL</strong> - Aberdeen Standard Physical Palladium Shares ETF <span class="asset-signal-status"></span></li>
						</ul>
						<h4>Energy</h4>
						<ul>
							<li data-symbol="USO"><strong>USO</strong> - United States Oil Fund <span class="asset-signal-status"></span></li>
						</ul>
						<h4>International & Credit</h4>
						<ul>
							<li data-symbol="EEM"><strong>EEM</strong> - iShares MSCI Emerging Markets ETF <span class="asset-signal-status"></span></li>
							<li data-symbol="PCEF"><strong>PCEF</strong> - Invesco CEF Income Composite ETF <span class="asset-signal-status"></span></li>
							<li data-symbol="HYG"><strong>HYG</strong> - iShares iBoxx $ High Yield Corporate Bond ETF <span class="asset-signal-status"></span></li>
						</ul>
						<h4>Country/Region ETFs</h4>
						<ul>
							<li data-symbol="MCHI"><strong>MCHI</strong> - iShares MSCI China ETF <span class="asset-signal-status"></span></li>
							<li data-symbol="INDA"><strong>INDA</strong> - iShares MSCI India ETF <span class="asset-signal-status"></span></li>
							<li data-symbol="EWJ"><strong>EWJ</strong> - iShares MSCI Japan ETF <span class="asset-signal-status"></span></li>
							<li data-symbol="EWG"><strong>EWG</strong> - iShares MSCI Germany ETF <span class="asset-signal-status"></span></li>
							<li data-symbol="EWT"><strong>EWT</strong> - iShares MSCI Taiwan ETF <span class="asset-signal-status"></span></li>
						</ul>
					</div>
				</div>
			</div>
			
			<!-- Indicator Inventory Section -->
			<div class="indicators-section">
				<div class="indicators-header">
					<h2>üìä Comprehensive Indicator Analysis</h2>
					<p>Trading signals are generated using a sophisticated multi-indicator confluence approach (as you are about to see, it is a seemingly never-ending list of indicators).</p>
				</div>
				
				<div class="indicators-content">
					<div class="indicator-category">
						<h3>TREND INDICATORS</h3>
						<h4>Moving Averages</h4>
						<ul>
							<li><strong>EMA (Exponential Moving Average)</strong>
								<ul>
									<li>Fast EMA (12-period) - short-term trend</li>
									<li>Slow EMA (26-period) - medium-term trend</li>
									<li>EMA 13 - megabot trend direction</li>
									<li>EMA 21 - megabot secondary trend</li>
									<li>EMA 195 - long-term trend filter</li>
								</ul>
							</li>
							<li><strong>SMA (Simple Moving Average)</strong>
								<ul>
									<li>SMA 18 - short-term average</li>
									<li>SMA 20 - standard trend line</li>
									<li>SMA 50 - medium-term trend (BTC halving analysis)</li>
									<li>SMA 200 - long-term trend (BTC halving analysis)</li>
								</ul>
							</li>
							<li><strong>Hull Moving Average (HMA)</strong> - Base length 8, scalar 5 - smoothed trend following</li>
							<li><strong>Guppy GMMA (Multiple Moving Averages)</strong> - Multiple EMA layers for trend confirmation</li>
						</ul>
						<h4>Trend Strength & Direction</h4>
						<ul>
							<li><strong>ADX (Average Directional Index)</strong> - Helps the bot avoid getting in and out of trades doring horizontal consildation price action. 14-period ADX for trend strength measurement, ADX thresholds: 7-8 for shorts, 8+ for longs, ADX Divergence - price vs trend strength divergence</li>
							<li><strong>Parabolic SAR</strong> - Acceleration 0.02, maximum 0.2 - dynamic stop and reverse</li>
							<li><strong>Ichimoku Cloud</strong> - Tenkan (9-period), Kijun (26-period), Senkou A/B (52-period), Chikou span, cloud thickness analysis, comprehensive trend system with support/resistance</li>
							<li><strong>SuperTrend</strong> - ATR-based trend following with dynamic stop levels, Factor 3.0, ATR period 10, SuperTrend Slope Divergence - price vs trend slope divergence</li>
							<li><strong>Directional Movement</strong> - +DI and -DI components for trend direction, DX (Directional Index) calculation</li>
						</ul>
						<h4>Advanced Trend Detection</h4>
						<ul>
							<li><strong>Parabola Detection</strong> - Mathematical curve fitting (quadratic regression), R¬≤ confidence threshold (0.70 default), Deviation threshold (2% default), ATR and ADX filtered parabola detection, Persistent parabola signals with duration tracking</li>
							<li><strong>MegaBot Crossover System</strong> - Higher timeframe close vs open crossover (720-minute default), 34-period SMA on higher timeframe, Multi-timeframe trend confirmation</li>
						</ul>
					</div>
					
					<div class="indicator-category">
						<h3>MOMENTUM INDICATORS</h3>
						<h4>Oscillators</h4>
						<div style="background: rgba(33, 150, 243, 0.1); border-left: 4px solid #2196f3; padding: 15px; margin-bottom: 20px; border-radius: 4px;">
							<h4 style="color: #2196f3; margin-top: 0; font-size: 16px;">üîç Understanding Divergences (Simple Explanation)</h4>
							<p style="color: rgba(255, 255, 255, 0.9); margin-bottom: 10px; line-height: 1.6;">
								<strong>What is a divergence?</strong> A divergence occurs when the price moves in one direction, but the underlying buying or selling pressure moves in the opposite direction. 
							</p>
							<p style="color: rgba(255, 255, 255, 0.85); margin-bottom: 0; line-height: 1.6;">
								<strong>In simple terms:</strong> We're finding moments where there are fewer buyers (or less buying pressure), yet the price still went up. This is a warning sign that the price move might be weak or unsustainable. 
								Conversely, if prices are falling but buying pressure is increasing, it could signal a potential reversal. Divergences help us spot when price movements might be running out of steam before the average trader notices. The added beauty of this: less hard-coding (knowing history too well A.K.A. over-fitting) and it is a more robust strategy between asset classes.
							</p>
						</div>
						<ul>
							<li><strong>RSI (Relative Strength Index)</strong> - 14-period standard RSI, 7-period fast RSI (SuperTrend variant), 21-period slow RSI (SuperTrend variant), RSI Divergence (regular and hidden bullish/bearish), RSI momentum filter for regime detection</li>
							<li><strong>Stochastic RSI</strong> - 14-period RSI, 14-period stochastic, 3-period smoothing, Stochastic RSI Divergence (regular and hidden)</li>
							<li><strong>Stochastic Oscillator</strong> - Standard momentum indicator comparing closing price to price range over a period, %K and %D lines, overbought/oversold conditions (TradingView Technical Rating component)</li>
							<li><strong>MACD (Moving Average Convergence Divergence)</strong> - MACD1: Fast 12, Slow 26, Signal 9 (standard), MACD2 (Impulse MACD / LazyBear): 34-period SMMA-based, MACD Histogram analysis, MACD Divergence (regular and hidden), MACD crossover signals (up/down, above/below zero)</li>
							<li><strong>Williams %R</strong> - 14-period momentum oscillator (-100 to 0 scale), Williams %R Divergence</li>
							<li><strong>CCI (Commodity Channel Index)</strong> - 20-period CCI (-200 to +200 scale), CCI Divergence</li>
							<li><strong>MFI (Money Flow Index)</strong> - 14-period volume-weighted momentum (0-100 scale), MFI Divergence</li>
							<li><strong>ROC (Rate of Change)</strong> - 12-period percentage price change, ROC Divergence</li>
						</ul>
						<h4>Momentum Filters</h4>
						<ul>
							<li><strong>Divergence Analysis</strong> - Price vs indicator divergence detection, Regular and hidden divergences (bullish/bearish), Lookback: 20 periods, min swings: 2, persistence: 3 bars, Applied to: RSI, Stochastic RSI, MACD, CCI, MFI, Williams %R, ROC, OBV, SuperTrend, Bollinger Bands, VROC, ATR</li>
						</ul>
					</div>
					
					<div class="indicator-category">
						<h3>VOLATILITY INDICATORS</h3>
						<h4>Volatility Measurement</h4>
						<ul>
							<li><strong>ATR (Average True Range)</strong> - 14-period ATR for volatility measurement, ATR-SMA(20) for volatility trend, ATR Channels - dynamic support/resistance with squeeze/bounce/breakout, ATR Divergence, ATR Filter - consolidation detection (1111-period, 2.5 threshold)</li>
							<li><strong>Bollinger Bands</strong> - Volatility-based envelope indicator using standard deviation:
								<ul>
									<li><strong>How it works:</strong> Middle band is 20-period SMA, upper/lower bands are ¬±2.0 standard deviations from the middle band</li>
									<li><strong>Configuration:</strong> 20-period, 2.0 standard deviations</li>
									<li><strong>Analysis features:</strong> Band width analysis, Bollinger Band Width Divergence, Squeeze detection (threshold 0.1), Bounce detection (threshold 0.2)</li>
									<li><strong>Purpose:</strong> Identifies overbought/oversold conditions and volatility expansion/compression - bands widen during high volatility and contract during low volatility</li>
								</ul>
							</li>
							<li><strong>Keltner Channels</strong> - Volatility-based envelope indicator using ATR:
								<ul>
									<li><strong>How it works:</strong> Middle band is 20-period EMA, upper/lower bands are ¬±2.0 ATR from the middle band</li>
									<li><strong>Configuration:</strong> 20-period EMA, 2.0 ATR multiplier</li>
									<li><strong>Analysis features:</strong> Squeeze detection (threshold 0.1), Bounce detection (threshold 0.2)</li>
									<li><strong>Purpose:</strong> Similar to Bollinger Bands but uses ATR instead of standard deviation, providing trend-following support/resistance levels that adapt to volatility - used in TTM Squeeze detection</li>
								</ul>
							</li>
							<li><strong>TTM Squeeze</strong> - Volatility compression indicator that compares Bollinger Bands (2.0 std dev) to Keltner Channels (1.0 ATR multiplier), 20-period default:
								<ul>
									<li><strong>How it works:</strong> When Bollinger Bands are inside Keltner Channels (BB < KC), volatility is compressed, indicating a potential explosive move is building</li>
									<li><strong>Calculation:</strong> Compares BB upper band (SMA + 2√óstd dev) to KC upper band (EMA + 1√óATR), squeeze detected when difference < 0</li>
									<li><strong>Trading application:</strong> Used as an alternative strength condition to ADX in long entry signals (bear halving periods), can be toggled via <code>gate_allowTTMSqueeze</code></li>
									<li><strong>Strategy purpose:</strong> Identifies low volatility periods (squeezes) that often precede high volatility breakouts, helping time entries before major moves</li>
									<li><strong>Why it matters:</strong> Low volatility periods compress price action, and when the squeeze releases, it often results in strong directional moves - entering during or just after a squeeze can capture these explosive moves</li>
								</ul>
							</li>
							<li><strong>RVOL (Relative Volatility)</strong> - Short-term ATR (5) vs Long-term ATR (14), Threshold 0.78 for volatility alerts</li>
						</ul>
						<h4>Advanced Volatility Analysis</h4>
						<ul>
							<li><strong>GAPO (Gopalakrishnan Range Index)</strong> - Real vs noisy trend detection, Base length 5, Min-Max normalization [-1,1], Z-score normalization with tanh clamping</li>
							<li><strong>Hurst Exponent</strong> (referenced for future implementation)</li>
							<li><strong>Detrended Price Oscillator</strong> (referenced for future implementation)</li>
						</ul>
					</div>
					
					<div class="indicator-category">
						<h3>VOLUME INDICATORS</h3>
						<h4>Volume Analysis</h4>
						<ul>
							<li><strong>Volume SMA Ratio</strong> - 20-period volume vs 20-period SMA, Volume confirmation threshold (1.1x default)</li>
							<li><strong>VWAP (Volume Weighted Average Price)</strong> - Daily session VWAP, VWAP deviation analysis</li>
							<li><strong>OBV (On-Balance Volume)</strong> - 14-period cumulative volume flow, OBV Divergence (regular and hidden)</li>
							<li><strong>Volume Profile</strong> - High Volume Nodes (HVN) - strong support/resistance, Low Volume Nodes (LVN) - breakout zones, Volume trend analysis</li>
							<li><strong>VROC (Volume Rate of Change)</strong> - 10-period volume momentum, VROC SMA and momentum analysis, VROC Divergence</li>
						</ul>
					</div>
					
					<div class="indicator-category">
						<h3>SUPPORT & RESISTANCE INDICATORS</h3>
						<h4>Dynamic Levels</h4>
						<ul>
							<li><strong>Donchian Channels</strong> - 20-period high/low breakout system</li>
							<li><strong>Support/Resistance Detection</strong> - Pivot-based S/R levels (4-period pivots, max 5 levels), Channel width analysis (10% max), Strength-based ranking (min strength 2), Most recent resistance tracking, Underneath resistance detection (0.1-2% band)</li>
							<li><strong>Fibonacci Retracements</strong> - 0.382, 0.500, 0.618, 0.764, 0.854 levels, 150-bar lookback for high/low, Fib 0.382 avoid-long band (1% underneath)</li>
							<li><strong>Round Number Avoidance</strong> - Unique indicator that identifies psychologically significant price levels. For example, BTC crossing $20,000 or $100,000 is a HUGE event and many traders pile in limit sell orders around those zones. Only trades once price is convincingly above or below the round number by 1%. Multiples of 50, 100, 1000, 10000 are monitored with proximity range (3 points default).</li>
						</ul>
					</div>
					
					<div class="indicator-category">
						<h3>CANDLESTICK PATTERNS üìä</h3>
						<h4>Pattern Recognition Suite</h4>
						<ul>
							<li><strong>Shooting Star</strong> üêª üìâ - Long top wick (Bearish)</li>
							<li><strong>Bull Hammer</strong> üêÇ üìà - Long bottom wick (Bullish)</li>
							<li><strong>Marubozu</strong> - Full bodied candle (strong directional signal)</li>
							<li><strong>Doji</strong> - Flat candle (indecision)</li>
							<li><strong>Engulfing</strong> - Next candle overtakes the previous (strong reversal signal)</li>
							<li><strong>3 Bull Soldiers</strong> üêÇ üìà - 3 green candles in a row (strong bullish momentum)</li>
							<li><strong>3 Bear Soldiers</strong> üêª üìâ - 3 red candles in a row (strong bearish momentum)</li>
						</ul>
						<div style="background: rgba(255, 193, 7, 0.1); border-left: 4px solid #ffc107; padding: 15px; margin-top: 15px; border-radius: 4px;">
							<h4 style="color: #ffc107; margin-top: 0; font-size: 16px;">üí° Unique Anti-Trade Approach</h4>
							<p style="color: rgba(255, 255, 255, 0.9); margin-bottom: 10px; line-height: 1.6;">
								<strong>The clever twist:</strong> Candlestick patterns are sometimes used as <strong>anti-trades</strong> rather than direct signals. 
							</p>
							<p style="color: rgba(255, 255, 255, 0.85); margin-bottom: 0; line-height: 1.6;">
								For example, if a bearish shooting star appears, we do <strong>NOT</strong> take a long trade. This approach recognizes that candlestick patterns can be medicore signals on their own because they can just be noise on low timeframes. 
								Instead, we use them to filter out bad trades - if a bearish pattern forms, we avoid bullish entries, and vice versa. This helps prevent entering trades when the market structure suggests weakness.
							</p>
						</div>
						<h4>Pattern Filters</h4>
						<ul>
							<li><strong>Body size threshold</strong> - 10% of range minimum</li>
							<li><strong>Lower lows confirmation</strong> - Pattern validation</li>
							<li><strong>Star pattern detection</strong> - 78.6% threshold for wick-to-body ratio</li>
						</ul>
					</div>
					
					<div class="indicator-category">
						<h3>ELLIOTT WAVE ANALYSIS</h3>
						<h4>Wave Patterns</h4>
						<ul>
							<li><strong>Motive Waves (1-2-3-4-5)</strong> - Bullish and bearish impulse patterns, Wave vaAdvicelidation (W3 != min of W1, W3, W5), Wave structure confirmation</li>
							<li><strong>Corrective Waves (A-B-C)</strong> - Bullish and bearish corrective patterns, Fibonacci-based validation (0.854 threshold), Box pattern for corrective waves</li>
							<li><strong>Wave Invalidation</strong> - Dot pattern for invalidated waves, Break detection (box breakouts)</li>
							<li><strong>Fibonacci Extensions</strong> - 0.500, 0.618, 0.764, 0.854 levels, Wave-based Fibonacci projections</li>
						</ul>
					</div>
					
					<div class="indicator-category">
						<h3>ADVANCED FILTERS & SIGNALS</h3>
						<h4>Cycle & Frequency Analysis</h4>
						<ul>
							<li><strong>Hilbert Transform</strong> - Cycle length detection, Real and imaginary components, Phase analysis (teal/maroon/silver fills)</li>
							<li><strong>Ehler's Roofing Filter</strong> - High-pass filter (48-period default), Super Smoother Filter (10-period, 2-3 poles), Noise reduction for trend clarity</li>
						</ul>
						<h4>Macro Regime Filters - Huge Edge, many bots can day trade, but can they take the big picture macro enviroment into consideration?</h4>
						<ul>
							<li><strong>Hidden Markov Model (AI System)</strong> - 9-state Gaussian AI machine learning model, Features: Log Returns, Volatility, RSI, MFI, Regime labels: Extreme Bearish ‚Üí Extreme Bullish, Regime persistence tracking, Transition probability analysis. Essentially, you feed AI years of .csv data, open, high, low, close, returns and indicators and it answers these questions: How long to bear/bull regimes last? What are typical returns? What is the probability of changing or persisting in the current regime. Obviously this is an edge because a human can't meaningfully analyze hundreds of thousands of data points in a giant .csv file. Many indicators say AI because it is a buzzword that sells well, which is true, but their code doesn't actually use AI. This is <span class="sparkle-ml">ACTUALLY MACHINE LEARNING!</span></li>
							<li><strong>Regime Filter (BTC Halving)</strong> - Weekly timeframe EMA(20), Market price vs EMA + 0.25 ATR, RSI momentum filter (70 threshold, optional), Bullish/bearish/caution counters</li>
							<li><strong>Bearish Counter (Extended Downturn Detection)</strong> - Unique timing indicator that counts consecutive bearish bars to identify prolonged market downturns:
								<ul>
									<li><strong>How it works:</strong> Tracks consecutive bars where market conditions are bearish (price below higher timeframe EMA + 0.25 ATR, and RSI(7) below momentum threshold)</li>
									<li><strong>Counter logic:</strong> Increments on each bearish bar, resets to 0 when conditions become bullish or caution</li>
									<li><strong>Trading application:</strong> Used in long entry conditions requiring <code>bearishCounter > 300</code> (default threshold: 300 bars)</li>
									<li><strong>Strategy purpose:</strong> Identifies opportunities to buy after extremely lengthy downturns, waiting for extended bearish periods before entering long positions - essentially "buying the bottom" after sustained selling pressure</li>
									<li><strong>Why it matters:</strong> Prevents premature entries during downtrends by requiring confirmation of a prolonged bearish regime, helping to time entries when markets are oversold and potentially ready for reversal</li>
								</ul>
							</li>
						</ul>
						<h4>Market Structure</h4>
						<ul>
							<li><strong>BTC Halving Cycles</strong> - Halving dates: 2012, 2016, 2020, 2024, Bull run length: 552 bars (4H) / 2208 bars (1H), Pre-halving length: 1100 bars (4H) / 4400 bars (1H), Max bull length: 3312 bars (4H) / 13248 bars (1H), Macro cycle timing filters</li>
						</ul>
					</div>
					
					<div class="indicator-category">
						<h3>STATISTICAL & AI INDICATORS</h3>
						<h4>Statistical Analysis</h4>
						<ul>
							<li><strong>Z-Score</strong> - 20-period Z-score of close price, Standard deviation measurement, Threshold: ¬±2.0 default</li>
							<li><strong>Technical Rating (TradingView)</strong> - TradingView's proprietary multi-indicator rating system:
								<ul>
									<li><strong>Total Rating</strong> - Combined Moving Averages + Technical Indicators score</li>
									<li><strong>Moving Averages Rating</strong> - Multiple MAs (SMA, EMA, WMA) at various periods, price position relative to MAs, MA crossover analysis</li>
									<li><strong>Technical Indicators Rating</strong> - Comprehensive analysis including: RSI, MACD, Stochastic Oscillator, ADX, CCI, Williams %R, MFI, ROC, and other momentum/trend indicators</li>
									<li>Unified scale (-1.0 to +1.0, displayed as percentage), Used for exit conditions when rating drops below thresholds</li>
								</ul>
							</li>
							<li><strong>Sharpe Ratio</strong> - Risk-adjusted return measurement, Benchmark comparison (SPX default)</li>
							<li><strong>Sortino Ratio</strong> - Downside risk-adjusted return, Risk-free rate consideration (2% default)</li>
						</ul>
						<h4>Artificial Intelligence</h4>
						<ul>
							<li><strong>Hidden Markov Model (AI Regime Detection)</strong> - 9-state regime detection, Gaussian emission probabilities, Bayesian Information Criterion (BIC) for model selection, K-Means clustering for regime labeling, Feature standardization (StandardScaler)</li>
						</ul>
					</div>
					
					<div class="indicator-category">
						<h3>TIMING & FILTERS</h3>
						<h4>Time-Based Filters</h4>
						<ul>
							<li><strong>Day-of-Week Filter</strong> - Friday block for buy entries, Sunday night avoidance for shorts</li>
							<li><strong>Bar Confirmation</strong> - 1-bar delay for signal confirmation, Barstate.isconfirmed requirement</li>
							<li><strong>Cooldown Periods</strong> - EMA+JSON cooldown: 360 minutes, Per-symbol execution tracking</li>
						</ul>
						<h4>Risk Management Filters</h4>
						<ul>
							<li><strong>Monte Carlo Skip</strong> - Probabilistic trade skipping (0-100%), Random spread application</li>
							<li><strong>Position Filters</strong> - Flat position requirement for new entries, Bars in position tracking, Bars since no position tracking</li>
							<li><strong>Profit/Loss Filters</strong> - Trade profit percentage tracking, Minimum profit threshold (0.50%), Maximum loss threshold (-1.0%), Average take profit (6.59% in bear markets)</li>
						</ul>
					</div>
					
					<div class="indicator-category">
						<h3>MULTI-TIMEFRAME ANALYSIS</h3>
						<h4>Timeframe Confirmation</h4>
						<ul>
							<li><strong>Multi-Timeframe (MTF) Confirmation</strong> - Daily ‚Üí Weekly ‚Üí Monthly resampling, Strength boost: +50% (weekly), +100% (monthly), MTF alignment indicators</li>
							<li><strong>Higher Timeframe Requests</strong> - 720-minute (12-hour) megabot timeframe, Weekly and monthly confirmations, Lookahead bias prevention</li>
						</ul>
					</div>
					
					<div class="indicator-category">
						<h3>CONVICTION RANKING SYSTEM</h3>
						<p style="color: rgba(255, 255, 255, 0.9); font-size: 16px; margin-bottom: 25px; font-weight: bold;">
							Every signal is ranked by conviction level based on how many layers of analysis confirmed it. 
							More stars = More filters passed = Higher reliability.
						</p>
						
						<div style="background: rgba(33, 150, 243, 0.15); border-left: 4px solid #42a5f5; padding: 20px; margin-bottom: 20px; border-radius: 4px;">
							<h4 style="color: #42a5f5; margin-top: 0;">‚≠ê STANDARD CONVICTION</h4>
							<p style="color: rgba(255, 255, 255, 0.85); margin-bottom: 10px;">
								<strong>Source:</strong> TradingView chart analysis<br>
								<strong>Filters passed:</strong> 100+ technical indicators working together
							</p>
							<p style="color: rgba(255, 255, 255, 0.7); font-size: 14px; margin: 0;">
								These signals have already passed strict confluence requirements on the TradingView platform. 
								Multiple indicators must agree before the signal fires.
							</p>
						</div>
						
						<div style="background: rgba(255, 152, 0, 0.15); border-left: 4px solid #ffa726; padding: 20px; margin-bottom: 20px; border-radius: 4px;">
							<h4 style="color: #ffa726; margin-top: 0;">‚≠ê‚≠ê HIGH CONVICTION</h4>
							<p style="color: rgba(255, 255, 255, 0.85); margin-bottom: 10px;">
								<strong>Source:</strong> TradingView + Python double-filter<br>
								<strong>Additional filters:</strong> EMA trends, volatility checks, risk management
							</p>
							<p style="color: rgba(255, 255, 255, 0.7); font-size: 14px; margin: 0;">
								TradingView signal that passed a second round of filtering in our Python algorithms. 
								Additional confirmation from moving averages, volatility analysis, and risk parameters must all align.
							</p>
						</div>
						
					<div style="background: rgba(156, 39, 176, 0.15); border-left: 4px solid #ab47bc; padding: 20px; margin-bottom: 20px; border-radius: 4px;">
						<h4 style="color: #ab47bc; margin-top: 0;">‚≠ê‚≠ê‚≠ê ULTRA HIGH CONVICTION</h4>
						<p style="color: rgba(255, 255, 255, 0.85); margin-bottom: 10px;">
							<strong>Source:</strong> AI extreme regime + MACD alignment + Volume > SMA + cooldown<br>
							<strong>Rarity:</strong> Only triggered in the strongest market conditions
						</p>
						<p style="color: rgba(255, 255, 255, 0.7); font-size: 14px; margin: 0;">
							The 9-state Hidden Markov Model flags an extreme bullish/bearish regime, then we additionally require MACD in the same direction, above-average volume, and the HMM cooldown to allow it. TradingView confirmation isn‚Äôt required for these, but momentum/volume and cooldown are.
						</p>
					</div>
					
					<div style="background: rgba(244, 67, 54, 0.15); border-left: 4px solid #ef5350; padding: 20px; margin-bottom: 20px; border-radius: 4px;">
						<h4 style="color: #ef5350; margin-top: 0;">‚≠ê‚≠ê‚≠ê‚≠ê BEST CONVICTION</h4>
						<p style="color: rgba(255, 255, 255, 0.85); margin-bottom: 10px;">
							<strong>Source:</strong> TradingView + AI confirmation (maximum confluence)<br>
							<strong>AI layer:</strong> 9-state Hidden Markov Model analyzing market regime
						</p>
						<p style="color: rgba(255, 255, 255, 0.7); font-size: 14px; margin: 0;">
							<strong>The highest conviction signals.</strong> Both TradingView's 100+ technical indicators AND the AI system agree on the signal direction. 
							This maximum confluence means the AI analyzes market structure, volatility patterns, and regime shifts 
							to confirm that TradingView's setup is legitimate. The combination of both systems creates the most reliable signals.
						</p>
					</div>
						
						<div style="background: rgba(255, 193, 7, 0.1); border-left: 4px solid #ffc107; padding: 20px; margin-top: 30px; border-radius: 4px;">
							<h4 style="color: #ffc107; margin-top: 0;">üí° How to Use the Conviction System</h4>
							<ul style="margin-bottom: 0;">
								<li><strong>Position Sizing</strong> - Consider larger positions on higher conviction signals (still maintain proper risk management)</li>
								<li><strong>Entry Timing</strong> - Standard signals may benefit from additional confirmation time.</li>
								<li><strong>Risk Tolerance</strong> - Conservative traders focus on Ultra High and Best; aggressive traders can trade all levels</li>
								<li><strong>Track Performance</strong> - Monitor which conviction levels work best for your trading style and market conditions</li>
								<li><strong>Not Guarantees</strong> - Higher conviction = higher probability, but no signal is perfect. Always use stop-losses.</li>
						</ul>
						</div>
					</div>
					
					<div class="summary-stats">
						<h3>üìà Summary Statistics</h3>
						<ul>
							<li><strong>Trend Indicators</strong>: 15+</li>
							<li><strong>Momentum Indicators</strong>: 20+ (including divergences)</li>
							<li><strong>Volatility Indicators</strong>: 10+</li>
							<li><strong>Volume Indicators</strong>: 8+</li>
							<li><strong>Support/Resistance</strong>: 6+</li>
							<li><strong>Candlestick Patterns</strong>: 8+</li>
							<li><strong>Elliott Wave</strong>: Complete 5-wave + ABC system</li>
							<li><strong>Advanced Filters</strong>: 10+</li>
							<li><strong>Statistical/ML</strong>: 5+</li>
							<li><strong>Timing Filters</strong>: 5+</li>
							<li style="grid-column: 1 / -1; font-size: 20px; font-weight: bold; color: var(--primary-color); margin-top: 10px;"><strong>Total Unique Indicators: 100+</strong></li>
						</ul>
						
						<div class="philosophy-box">
							<h4>Signal Generation Philosophy</h4>
							<p style="color: rgba(255, 255, 255, 0.9); margin-bottom: 15px;">Trading systems employ a <strong>multi-indicator confluence approach</strong> where signals require:</p>
							<ol>
								<li><strong>Multiple confirmations</strong> across different indicator categories</li>
								<li><strong>Timeframe alignment</strong> (daily, weekly, monthly)</li>
								<li><strong>Regime awareness</strong> (HMM, halving cycles, market structure)</li>
								<li><strong>Risk filters</strong> (volatility, volume, timing)</li>
								<li><strong>Pattern recognition</strong> (Elliott Wave, candlesticks, parabola)</li>
								<li><strong>Statistical validation</strong> (Z-scores, Sharpe/Sortino, technical ratings)</li>
							</ol>
							<p style="color: rgba(255, 255, 255, 0.9); margin-top: 15px; font-style: italic;">This comprehensive approach ensures that only <strong>high-conviction signals</strong> with multiple layers of confirmation are generated, reducing false signals and improving trade quality.</p>
						</div>
					</div>
				</div>
			</div>
		</div>
		
		<!-- Stock Historical Signals Section (7+ days old) - Hidden by default -->
		<div id="stock-historical-container" style="margin: 40px 0 !important; padding: 0; display: none;">
			<div style="text-align: center; margin-bottom: 20px;">
				<h2 style="color: var(--primary-color); margin-bottom: 15px;">üìà Historical Stock & ETF Signals (7+ Days Old)</h2>
				<p style="color: rgba(255, 255, 255, 0.5); font-size: 14px; margin-top: 10px; max-width: 600px; margin-left: auto; margin-right: auto;">
					Stock signals older than 7 days are archived here. Stocks are long-term plays, so these signals remain relevant for extended periods.<br>
					<span id="stock-historical-count-display" style="display: block; margin-top: 10px; color: rgba(255, 255, 255, 0.7); font-weight: bold;">(<span id="stock-historical-count">0</span> archived stock signals)</span>
				</p>
			</div>
			
			<div id="stock-historical-grid" class="signals-grid" style="display: grid; background: rgba(76, 175, 80, 0.1); border: 2px solid rgba(76, 175, 80, 0.3); padding: 20px; opacity: 0.8;">
				<!-- Historical stock signals will be rendered here -->
			</div>
		</div>
		
		<!-- Old Signals Section (Crypto 1+ days old) - Hidden by default -->
		<div class="refresh-info" style="display: none;">
			Auto-refreshing every 30 seconds
		</div>
		
		<div id="old-signals-container" style="margin: 20px 0 !important; padding: 0; display: none;">
			<div style="text-align: center; margin-bottom: 20px;">
				<h2 style="color: var(--primary-color); margin-bottom: 15px;">üìú Historical Crypto Signals (1+ Days Old)</h2>
				<p style="color: rgba(255, 255, 255, 0.5); font-size: 14px; margin-top: 10px; max-width: 600px; margin-left: auto; margin-right: auto;">
					Crypto signals older than 1 day are archived here for transparency and backtesting.<br>
					The longer a signal has aged without being edited, the more proof it provides against repainting.
					<span id="old-signals-count-display" style="display: block; margin-top: 10px; color: rgba(255, 255, 255, 0.7); font-weight: bold;">(<span id="old-signals-count">0</span> archived crypto signals)</span>
				</p>
			</div>
			
			<div id="old-signals-grid" class="signals-grid" style="display: grid; background: rgba(0, 0, 0, 0.3); border: 2px solid rgba(255, 255, 255, 0.2); padding: 20px; opacity: 0.7;">
				<!-- Old crypto signals will be rendered here -->
			</div>
		</div>
		
		<!-- Other Tips & Tricks Section -->
		<div class="indicators-section" style="margin: 60px 0 40px 0; background: rgba(33, 150, 243, 0.1); border: 2px solid rgba(33, 150, 243, 0.5);">
			<div class="indicators-header">
				<h2>üí° Other Tips & Tricks</h2>
			</div>
			
			<div class="indicators-content">
				<div class="indicator-category" style="background: rgba(33, 150, 243, 0.05);">
					
					<!-- Tip 1: Liquidity Providing -->
					<div style="background: rgba(76, 175, 80, 0.1); border-left: 4px solid #4caf50; padding: 20px; margin-bottom: 20px; border-radius: 4px;">
						<h3 style="color: #4caf50; margin-top: 0; font-size: 20px; margin-bottom: 12px;">1. üí∞ Liquidity Providing - Own the Casino</h3>
						<p style="color: rgba(255, 255, 255, 0.9); margin-bottom: 12px; line-height: 1.7;">
							Liquidity providing can be very lucrative. This is when you use a self-custodial account to be your own market maker. Two coins are needed, and one of them could be USD stable coin.
						</p>
						<p style="color: rgba(255, 255, 255, 0.85); margin-bottom: 12px; line-height: 1.7;">
							A beginner setup would be <strong>$100 of WETH and $100 of USDC</strong>. Every time people trade, it collects fees, leading to APY from <strong>8% to 1200%+</strong>. Essentially, <strong>don't be a gambler, own the casino instead</strong>.
						</p>
						<p style="color: rgba(255, 255, 255, 0.85); margin-bottom: 0; line-height: 1.7;">
							<strong>The downside?</strong> You may end up entirely in the under performing crypto, but if you keep an eye on it, you could always just readjust that. I recommend <strong>MetaMask and Uniswap</strong> as the way to do this for a beginner, as that is where this concept originated from. Same concept applies to most other blockchains though.
						</p>
					</div>
					
					<!-- Tip 2: Hardware Wallets & Security -->
					<div style="background: rgba(255, 193, 7, 0.1); border-left: 4px solid #ffc107; padding: 20px; margin-bottom: 20px; border-radius: 4px;">
						<h3 style="color: #ffc107; margin-top: 0; font-size: 20px; margin-bottom: 12px;">2. üîí Hardware Wallets & Security</h3>
						<p style="color: rgba(255, 255, 255, 0.9); margin-bottom: 12px; line-height: 1.7;">
							If you have a large portfolio, consider getting a <strong>hardware wallet</strong>, with <strong>Trezor being the most trusted company</strong>.
						</p>
						<p style="color: rgba(255, 255, 255, 0.85); margin-bottom: 12px; line-height: 1.7;">
							Also consider getting a <strong>fireproof safe</strong> and keeping your passwords inside of it. Or buy a <strong>specialized steel cylinder from Trezor</strong> that is designed to punch your passwords into steel.
						</p>
						<p style="color: rgba(255, 255, 255, 0.85); margin-bottom: 0; line-height: 1.7;">
							<strong>Remember:</strong> There is no help desk in crypto, so if you lose your passwords, there is nothing that can be done. <strong>You are the bank</strong>.
						</p>
					</div>
					
					<!-- Tip 3: Bitcoin Dominance -->
					<div style="background: rgba(156, 39, 176, 0.1); border-left: 4px solid #9c27b0; padding: 20px; margin-bottom: 0; border-radius: 4px;">
						<h3 style="color: #9c27b0; margin-top: 0; font-size: 20px; margin-bottom: 12px;">3. üìä Bitcoin Dominance</h3>
						<p style="color: rgba(255, 255, 255, 0.9); margin-bottom: 12px; line-height: 1.7;">
							<strong>Bitcoin dominance</strong> is a chart you can look up on the internet. The higher it goes, the more people go to BTC instead of taking on lots of risk in altcoins.
						</p>
						<p style="color: rgba(255, 255, 255, 0.85); margin-bottom: 0; line-height: 1.7;">
							Perhaps this needs be incorporated more into the trading bot strategy to better understand market cycles and risk appetite.
						</p>
					</div>
					
				</div>
			</div>
		</div>
		
		<script>
			let refreshInterval;
			
			// Disclaimer handling
			function initDisclaimer() {
				const overlay = document.getElementById('disclaimer-overlay');
				const checkbox = document.getElementById('disclaimer-checkbox');
				const acceptBtn = document.getElementById('disclaimer-accept-btn');
				const signalsContent = document.getElementById('signals-content');
				
				// Check if user has already accepted
				const accepted = localStorage.getItem('disclaimer-accepted');
				if (accepted === 'true') {
					overlay.classList.add('disclaimer-hidden');
					return;
				}
				
				// Hide signals content until accepted
				signalsContent.style.display = 'none';
				
				// Enable/disable accept button based on checkbox
				checkbox.addEventListener('change', function() {
					acceptBtn.disabled = !checkbox.checked;
				});
				
				// Handle accept button
				acceptBtn.addEventListener('click', function() {
					if (checkbox.checked) {
						localStorage.setItem('disclaimer-accepted', 'true');
						overlay.classList.add('disclaimer-hidden');
						signalsContent.style.display = 'block';
					}
				});
			}
			
			// Initialize disclaimer on page load
			initDisclaimer();
			
			function formatTimestamp(timestamp) {
				if (!timestamp) return 'N/A';
				try {
					const date = new Date(timestamp);
					return date.toLocaleString('en-US', {
						month: 'short',
						day: 'numeric',
						year: 'numeric',
						hour: '2-digit',
						minute: '2-digit',
						second: '2-digit'
					});
				} catch (e) {
					return timestamp;
				}
			}
			
			function formatPrice(price) {
				if (price === null || price === undefined) return 'N/A';
				return '$' + parseFloat(price).toFixed(4);
			}

			// Helper: pick the first available numeric price field from a signal
			function getSignalPrice(signal) {
				if (!signal) return null;
				const candidates = [
					signal.price,
					signal.avg_price,
					signal.last_price,
					signal.entry_price,
					signal.limit_price,
					signal.close
				];
				for (const c of candidates) {
					const num = parseFloat(c);
					if (!Number.isNaN(num)) return num;
				}
				return null;
			}
			
			function formatQuantity(quantity, symbol) {
				if (quantity === null || quantity === undefined) return 'N/A';
				const qty = parseFloat(quantity);
				const formattedQty = qty.toLocaleString('en-US', {
					minimumFractionDigits: 2,
					maximumFractionDigits: 2
				});
				
				// If quantity is exactly 100, it's likely USD
				if (qty === 100) {
					return formattedQty + ' USD';
				}
				
				// Otherwise, extract asset symbol and show both quantity and asset
				if (symbol) {
					const asset = symbol.split('/')[0]; // Extract "CRV" from "CRV/USD"
					return formattedQty + ' ' + asset;
				}
				
				return formattedQty;
			}
			
			// Function to get emojis for a ticker symbol
			function getSymbolEmojis(symbol) {
				if (!symbol) return '';
				const sym = symbol.toUpperCase();
				
				// Technology (XLK, QQQ)
				if (sym === 'XLK' || sym === 'QQQ') return 'üíª üñ•Ô∏è üì± ü§ñ ‚öôÔ∏è';
				
				// Healthcare (XLV)
				if (sym === 'XLV') return 'üè• üß¨ üíä ü©∫';
				
				// Financials (XLF)
				if (sym === 'XLF') return 'üè¶ üí≥ üí∞ üìä üíº';
				
				// Consumer Discretionary (XLY)
				if (sym === 'XLY') return 'üõçÔ∏è üöó üèñÔ∏è üéÆ üçî';
				
				// Consumer Staples (XLP)
				if (sym === 'XLP') return 'üßÉ üßª üõí üçû ü•´';
				
				// Energy (XLE)
				if (sym === 'XLE') return 'üõ¢Ô∏è ‚õΩ üî• ‚ö° üåç';
				
				// Industrials (XLI)
				if (sym === 'XLI') return 'üè≠ ‚öôÔ∏è üöõ üèóÔ∏è üß±';
				
				// Materials (XLB)
				if (sym === 'XLB') return 'üß± ü™® ‚öíÔ∏è üß™ üßØ';
				
				// Utilities (XLU)
				if (sym === 'XLU') return '‚ö° üí° üîå üö∞ üåä';
				
				// Real Estate (XLRE)
				if (sym === 'XLRE') return 'üè†';
				
				// Communication Services (XLC)
				if (sym === 'XLC') return 'üì°';
				
				// Gold / Precious Metals (GLD, GDX)
				if (sym === 'GLD' || sym === 'GDX') return ' üèÖ ';
				
				// Silver
				if (sym === 'SLV') return 'ü•à ';
				
				// Commodities (DBC, PDBC)
				if (sym === 'DBC' || sym === 'PDBC') return 'üåæ üõ¢Ô∏è ü™® ‚öíÔ∏è';
				
				// Bonds / Fixed Income (TLT, BND)
				if (sym === 'TLT' || sym === 'BND') return 'üè¶  üíµ';
				
				// Treasuries
				if (sym === 'TLT' || sym.includes('TREASURY')) return 'üèõÔ∏è üíµ';
				
				// Dividend / Income ETFs
				if (sym.includes('DIV') || sym.includes('INCOME')) return 'üè¶ üíµ';
				
				// Growth ETFs
				if (sym.includes('GROWTH')) return 'üöÄ üìà üå±';
				
				// Value ETFs
				if (sym.includes('VALUE')) return 'üíé';
				
				// Broad Market (SPY, VTI)
				if (sym === 'SPY' || sym === 'VTI') return 'üåç';
				
				// Small Cap (IWM)
				if (sym === 'IWM') return 'üê£';
				
				// Mid Cap
				if (sym.includes('MID')) return 'üè¢';
				
				// International / Global
				if (sym === 'EEM' || sym === 'MCHI' || sym === 'INDA' || sym === 'EWJ' || sym === 'EWG' || sym === 'EWT') return 'üåç';
				
				// Emerging Markets
				if (sym === 'EEM') return 'üå± üåé üìà';
				
				// Volatility (VIX, UVXY)
				if (sym === 'VIX' || sym === 'UVXY') return 'üå™Ô∏è ‚ö†Ô∏è üìâ';
				
				// Defensive / Risk-Off
				if (sym.includes('DEFENSIVE') || sym.includes('RISK')) return 'üõ°Ô∏è';
				
				// Crypto / Digital Assets
				if (sym.includes('BTC') || sym === 'BITCOIN') return '‚Çø';
				if (sym.includes('ETH') || sym === 'ETHEREUM') return 'üî∑';
				
				// Semiconductor (SOXX)
				if (sym === 'SOXX') return 'üíª üñ•Ô∏è üì± ü§ñ ‚öôÔ∏è';
				
				// NVIDIA (NVDA)
				if (sym === 'NVDA') return 'üíª üñ•Ô∏è üì± ü§ñ ‚öôÔ∏è';
				
				// Platinum (PPLT)
				if (sym === 'PPLT') return 'ü™ô ‚õèÔ∏è üßà';
				
				// Palladium (PALL)
				if (sym === 'PALL') return 'ü™ô ‚õèÔ∏è üßà';
				
				// Oil (USO)
				if (sym === 'USO') return 'üõ¢Ô∏è ‚õΩ';
				
				// Credit (PCEF, HYG)
				if (sym === 'PCEF' || sym === 'HYG') return 'üè¶ üßæ üíµ';
				
				return '';
			}
			
			// Function to identify if a signal is a stock/ETF (not crypto)
			function isStockSignal(signal) {
				const raw = (signal.symbol || '').trim();
				if (!raw) return false;
				const sym = raw.toUpperCase();
				const normalized = sym.replace(/[-_]/g, '/'); // allow XLK-USD ‚Üí XLK/USD

				// Treat obvious crypto pairs (crypto quote leg) as NOT stocks
				if (normalized.includes('/') && /\/(USD|USDT|USDC|BTC|ETH)$/i.test(normalized)) {
					return false;
				}

				// Plain tickers (e.g., SPY, XLK, NVDA, GLD, SLV, PPLT)
				if (/^[A-Z]{1,6}$/.test(sym)) return true;

				// Ticker with fiat suffix separated by slash (XLK/USD, NVDA/USD)
				const parts = normalized.split('/');
				if (
					parts.length === 2 &&
					/^[A-Z]+$/.test(parts[0]) &&
					parts[0].length <= 6 &&
					['USD', 'USDT', 'USDC'].includes(parts[1])
				) {
					return true;
				}

				// Dot-style tickers (e.g., BRK.B, XLK.US)
				if (/^[A-Z]{1,5}\.[A-Z]{1,3}$/.test(sym)) return true;

				return false;
			}
			
			function switchToCrypto() {
				const cryptoContainer = document.getElementById('crypto-signals-container');
				const stockContainer = document.getElementById('stock-signals-container');
				const assetListContainer = document.getElementById('asset-list-container');
				
				// Show crypto, hide stocks and asset list
				if (cryptoContainer) cryptoContainer.style.display = 'block';
				if (stockContainer) stockContainer.style.display = 'none';
				if (assetListContainer) assetListContainer.style.display = 'none';
				
				// Scroll to crypto section
				setTimeout(() => {
					if (cryptoContainer) {
						cryptoContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
					}
				}, 100);
			}
			
			function switchToStocks() {
				const cryptoContainer = document.getElementById('crypto-signals-container');
				const stockContainer = document.getElementById('stock-signals-container');
				const stockHistoricalContainer = document.getElementById('stock-historical-container');
				const assetListContainer = document.getElementById('asset-list-container');
				
				// Hide crypto and asset list, show stocks
				if (cryptoContainer) cryptoContainer.style.display = 'none';
				if (stockContainer) stockContainer.style.display = 'block';
				if (stockHistoricalContainer) stockHistoricalContainer.style.display = 'block';
				if (assetListContainer) assetListContainer.style.display = 'none';
				
				// Scroll to stock signals section
					setTimeout(() => {
					if (stockContainer) {
						stockContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
					}
					}, 100);
			}
			
			function showStockSignals() {
				// Redirect to the new navigation system
				switchToStocks();
			}
			
			function showHistoricalSignals() {
				const oldContainer = document.getElementById('old-signals-container');
				const oldGrid = document.getElementById('old-signals-grid');
				
				if (!oldContainer) return;
				
				// Toggle visibility
				if (oldContainer.style.display === 'none' || oldContainer.style.display === '') {
					// Show historical crypto signals
					oldContainer.style.display = 'block';
					if (oldGrid) {
						oldGrid.style.display = 'grid';
					}
					// Scroll to the historical signals section
					setTimeout(() => {
						oldContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
					}, 100);
				} else {
					// Hide historical signals
					oldContainer.style.display = 'none';
					if (oldGrid) {
						oldGrid.style.display = 'none';
					}
					// Scroll back to top
					window.scrollTo({ top: 0, behavior: 'smooth' });
				}
			}
			
			function showAssetList() {
				const assetListContainer = document.getElementById('asset-list-container');
				const cryptoContainer = document.getElementById('crypto-signals-container');
				const stockContainer = document.getElementById('stock-signals-container');
				
				if (!assetListContainer) return;
				
				// Hide other sections
				if (cryptoContainer) cryptoContainer.style.display = 'none';
				if (stockContainer) stockContainer.style.display = 'none';
				
				// Show asset list
				assetListContainer.style.display = 'block';
				
				// Scroll to asset list
				setTimeout(() => {
					assetListContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
				}, 100);
				
				// Render the asset list if we have signals
				if (window.allSignals && window.allSignals.length > 0) {
					renderAssetList(window.allSignals);
				}
			}
			
			function renderAssetList(signals) {
				if (!signals || signals.length === 0) {
					document.getElementById('crypto-asset-list').innerHTML = '<div class="empty-state"><p>No signals available</p></div>';
					document.getElementById('stock-asset-list').innerHTML = '<div class="empty-state"><p>No signals available</p></div>';
					return;
				}
				
				// Create a map to store the most recent signal per asset
				const assetMap = new Map();
				
				// Process all signals to find the most recent one per asset
				signals.forEach(signal => {
					const symbol = signal.symbol || '';
					const timestamp = new Date(signal.timestamp || signal.received_at).getTime();
					const price = getSignalPrice(signal);
					
					// Check if we already have a signal for this asset
					if (!assetMap.has(symbol) || timestamp > assetMap.get(symbol).timestamp) {
						assetMap.set(symbol, {
							symbol: symbol,
							action: signal.action || 'unknown',
							price: price,
							timestamp: timestamp,
							note: signal.note || '',
							source: signal.source || ''
						});
					}
				});
				
				// Separate crypto and stocks
				const cryptoAssets = [];
				const stockAssets = [];
				
				assetMap.forEach((assetData, symbol) => {
					if (isStockSignal({ symbol: symbol })) {
						stockAssets.push(assetData);
					} else {
						cryptoAssets.push(assetData);
					}
				});
				
				// Sort alphabetically
				cryptoAssets.sort((a, b) => a.symbol.localeCompare(b.symbol));
				stockAssets.sort((a, b) => a.symbol.localeCompare(b.symbol));
				
				// Render crypto assets
				const cryptoList = document.getElementById('crypto-asset-list');
				if (cryptoAssets.length === 0) {
					cryptoList.innerHTML = '<div class="empty-state"><p>No cryptocurrency signals available</p></div>';
				} else {
					cryptoList.innerHTML = cryptoAssets.map(asset => renderAssetItem(asset)).join('');
				}
				
				// Render stock assets
				const stockList = document.getElementById('stock-asset-list');
				if (stockAssets.length === 0) {
					stockList.innerHTML = '<div class="empty-state"><p>No stock signals available</p></div>';
				} else {
					stockList.innerHTML = stockAssets.map(asset => renderAssetItem(asset)).join('');
				}
			}
			
			function renderAssetItem(asset) {
				const isBuy = asset.action.toLowerCase() === 'buy';
				const actionClass = isBuy ? 'buy' : 'sell';
				const actionEmoji = isBuy ? 'üü¢ üìà' : 'üî¥ üìâ';
				
				// Get emojis for this symbol
				const symbolEmojis = getSymbolEmojis(asset.symbol);
				const symbolDisplay = symbolEmojis ? `${symbolEmojis} ${asset.symbol}` : asset.symbol;
				
				// Determine conviction badge
				let signalBadge = '';
				let signalClass = '';
				const note = asset.note || '';
				if (note.includes('Pure JSON Trade')) {
					signalBadge = '‚≠ê';
					signalClass = 'confluence-pure';
				} else if (note.includes('EMA + JSON')) {
					signalBadge = '‚≠ê‚≠ê';
					signalClass = 'confluence-ema';
			} else if (note.includes('HMM + JSON')) {
				signalBadge = '‚≠ê‚≠ê‚≠ê‚≠ê';
				signalClass = 'confluence-hmm';
			} else if (note.includes('HMM Extreme')) {
				signalBadge = '‚≠ê‚≠ê‚≠ê';
				signalClass = 'confluence-extreme';
			}
				
				const isWatched = isInWatchlist(asset.symbol);
				const watchButtonHtml = `
					<button class="watch-button ${isWatched ? 'watched' : ''}" 
							onclick="toggleWatchlist('${asset.symbol.replace(/'/g, "\\'")}'); event.stopPropagation();"
							title="${isWatched ? 'Remove from watchlist' : 'Add to watchlist'}"
							style="background: ${isWatched ? 'rgba(255, 193, 7, 0.3)' : 'rgba(255, 255, 255, 0.1)'}; 
								   border: 1px solid ${isWatched ? '#ffc107' : 'rgba(255, 255, 255, 0.3)'}; 
								   color: ${isWatched ? '#ffc107' : 'rgba(255, 255, 255, 0.7)'}; 
								   padding: 4px 8px; 
								   border-radius: 4px; 
								   cursor: pointer; 
								   font-size: 16px;
								   transition: all 0.2s;">
						${isWatched ? '‚≠ê' : '‚òÜ'}
					</button>
				`;
				
				return `
					<div class="asset-list-item ${actionClass}">
						<div>
							<div style="display: flex; align-items: center; gap: 8px;">
								<div class="asset-name">${symbolDisplay}</div>
								${watchButtonHtml}
							</div>
							${asset.price !== null && asset.price !== undefined ? `
								<div class="asset-signal-price">${formatPrice(asset.price)}</div>
							` : ''}
						</div>
						<div class="asset-signal">
							<div style="display: flex; align-items: center; gap: 8px;">
								<span class="asset-signal-action ${actionClass}">${actionEmoji} ${asset.action.toUpperCase()}</span>
								${signalBadge ? `<span class="confluence-badge ${signalClass}" style="font-size: 12px;">${signalBadge}</span>` : ''}
							</div>
							<div class="asset-signal-time">${formatTimestamp(new Date(asset.timestamp))}</div>
						</div>
					</div>
				`;
			}
			
			function renderMarketBreadth(signals) {
				// Extract stock signals only
				const stockSignals = signals.filter(s => isStockSignal(s));
				
				if (stockSignals.length === 0) {
					document.getElementById('market-breadth-content').innerHTML = 
						'<div style="color: rgba(255, 255, 255, 0.6); text-align: center; padding: 20px;">No stock signals available for market breadth analysis</div>';
					return;
				}
				
				// Constants for thresholds (same as Top 3)
				const BUY_THRESHOLD = 16;  // ‚â•16/38 (‚âà42%)
				const SELL_THRESHOLD = 13; // ‚â•13/37 (‚âà35%)
				
				// Calculate market breadth
				let totalSymbols = 0;
				let buyCount = 0;
				let sellCount = 0;
				let mixedCount = 0;
				let neutralCount = 0;
				
				stockSignals.forEach(signal => {
					// Extract scores
					let buyScore = 0, sellScore = 0;
					
					if (signal.buy_score !== undefined) {
						buyScore = signal.buy_score;
					}
					if (signal.sell_score !== undefined) {
						sellScore = signal.sell_score;
					}
					
					// Try parsing from note if available
					const note = signal.note || '';
					const buyMatch = note.match(/buy\s+(\d+)\/(\d+)/i);
					const sellMatch = note.match(/sell\s+(\d+)\/(\d+)/i);
					
					if (buyMatch) {
						buyScore = parseInt(buyMatch[1]);
					}
					if (sellMatch) {
						sellScore = parseInt(sellMatch[1]);
					}
					
					// Determine if signal meets thresholds
					const hasBuySignal = buyScore >= BUY_THRESHOLD;
					const hasSellSignal = sellScore >= SELL_THRESHOLD;
					
					totalSymbols++;
					
					if (hasBuySignal && hasSellSignal) {
						mixedCount++;
					} else if (hasBuySignal) {
						buyCount++;
					} else if (hasSellSignal) {
						sellCount++;
					} else {
						neutralCount++;
					}
				});
				
				// Calculate percentages
				const buyPct = totalSymbols > 0 ? (buyCount / totalSymbols) : 0;
				const sellPct = totalSymbols > 0 ? (sellCount / totalSymbols) : 0;
				const mixedPct = totalSymbols > 0 ? (mixedCount / totalSymbols) : 0;
				const neutralPct = totalSymbols > 0 ? (neutralCount / totalSymbols) : 0;
				
				// Determine if bearish warning is needed (>50% bearish)
				const isBearish = sellPct > 0.50;
				
				// Render market breadth
				const breadthContainer = document.getElementById('market-breadth-content');
				let warningHtml = '';
				
				if (isBearish) {
					warningHtml = `
						<div style="background: rgba(244, 67, 54, 0.2); border: 2px solid #f44336; padding: 20px; border-radius: 8px; margin-bottom: 15px;">
							<div style="color: #f44336; font-weight: bold; font-size: 18px; margin-bottom: 10px; display: flex; align-items: center; gap: 10px;">
								<span>üö® BEARISH MARKET WARNING</span>
							</div>
							<div style="color: rgba(255, 255, 255, 0.95); font-size: 16px; line-height: 1.6;">
								<strong>${(sellPct * 100).toFixed(0)}% of scanned assets</strong> (${sellCount}/${totalSymbols}) are showing SELL signals. 
								Market breadth indicates <strong>bearish conditions</strong>.
							</div>
							<div style="color: rgba(255, 255, 255, 0.9); font-size: 15px; margin-top: 12px; padding-top: 12px; border-top: 1px solid rgba(255, 255, 255, 0.2);">
								‚ö†Ô∏è <strong>Exercise caution when taking long positions</strong> - even if individual assets show BUY signals, 
								the overall market environment is bearish. Consider:
								<ul style="margin: 10px 0 0 20px; padding-left: 10px;">
									<li>Reducing position sizes on long trades</li>
									<li>Waiting for market breadth to improve before entering new longs</li>
									<li>Using tighter stop-losses to protect capital</li>
									<li>Focusing on defensive assets or cash positions</li>
								</ul>
							</div>
						</div>
					`;
				}
				
				breadthContainer.innerHTML = `
					${warningHtml}
					<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-top: ${isBearish ? '0' : '15px'};">
						<div style="background: rgba(76, 175, 80, 0.15); border: 2px solid rgba(76, 175, 80, 0.5); border-radius: 8px; padding: 15px; text-align: center;">
							<div style="color: #4caf50; font-size: 32px; font-weight: bold; margin-bottom: 5px;">${(buyPct * 100).toFixed(0)}%</div>
							<div style="color: rgba(255, 255, 255, 0.9); font-size: 14px; margin-bottom: 5px;">üü¢ BUY Signals</div>
							<div style="color: rgba(255, 255, 255, 0.7); font-size: 12px;">${buyCount} of ${totalSymbols} assets</div>
						</div>
						<div style="background: rgba(244, 67, 54, 0.15); border: 2px solid rgba(244, 67, 54, 0.5); border-radius: 8px; padding: 15px; text-align: center;">
							<div style="color: #f44336; font-size: 32px; font-weight: bold; margin-bottom: 5px;">${(sellPct * 100).toFixed(0)}%</div>
							<div style="color: rgba(255, 255, 255, 0.9); font-size: 14px; margin-bottom: 5px;">üî¥ SELL Signals</div>
							<div style="color: rgba(255, 255, 255, 0.7); font-size: 12px;">${sellCount} of ${totalSymbols} assets</div>
						</div>
						<div style="background: rgba(255, 193, 7, 0.15); border: 2px solid rgba(255, 193, 7, 0.5); border-radius: 8px; padding: 15px; text-align: center;">
							<div style="color: #ffc107; font-size: 32px; font-weight: bold; margin-bottom: 5px;">${(mixedPct * 100).toFixed(0)}%</div>
							<div style="color: rgba(255, 255, 255, 0.9); font-size: 14px; margin-bottom: 5px;">üü° MIXED Signals</div>
							<div style="color: rgba(255, 255, 255, 0.7); font-size: 12px;">${mixedCount} of ${totalSymbols} assets</div>
						</div>
						<div style="background: rgba(158, 158, 158, 0.15); border: 2px solid rgba(158, 158, 158, 0.5); border-radius: 8px; padding: 15px; text-align: center;">
							<div style="color: #9e9e9e; font-size: 32px; font-weight: bold; margin-bottom: 5px;">${(neutralPct * 100).toFixed(0)}%</div>
							<div style="color: rgba(255, 255, 255, 0.9); font-size: 14px; margin-bottom: 5px;">‚ö™ NEUTRAL</div>
							<div style="color: rgba(255, 255, 255, 0.7); font-size: 12px;">${neutralCount} of ${totalSymbols} assets</div>
						</div>
					</div>
				`;
			}
			
			// Bitcoin Dominance tracking
			async function fetchBitcoinDominance() {
				try {
					const response = await fetch('https://api.coingecko.com/api/v3/global');
					const data = await response.json();
					const btcDominance = data.data.market_cap_percentage.btc;
					return btcDominance;
				} catch (error) {
					console.error('Error fetching Bitcoin dominance:', error);
					return null;
				}
			}
			
			async function updateBitcoinDominanceWarning() {
				try {
					const currentDominance = await fetchBitcoinDominance();
					if (currentDominance === null) {
						return;
					}
					
					// Get stored previous dominance values
					const storedData = localStorage.getItem('btc_dominance_history');
					let dominanceHistory = storedData ? JSON.parse(storedData) : [];
					
					// Add current value with timestamp
					const now = Date.now();
					dominanceHistory.push({
						value: currentDominance,
						timestamp: now
					});
					
					// Keep only last 7 days of data (cleanup old entries)
					const sevenDaysAgo = now - (7 * 24 * 60 * 60 * 1000);
					dominanceHistory = dominanceHistory.filter(entry => entry.timestamp > sevenDaysAgo);
					
					// Save updated history
					localStorage.setItem('btc_dominance_history', JSON.stringify(dominanceHistory));
					
					// Get DOM elements
					const warningDiv = document.getElementById('btc-dominance-warning');
					const infoDiv = document.getElementById('btc-dominance-info');
					
					// Determine trend: rising, falling, or stable
					if (dominanceHistory.length >= 6) {
						const sorted = dominanceHistory.sort((a, b) => a.timestamp - b.timestamp);
						const recent = sorted.slice(-3); // Last 3 entries
						const previous = sorted.slice(-6, -3); // Previous 3 entries
						
						const recentAvg = recent.reduce((sum, e) => sum + e.value, 0) / recent.length;
						const previousAvg = previous.reduce((sum, e) => sum + e.value, 0) / previous.length;
						const change = recentAvg - previousAvg;
						const changePercent = (change / previousAvg) * 100;
						
						// Determine trend: rising if change > 0.5%, falling if change < -0.5%, otherwise stable
						if (changePercent > 0.5) {
							// RISING - Show warning
							if (warningDiv) warningDiv.style.display = 'block';
							if (infoDiv) infoDiv.style.display = 'none';
						} else if (changePercent < -0.5) {
							// FALLING - Show safe to proceed message
							if (warningDiv) warningDiv.style.display = 'none';
							if (infoDiv) {
								infoDiv.style.display = 'block';
								infoDiv.innerHTML = `
									<div style="color: #4caf50; font-weight: bold; font-size: 16px; margin-bottom: 8px;">
										‚úÖ SAFE TO PROCEED - Bitcoin Dominance Declining
									</div>
									<div style="color: rgba(255, 255, 255, 0.9); font-size: 14px; line-height: 1.6;">
										Bitcoin dominance is <strong>trending downwards</strong> (${changePercent.toFixed(2)}% change), which typically indicates capital is flowing from Bitcoin into altcoins. This environment is generally <strong>more favorable for altcoin long positions</strong>.
									</div>
								`;
							}
						} else {
							// STABLE - Show neutral message
							if (warningDiv) warningDiv.style.display = 'none';
							if (infoDiv) {
								infoDiv.style.display = 'block';
								infoDiv.innerHTML = `
									<div style="color: #ffc107; font-weight: bold; font-size: 16px; margin-bottom: 8px;">
										‚öñÔ∏è Bitcoin Dominance Stable
									</div>
									<div style="color: rgba(255, 255, 255, 0.9); font-size: 14px; line-height: 1.6;">
										Bitcoin dominance appears relatively stable (${changePercent.toFixed(2)}% change). This is a neutral environment for altcoin trading. Always use proper risk management regardless of dominance trends.
									</div>
								`;
							}
						}
					} else {
						// Not enough data yet, show neutral message by default
						if (warningDiv) warningDiv.style.display = 'none';
						if (infoDiv) {
							infoDiv.style.display = 'block';
							infoDiv.innerHTML = `
								<div style="color: #9e9e9e; font-weight: bold; font-size: 16px; margin-bottom: 8px;">
									‚è≥ Collecting Data
								</div>
								<div style="color: rgba(255, 255, 255, 0.9); font-size: 14px; line-height: 1.6;">
									Collecting Bitcoin dominance data to determine trend. Check back in a few minutes.
								</div>
							`;
						}
					}
				} catch (error) {
					console.error('Error updating Bitcoin dominance warning:', error);
				}
			}
			
			function renderTop3Signals(signals) {
				// Extract stock signals only
				const stockSignals = signals.filter(s => isStockSignal(s));
				
				console.log('üîç renderTop3Signals - Total signals:', signals.length, 'Stock signals:', stockSignals.length);
				
				// Render market breadth first
				renderMarketBreadth(signals);
				
				if (stockSignals.length === 0) {
					document.getElementById('top-buy-signals').innerHTML = '<div style="color: rgba(255, 255, 255, 0.6); text-align: center; padding: 20px;">No stock signals available</div>';
					document.getElementById('top-sell-signals').innerHTML = '<div style="color: rgba(255, 255, 255, 0.6); text-align: center; padding: 20px;">No stock signals available</div>';
					return;
				}
				
				// Constants for thresholds
				const BUY_THRESHOLD = 16;  // ‚â•16/38 (‚âà42%)
				const SELL_THRESHOLD = 13; // ‚â•13/37 (‚âà35%)
				
				// Extract scores from signals (if available in metadata)
				// Signals might have buy_score, sell_score, total_buy, total_sell in note or metadata
				const signalsWithScores = stockSignals.map(signal => {
					// Try to extract scores from note or metadata
					let buyScore = 0, sellScore = 0, totalBuy = 38, totalSell = 37;
					
					// Check if signal has score metadata
					if (signal.buy_score !== undefined) {
						buyScore = signal.buy_score;
						totalBuy = signal.total_buy_components || 38;
					}
					if (signal.sell_score !== undefined) {
						sellScore = signal.sell_score;
						totalSell = signal.total_sell_components || 37;
					}
					
					// Try parsing from note if available
					const note = signal.note || '';
					const buyMatch = note.match(/buy\s+(\d+)\/(\d+)/i);
					const sellMatch = note.match(/sell\s+(\d+)\/(\d+)/i);
					
					if (buyMatch) {
						buyScore = parseInt(buyMatch[1]);
						totalBuy = parseInt(buyMatch[2]);
					}
					if (sellMatch) {
						sellScore = parseInt(sellMatch[1]);
						totalSell = parseInt(sellMatch[2]);
					}
					
					// Determine action from scores if not explicitly set
					let action = signal.action;
					if (!action || action === '') {
						// If no explicit action, use the higher score to determine
						action = buyScore > sellScore ? 'buy' : (sellScore > buyScore ? 'sell' : 'buy');
					}
					
					return {
						symbol: signal.symbol || 'N/A',
						price: signal.price,
						buyScore: buyScore,
						sellScore: sellScore,
						totalBuy: totalBuy,
						totalSell: totalSell,
						action: action ? action.toLowerCase() : 'buy',
						timestamp: signal.timestamp || signal.received_at,
						sector: signal.sector || 'N/A'
					};
				});
				
				// Sort by buy_score descending - show top 3 regardless of threshold or score value
				// Include all signals, using buy_score to rank them (even if 0)
				const topBuy = signalsWithScores
					.filter(s => {
						// Include if explicitly marked as buy, OR if buy_score >= sell_score (best buy candidates)
						// This ensures we show the "best" buy signals even if scores are low
						return s.action === 'buy' || s.buyScore >= s.sellScore;
					})
					.sort((a, b) => b.buyScore - a.buyScore)
					.slice(0, 3);
				
				// Sort by sell_score descending - show top 3 regardless of threshold or score value
				// Include all signals, using sell_score to rank them (even if 0)
				const topSell = signalsWithScores
					.filter(s => {
						// Include if explicitly marked as sell, OR if sell_score >= buy_score (best sell candidates)
						// This ensures we show the "best" sell signals even if scores are low
						return s.action === 'sell' || s.sellScore >= s.buyScore;
					})
					.sort((a, b) => b.sellScore - a.sellScore)
					.slice(0, 3);
				
				console.log('üìä Top 3 BUY:', topBuy.length, 'Top 3 SELL:', topSell.length);
				
				// Render Top 3 BUY
				const buyContainer = document.getElementById('top-buy-signals');
				if (topBuy.length === 0) {
					buyContainer.innerHTML = '<div style="color: rgba(255, 255, 255, 0.6); text-align: center; padding: 20px;">No BUY signals today<br><small style="font-style: italic;">No data on weekends, stock market closed, or no valid signals.</small></div>';
				} else {
					buyContainer.innerHTML = topBuy.map((signal, idx) => {
						const metThreshold = signal.buyScore >= BUY_THRESHOLD;
						const thresholdStatus = metThreshold 
							? `<span style="color: #4caf50; font-weight: bold;">‚úÖ Met (‚â•${BUY_THRESHOLD})</span>`
							: `<span style="color: #ffc107; font-weight: bold;">‚ö†Ô∏è Need ${BUY_THRESHOLD - signal.buyScore} more (threshold: ‚â•${BUY_THRESHOLD})</span>`;
						
						const symbolEmojis = getSymbolEmojis(signal.symbol);
						const symbolDisplay = symbolEmojis ? `${symbolEmojis} ${signal.symbol}` : signal.symbol;
						
						return `
							<div style="background: rgba(0, 0, 0, 0.3); padding: 15px; margin-bottom: 12px; border-radius: 6px; border-left: 3px solid #4caf50;">
								<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
									<span style="color: #4caf50; font-weight: bold; font-size: 18px;">#${idx + 1} ${symbolDisplay}</span>
									${signal.price ? `<span style="color: #fff; font-weight: bold;">$${parseFloat(signal.price).toFixed(2)}</span>` : ''}
								</div>
								<div style="color: rgba(255, 255, 255, 0.9); font-size: 14px; margin-bottom: 6px;">
									<strong>BUY Score:</strong> ${signal.buyScore}/${signal.totalBuy} ${thresholdStatus}
								</div>
								<div style="color: rgba(255, 255, 255, 0.7); font-size: 13px;">
									SELL: ${signal.sellScore}/${signal.totalSell} | Sector: ${signal.sector}
								</div>
							</div>
						`;
					}).join('');
				}
				
				// Render Top 3 SELL
				const sellContainer = document.getElementById('top-sell-signals');
				if (topSell.length === 0) {
					sellContainer.innerHTML = '<div style="color: rgba(255, 255, 255, 0.6); text-align: center; padding: 20px;">No SELL signals today<br><small style="font-style: italic;">No data on weekends, stock market closed, or no valid signals.</small></div>';
				} else {
					sellContainer.innerHTML = topSell.map((signal, idx) => {
						const metThreshold = signal.sellScore >= SELL_THRESHOLD;
						const thresholdStatus = metThreshold 
							? `<span style="color: #4caf50; font-weight: bold;">‚úÖ Met (‚â•${SELL_THRESHOLD})</span>`
							: `<span style="color: #ffc107; font-weight: bold;">‚ö†Ô∏è Need ${SELL_THRESHOLD - signal.sellScore} more (threshold: ‚â•${SELL_THRESHOLD})</span>`;
						
						const symbolEmojis = getSymbolEmojis(signal.symbol);
						const symbolDisplay = symbolEmojis ? `${symbolEmojis} ${signal.symbol}` : signal.symbol;
						
						return `
							<div style="background: rgba(0, 0, 0, 0.3); padding: 15px; margin-bottom: 12px; border-radius: 6px; border-left: 3px solid #f44336;">
								<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
									<span style="color: #f44336; font-weight: bold; font-size: 18px;">#${idx + 1} ${symbolDisplay}</span>
									${signal.price ? `<span style="color: #fff; font-weight: bold;">$${parseFloat(signal.price).toFixed(2)}</span>` : ''}
								</div>
								<div style="color: rgba(255, 255, 255, 0.9); font-size: 14px; margin-bottom: 6px;">
									<strong>SELL Score:</strong> ${signal.sellScore}/${signal.totalSell} ${thresholdStatus}
								</div>
								<div style="color: rgba(255, 255, 255, 0.7); font-size: 13px;">
									BUY: ${signal.buyScore}/${signal.totalBuy} | Sector: ${signal.sector}
								</div>
							</div>
						`;
					}).join('');
				}
			}
			
			function renderSignals(signals) {
				// Store signals globally so asset list can access them
				window.allSignals = signals;
				
				const grid = document.getElementById('signals-grid'); // Crypto recent
				const oldGrid = document.getElementById('old-signals-grid'); // Crypto historical
				const oldContainer = document.getElementById('old-signals-container'); // Crypto historical container
				const stockGrid = document.getElementById('stock-signals-grid'); // Stock recent
				const stockContainer = document.getElementById('stock-signals-container'); // Stock recent container
				const stockHistoricalGrid = document.getElementById('stock-historical-grid'); // Stock historical
				const stockHistoricalContainer = document.getElementById('stock-historical-container'); // Stock historical container
				
				console.log('renderSignals called with', signals.length, 'signals');
				
				if (!signals || signals.length === 0) {
					grid.innerHTML = '<div class="empty-state"><h3>‚è≥ Waiting for signals...</h3><p>Signals will appear here automatically when your trading bots generate them</p></div>';
					oldContainer.style.display = 'none';
					stockContainer.style.display = 'none';
					stockHistoricalContainer.style.display = 'none';
					return;
				}
				
				// Separate stocks from crypto
				const stockSignals = [];
				const cryptoSignals = [];
				
				signals.forEach(signal => {
					if (isStockSignal(signal)) {
						stockSignals.push(signal);
					} else {
						cryptoSignals.push(signal);
					}
				});
				
				// Process CRYPTO signals: recent (1 day) vs historical (1+ days)
				const oneDayAgo = Date.now() - (1 * 24 * 60 * 60 * 1000);
				const recentCrypto = [];
				const oldCrypto = [];
				
				cryptoSignals.forEach(signal => {
					const timestamp = new Date(signal.timestamp || signal.received_at);
					if (timestamp.getTime() > oneDayAgo) {
						recentCrypto.push(signal);
					} else {
						oldCrypto.push(signal);
					}
				});
				
				// Process STOCK signals: recent (7 days, since stocks are long-term) vs historical (7+ days)
				const sevenDaysAgo = Date.now() - (7 * 24 * 60 * 60 * 1000);
				const recentStocks = [];
				const oldStocks = [];
				
				stockSignals.forEach(signal => {
					const timestamp = new Date(signal.timestamp || signal.received_at);
					if (timestamp.getTime() > sevenDaysAgo) {
						// Stocks from last 7 days are considered recent (long-term plays)
						recentStocks.push(signal);
					} else {
						// Stocks older than 7 days go to historical
						oldStocks.push(signal);
					}
				});
				
				console.log('Crypto - Recent:', recentCrypto.length, 'Old:', oldCrypto.length);
				console.log('Stocks - Recent:', recentStocks.length, 'Historical (7+ days):', oldStocks.length);
				
				// Render CRYPTO signals
				if (recentCrypto.length === 0) {
					grid.innerHTML = '<div class="empty-state"><h3>‚è≥ No recent crypto signals</h3><p>Check historical signals or wait for new signals</p></div>';
				} else {
					renderSignalCards(recentCrypto, grid);
				}
				
				// Render crypto historical (hidden by default)
				if (oldCrypto.length > 0) {
					oldContainer.style.display = 'none';
					document.getElementById('old-signals-count').textContent = oldCrypto.length;
					if (document.getElementById('old-signals-count-display')) {
						document.getElementById('old-signals-count-display').style.display = 'block';
					}
					renderSignalCards(oldCrypto, oldGrid);
				} else {
					oldContainer.style.display = 'none';
				}
				
				// Render STOCK signals (only if user has access - trial active or subscribed)
				if (!hasAccess()) {
					// Trial expired - show paywall
					if (stockGrid) {
						const paymentLinkConfigured = STRIPE_PAYMENT_LINK && STRIPE_PAYMENT_LINK !== 'https://buy.stripe.com/YOUR_PAYMENT_LINK_HERE';
						stockGrid.innerHTML = paymentLinkConfigured 
							? `<div class="empty-state" style="text-align: center; padding: 60px 40px; background: rgba(244, 67, 54, 0.15); border: 3px solid rgba(244, 67, 54, 0.7); border-radius: 12px; margin: 20px 0;">
								<h2 style="color: #fff; font-size: 32px; margin-bottom: 20px; font-weight: bold;">‚è∞ Your Trial Has Expired</h2>
								<p style="color: #fff; font-size: 20px; margin: 20px 0; font-weight: 500;">Your 7-day free trial has ended.</p>
								<p style="color: rgba(255, 255, 255, 0.9); font-size: 18px; margin-bottom: 30px;">Subscribe now to get <strong>permanent access</strong> to all stock signals.</p>
								<a href="${STRIPE_PAYMENT_LINK}" target="_blank" style="display: inline-block; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; padding: 18px 40px; border-radius: 8px; font-size: 20px; font-weight: bold; cursor: pointer; text-decoration: none; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(102, 126, 234, 0.5);" onmouseover="this.style.transform='translateY(-3px)'; this.style.boxShadow='0 6px 25px rgba(102, 126, 234, 0.7)';" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 15px rgba(102, 126, 234, 0.5)';">üí≥ Subscribe Now - $9.99/month</a>
								<p style="color: rgba(255, 255, 255, 0.7); font-size: 14px; margin-top: 20px;">After payment, you'll be redirected back and granted permanent access.</p>
							</div>`
							: '<div class="empty-state" style="text-align: center; padding: 60px 40px; background: rgba(244, 67, 54, 0.15); border: 3px solid rgba(244, 67, 54, 0.7); border-radius: 12px; margin: 20px 0;"><h2 style="color: #fff; font-size: 32px; margin-bottom: 20px; font-weight: bold;">‚è∞ Your Trial Has Expired</h2><p style="color: #fff; font-size: 20px; margin: 20px 0; font-weight: 500;">Your 7-day free trial has ended.</p><p style="color: rgba(255, 255, 255, 0.9); font-size: 18px; margin-bottom: 30px;">Please subscribe to continue viewing stock signals.</p></div>';
					}
					// Hide Top 3 and watchlist sections
					const topSignalsSection = document.getElementById('top-signals-section');
					const watchlistSection = document.getElementById('watchlist-section');
					if (topSignalsSection) {
						topSignalsSection.style.display = 'none';
					}
					if (watchlistSection) {
						watchlistSection.style.display = 'none';
					}
				} else {
					// User has access (trial active or subscribed) - show stock signals
					if (recentStocks.length > 0) {
						renderSignalCards(recentStocks, stockGrid);
						// Render Top 3 signals section
						renderTop3Signals(signals);
						// Stock container visibility controlled by navigation buttons, don't override here
					} else {
						stockGrid.innerHTML = '<div class="empty-state"><h3>‚è≥ No recent stock signals</h3><p>Check historical stock signals or wait for new signals</p></div>';
						// Still try to render Top 3 from all signals
						renderTop3Signals(signals);
						// Stock container visibility controlled by navigation buttons, don't override here
					}
					// Show Top 3 and watchlist sections
					const topSignalsSection = document.getElementById('top-signals-section');
					const watchlistSection = document.getElementById('watchlist-section');
					if (topSignalsSection) {
						topSignalsSection.style.display = 'block';
					}
					if (watchlistSection) {
						watchlistSection.style.display = 'block';
					}
				}
				
				// Render stock historical (hidden by default)
				if (oldStocks.length > 0) {
					stockHistoricalContainer.style.display = 'none';
					document.getElementById('stock-historical-count').textContent = oldStocks.length;
					if (document.getElementById('stock-historical-count-display')) {
						document.getElementById('stock-historical-count-display').style.display = 'block';
					}
					renderSignalCards(oldStocks, stockHistoricalGrid);
				} else {
					stockHistoricalContainer.style.display = 'none';
				}
			}
			
			function renderSignalCards(signals, targetGrid) {
				try {
					const html = signals.map((signal, index) => {
						console.log('Processing signal', index, signal);
						const action = signal.action || 'unknown';
						const isBuy = action.toLowerCase() === 'buy';
						const actionClass = isBuy ? 'buy' : 'sell';
						
						// Determine signal conviction level from note
						let signalBadge = '';
						let signalClass = '';
						const note = signal.note || '';
						if (note.includes('Pure JSON Trade')) {
							signalBadge = '‚≠ê STANDARD CONVICTION';
							signalClass = 'confluence-pure';
						} else if (note.includes('EMA + JSON')) {
							signalBadge = '‚≠ê‚≠ê HIGH CONVICTION';
							signalClass = 'confluence-ema';
					} else if (note.includes('HMM + JSON')) {
						signalBadge = '‚≠ê‚≠ê‚≠ê‚≠ê BEST CONVICTION';
						signalClass = 'confluence-hmm';
					} else if (note.includes('HMM Extreme')) {
						signalBadge = '‚≠ê‚≠ê‚≠ê ULTRA HIGH CONVICTION';
						signalClass = 'confluence-extreme';
					}
						// Skip "Raw JSON signal" - internal only, not shown to users
						
						const symbolEmojis = getSymbolEmojis(signal.symbol);
						const symbolDisplay = symbolEmojis ? `${symbolEmojis} ${signal.symbol || 'N/A'}` : (signal.symbol || 'N/A');
						
						const isWatched = isInWatchlist(signal.symbol);
						const watchButtonHtml = `
							<button class="watch-button ${isWatched ? 'watched' : ''}" 
									onclick="toggleWatchlist('${signal.symbol.replace(/'/g, "\\'")}'); event.stopPropagation();"
									title="${isWatched ? 'Remove from watchlist' : 'Add to watchlist'}"
									style="background: ${isWatched ? 'rgba(255, 193, 7, 0.3)' : 'rgba(255, 255, 255, 0.1)'}; 
										   border: 1px solid ${isWatched ? '#ffc107' : 'rgba(255, 255, 255, 0.3)'}; 
										   color: ${isWatched ? '#ffc107' : 'rgba(255, 255, 255, 0.7)'}; 
										   padding: 4px 8px; 
										   border-radius: 4px; 
										   cursor: pointer; 
										   font-size: 16px;
										   transition: all 0.2s;">
								${isWatched ? '‚≠ê' : '‚òÜ'}
							</button>
						`;
						
						const cardHtml = `
							<div class="signal-card ${actionClass}">
								<div class="signal-header">
									<div style="display: flex; align-items: center; gap: 8px;">
										<span class="signal-symbol">${symbolDisplay}</span>
										${watchButtonHtml}
									</div>
									<div>
										<span class="signal-action ${actionClass}">${isBuy ? 'üü¢ üìà' : 'üî¥ üìâ'} ${action.toUpperCase()}</span>
										${signalBadge ? `<span class="confluence-badge ${signalClass}">${signalBadge}</span>` : ''}
									</div>
								</div>
								<div class="signal-details">
									${signal.price !== null && signal.price !== undefined ? `
										<div class="signal-detail-row">
											<span class="signal-detail-label">Price:</span>
											<span class="signal-detail-value">${formatPrice(signal.price)}</span>
										</div>
									` : ''}
									${signal.source ? `
										<div class="signal-detail-row">
											<span class="signal-detail-label">Source:</span>
											<span class="signal-detail-value">${signal.source}</span>
										</div>
									` : ''}
									${signal.note ? `
										<div class="note-highlight">
											${signal.note.replace(/HMM Extreme/gi, 'AI').replace(/JSON/gi, 'indicator suite')}
										</div>
									` : ''}
								</div>
								<div class="signal-timestamp">
									${formatTimestamp(signal.timestamp || signal.received_at)}
								</div>
							</div>
						`;
						return cardHtml;
					}).join('');
					
					console.log('Generated HTML length:', html.length);
					console.log('First 200 chars of HTML:', html.substring(0, 200));
					console.log('Setting innerHTML...');
					targetGrid.innerHTML = html;
					console.log('innerHTML set. Grid children:', targetGrid.children.length);
					console.log('Grid innerHTML length after set:', targetGrid.innerHTML.length);
					
					// Force a visual test
					if (targetGrid.children.length > 0) {
						console.log('First child element:', targetGrid.children[0]);
						console.log('First child visible?', window.getComputedStyle(targetGrid.children[0]).display);
					}
				} catch (error) {
					console.error('Error in renderSignalCards:', error);
					targetGrid.innerHTML = '<div class="empty-state"><h3>Error rendering signals</h3><p>' + error.message + '</p></div>';
				}
			}
			
			function loadSignals() {
				console.log('Loading signals...');
				// Try to load signals.json (list of all signals)
				fetch('signals/signals.json')
					.then(response => {
						console.log('Response status:', response.status);
						if (!response.ok) {
							// If signals.json doesn't exist, try latest.json
							return fetch('signals/latest.json')
								.then(res => {
									if (!res.ok) throw new Error('No signals file found');
									return res.json();
								})
								.then(data => [data]); // Wrap single signal in array
						}
						return response.json();
					})
					.then(data => {
						console.log('Received data:', data);
				// Only block if trial truly expired
				if (!signalsVisible) {
					console.log('Trial expired: hiding signals');
					hideAllSignals();
					return;
				}
						// Ensure data is an array
						const signals = Array.isArray(data) ? data : [data];
						console.log('Rendering', signals.length, 'signals');
						
						// Check for watchlist changes BEFORE rendering (to catch changes)
						checkWatchlistChanges(signals);
						
						renderSignals(signals);
						
						// Update asset list if it's currently visible
						const assetListContainer = document.getElementById('asset-list-container');
						if (assetListContainer && assetListContainer.style.display !== 'none') {
							renderAssetList(signals);
						}
						
						// Update signal status in asset list
						updateAssetSignalStatus(signals);
						
						// Update watchlist display
						updateWatchlistDisplay();
						
						document.getElementById('status-indicator').className = 'status-indicator active';
						document.getElementById('status-text').textContent = 'Connected';
						document.getElementById('last-update').textContent = 'Last updated: ' + new Date().toLocaleTimeString();
					})
					.catch(error => {
						console.error('Error loading signals:', error);
						document.getElementById('signals-grid').innerHTML = 
							'<div class="empty-state"><h3>‚è≥ Waiting for signals...</h3><p>Servers are restarting. Signals are stale. Please check back in a few minutes.</p></div>';
						document.getElementById('status-indicator').className = 'status-indicator inactive';
						document.getElementById('status-text').textContent = 'Servers Restarting';
						showServerRestartBanner();
					});
			}
			
			// ========================================
			// ASSET SIGNAL STATUS FUNCTIONS
			// ========================================
			
			/**
			 * Normalize symbol format for matching (handles ETH/USD, ETH-USD, etc.)
			 */
			function normalizeSymbol(symbol) {
				if (!symbol) return '';
				// Convert to uppercase and replace common separators
				return symbol.toUpperCase().replace(/[-_]/g, '/');
			}
			
			/**
			 * Get the latest signal for each symbol from the signals array
			 */
			function getLatestSignalsBySymbol(signals) {
				const latestBySymbol = {};
				
				if (!signals || !Array.isArray(signals)) {
					return latestBySymbol;
				}
				
				signals.forEach(signal => {
					if (!signal.symbol) return;
					
					const symbol = normalizeSymbol(signal.symbol);
					const timestamp = signal.timestamp || signal.received_at;
					
					if (!timestamp) return;
					
					// Parse timestamp
					const signalTime = new Date(timestamp);
					
					// Skip invalid dates
					if (isNaN(signalTime.getTime())) return;
					
					// If we don't have a signal for this symbol yet, or this one is newer
					if (!latestBySymbol[symbol] || signalTime > latestBySymbol[symbol].time) {
						latestBySymbol[symbol] = {
							action: signal.action || signal.side || '',
							time: signalTime,
							timestamp: timestamp,
							price: signal.price
						};
					}
				});
				
				return latestBySymbol;
			}
			
			/**
			 * Check if a signal is older than 72 hours
			 */
			function isSignalOlderThan72Hours(signalTime) {
				if (!signalTime) return true;
				
				const now = new Date();
				const hoursDiff = (now - signalTime) / (1000 * 60 * 60);
				return hoursDiff > 72;
			}
			
			/**
			 * Format time ago string (e.g., "2 hours ago", "3 days ago")
			 */
			function formatTimeAgo(signalTime) {
				if (!signalTime) return '';
				
				const now = new Date();
				const diffMs = now - signalTime;
				const diffHours = diffMs / (1000 * 60 * 60);
				const diffDays = diffMs / (1000 * 60 * 60 * 24);
				
				if (diffHours < 1) {
					const diffMins = Math.floor(diffMs / (1000 * 60));
					return diffMins <= 1 ? 'just now' : `${diffMins} min ago`;
				} else if (diffHours < 24) {
					const hours = Math.floor(diffHours);
					return `${hours} ${hours === 1 ? 'hour' : 'hours'} ago`;
				} else {
					const days = Math.floor(diffDays);
					return `${days} ${days === 1 ? 'day' : 'days'} ago`;
				}
			}
			
			/**
			 * Update signal status for all assets in the "Assets Traded" section
			 */
			function updateAssetSignalStatus(signals) {
				const latestSignals = getLatestSignalsBySymbol(signals);
				const isSubscribed = localStorage.getItem(STORAGE_KEY_SUBSCRIBED) === 'true';
				const trialActive = typeof signalsVisible !== 'undefined' ? signalsVisible : true;
				const hasAccess = isSubscribed || trialActive;
				
				// Find all asset list items
				const assetItems = document.querySelectorAll('li[data-symbol]');
				
				assetItems.forEach(item => {
					const symbol = normalizeSymbol(item.getAttribute('data-symbol'));
					const statusSpan = item.querySelector('.asset-signal-status');
					
					if (!statusSpan) return;
					
					const latestSignal = latestSignals[symbol];
					
					// Clear existing classes
					statusSpan.className = 'asset-signal-status';
					
					if (!hasAccess) {
						// Show subscribe button for non-subscribers
						statusSpan.className += ' locked';
						statusSpan.innerHTML = '<a href="#" onclick="event.preventDefault(); showSubscriptionModal(); return false;" class="subscribe-mini-btn">Subscribe</a>';
					} else if (!latestSignal) {
						// No signal found for this symbol
						statusSpan.className += ' neutral';
						statusSpan.innerHTML = '‚ö™ NEUTRAL';
					} else {
						const signalTime = latestSignal.time;
						const isOld = isSignalOlderThan72Hours(signalTime);
						
						if (isOld) {
							// Signal is >72 hours old, show neutral
							statusSpan.className += ' neutral';
							statusSpan.innerHTML = '‚ö™ NEUTRAL';
						} else {
							// Show BUY or SELL with time ago
							const action = latestSignal.action.toLowerCase();
							const timeAgo = formatTimeAgo(signalTime);
							
							if (action === 'buy') {
								statusSpan.className += ' buy';
								statusSpan.innerHTML = `üü¢ BUY<span class="time-ago"> (${timeAgo})</span>`;
							} else if (action === 'sell') {
								statusSpan.className += ' sell';
								statusSpan.innerHTML = `üî¥ SELL<span class="time-ago"> (${timeAgo})</span>`;
							} else {
								statusSpan.className += ' neutral';
								statusSpan.innerHTML = '‚ö™ NEUTRAL';
							}
						}
					}
					});
			}
			
			// ========================================
			// TRIAL TRACKING & ACCESS CONTROL
			// ========================================
			
			const TRIAL_DAYS = 7;
			const STORAGE_KEY_TRIAL_START = 'trial_start_date';
			const STORAGE_KEY_SUBSCRIBED = 'is_subscribed';
			const STORAGE_KEY_EMAIL = 'user_email';
			
			// Stripe Payment Link - Configured for Trading Signals PRO $9.99/month with 7-day free trial
			// Success URL should be set to: https://brianstreckfus.com/signals.html?paid=true
			const STRIPE_PAYMENT_LINK = 'https://buy.stripe.com/00w00legUbde5wT5UB8og00';
			
			// Initialize trial tracking
			function initializeTrial() {
				// Initialize non-blocking email capture
				initEmailCapture();
				
				// Check if user is returning from successful payment (Payment Link redirect)
				const urlParams = new URLSearchParams(window.location.search);
				if (urlParams.get('paid') === 'true') {
					// Mark as subscribed and grant permanent access
					localStorage.setItem(STORAGE_KEY_SUBSCRIBED, 'true');
					// Clean up URL
					window.history.replaceState({}, document.title, window.location.pathname);
					console.log('‚úÖ Payment confirmed - granting permanent access');
				}

				// Check if user is marked as subscribed
				const isSubscribed = localStorage.getItem(STORAGE_KEY_SUBSCRIBED) === 'true';
				if (isSubscribed) {
					updateTrialStatus('subscribed');
					return true; // Full access
				}
				
				// Check if trial has started
				let trialStartDate = localStorage.getItem(STORAGE_KEY_TRIAL_START);
				
				if (!trialStartDate) {
					// First visit - start trial now
					trialStartDate = new Date().toISOString();
					localStorage.setItem(STORAGE_KEY_TRIAL_START, trialStartDate);
					updateTrialStatus('active');
					return true; // Show signals during trial
				}
				
				// Check if trial has expired
				const startDate = new Date(trialStartDate);
				const now = new Date();
				const daysElapsed = (now - startDate) / (1000 * 60 * 60 * 24);
				
				if (daysElapsed >= TRIAL_DAYS) {
					updateTrialStatus('expired');
					return false; // Hide signals after trial
				} else {
					const daysRemaining = Math.ceil(TRIAL_DAYS - daysElapsed);
					updateTrialStatus('active', daysRemaining);
					return true; // Show signals during trial
				}
			}
			
			// Update trial status banner
			function updateTrialStatus(status, daysRemaining = null) {
				const banner = document.getElementById('trial-status-banner');
				const message = document.getElementById('trial-status-message');
				
				if (!banner || !message) return;
				
				if (status === 'subscribed') {
					banner.style.background = 'linear-gradient(135deg, rgba(76, 175, 80, 0.3) 0%, rgba(76, 175, 80, 0.2) 100%)';
					banner.style.borderColor = 'rgba(76, 175, 80, 0.7)';
					message.innerHTML = '‚úÖ <strong>Premium Subscriber</strong> - Full access to all trading signals';
				} else if (status === 'active') {
					banner.style.background = 'linear-gradient(135deg, rgba(33, 150, 243, 0.3) 0%, rgba(76, 175, 80, 0.2) 100%)';
					banner.style.borderColor = 'rgba(33, 150, 243, 0.7)';
					if (daysRemaining !== null) {
						message.innerHTML = `üéâ <strong>7-Day Free Trial Active</strong> - ${daysRemaining} day${daysRemaining !== 1 ? 's' : ''} remaining. Signals are visible!`;
					} else {
						message.innerHTML = 'üéâ <strong>7-Day Free Trial Started</strong> - Signals are now visible!';
					}
				} else if (status === 'expired') {
					banner.style.background = 'linear-gradient(135deg, rgba(244, 67, 54, 0.4) 0%, rgba(255, 152, 0, 0.3) 100%)';
					banner.style.borderColor = 'rgba(244, 67, 54, 1)';
					banner.style.borderWidth = '3px';
					banner.style.boxShadow = '0 4px 20px rgba(244, 67, 54, 0.5)';
					message.style.fontSize = '20px';
					message.style.fontWeight = 'bold';
					message.innerHTML = '‚è∞ <strong style="font-size: 24px;">Your Trial Has Expired</strong><br><span style="font-size: 18px; font-weight: normal; margin-top: 10px; display: block;">Please subscribe to continue viewing signals.</span><br><a href="#" onclick="event.preventDefault(); showSubscriptionModal(); return false;" style="color: #fff; text-decoration: underline; font-weight: bold; font-size: 18px; margin-top: 10px; display: inline-block; background: rgba(255, 255, 255, 0.2); padding: 8px 16px; border-radius: 6px;">Subscribe Now ‚Üí</a>';
				}
				
				// Refresh asset signal status when trial status changes
				if (typeof window.allSignals !== 'undefined' && window.allSignals) {
					updateAssetSignalStatus(window.allSignals);
				}
			}
			
			// Check if user has access (trial active or subscribed)
			function hasAccess() {
				const isSubscribed = localStorage.getItem(STORAGE_KEY_SUBSCRIBED) === 'true';
				return isSubscribed || (typeof signalsVisible !== 'undefined' && signalsVisible);
			}
			
			// Hide all signal grids when trial expires
			function hideAllSignals() {
				const grids = [
					document.getElementById('signals-grid'),
					document.getElementById('stock-signals-grid'),
					document.getElementById('old-signals-grid'),
					document.getElementById('stock-historical-grid'),
					document.getElementById('crypto-asset-list'),
					document.getElementById('stock-asset-list'),
					document.getElementById('top-signals-section'),
					document.getElementById('watchlist-section')
				];
				
				// Check if Payment Link is configured
				const paymentLinkConfigured = STRIPE_PAYMENT_LINK && STRIPE_PAYMENT_LINK !== 'https://buy.stripe.com/YOUR_PAYMENT_LINK_HERE';
				
				const paywallMessage = paymentLinkConfigured 
					? `<div class="empty-state" style="text-align: center; padding: 60px 40px; background: rgba(244, 67, 54, 0.15); border: 3px solid rgba(244, 67, 54, 0.7); border-radius: 12px; margin: 20px 0;">
						<h2 style="color: #fff; font-size: 32px; margin-bottom: 20px; font-weight: bold;">‚è∞ Your Trial Has Expired</h2>
						<p style="color: #fff; font-size: 20px; margin: 20px 0; font-weight: 500;">Your 7-day free trial has ended.</p>
						<p style="color: rgba(255, 255, 255, 0.9); font-size: 18px; margin-bottom: 30px;">Subscribe now to get <strong>permanent access</strong> to all trading signals.</p>
						<a href="${STRIPE_PAYMENT_LINK}" target="_blank" style="display: inline-block; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; padding: 18px 40px; border-radius: 8px; font-size: 20px; font-weight: bold; cursor: pointer; text-decoration: none; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(102, 126, 234, 0.5);" onmouseover="this.style.transform='translateY(-3px)'; this.style.boxShadow='0 6px 25px rgba(102, 126, 234, 0.7)';" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 15px rgba(102, 126, 234, 0.5)';">üí≥ Subscribe Now - $9.99/month</a>
						<p style="color: rgba(255, 255, 255, 0.7); font-size: 14px; margin-top: 20px;">After payment, you'll be redirected back and granted permanent access.</p>
					</div>`
					: '<div class="empty-state" style="text-align: center; padding: 60px 40px; background: rgba(244, 67, 54, 0.15); border: 3px solid rgba(244, 67, 54, 0.7); border-radius: 12px; margin: 20px 0;"><h2 style="color: #fff; font-size: 32px; margin-bottom: 20px; font-weight: bold;">‚è∞ Your Trial Has Expired</h2><p style="color: #fff; font-size: 20px; margin: 20px 0; font-weight: 500;">Your 7-day free trial has ended.</p><p style="color: rgba(255, 255, 255, 0.9); font-size: 18px; margin-bottom: 30px;">Please subscribe to continue viewing all trading signals.</p><p style="color: rgba(255, 255, 255, 0.7); font-size: 14px; margin-top: 20px;">‚ö†Ô∏è Payment link not configured. Please contact support.</p></div>';
				
				grids.forEach(grid => {
					if (grid) {
						grid.innerHTML = paywallMessage;
						grid.style.opacity = '1';
						grid.style.visibility = 'visible';
						grid.style.display = 'grid';
					}
				});
			}
			
			// Check if signals should be visible
			let signalsVisible = true; // Default to visible
			
			// Update static asset list items with emojis
			function updateStaticAssetListEmojis() {
				const assetItems = document.querySelectorAll('li[data-symbol]');
				assetItems.forEach(item => {
					const symbol = item.getAttribute('data-symbol');
					const emojis = getSymbolEmojis(symbol);
					if (emojis) {
						const strongTag = item.querySelector('strong');
						if (strongTag) {
							// Add emojis before the symbol in the strong tag
							strongTag.innerHTML = `${emojis} ${strongTag.textContent.trim()}`;
						}
					}
				});
			}
			
			// Initialize: Show crypto by default on page load
			window.addEventListener('DOMContentLoaded', function() {
				// Check trial status first
				signalsVisible = initializeTrial();
				
				// Update static asset list with emojis
				updateStaticAssetListEmojis();
				
				switchToCrypto();
			
				// Load signals immediately regardless; loadSignals will hide if expired
			loadSignals();
			// Auto-refresh every 30 seconds
			refreshInterval = setInterval(loadSignals, 30000);
			
			// Initialize asset signal status (will show subscribe buttons if no access)
			updateAssetSignalStatus([]);
			
			// Initialize Bitcoin dominance tracking
			updateBitcoinDominanceWarning();
			// Update Bitcoin dominance every 5 minutes (less frequent than signals)
			setInterval(updateBitcoinDominanceWarning, 5 * 60 * 1000);
			});
			
			// Add scroll detection for mobile nav shrinking
			window.addEventListener("scroll", function() {
				var distance = window.pageYOffset || document.documentElement.scrollTop;
				if(distance > 20) {
					document.querySelector("nav").classList.add("scrolled");
					document.getElementById("backing").classList.add("scrolled");
				} else {
					document.querySelector("nav").classList.remove("scrolled");
					document.getElementById("backing").classList.remove("scrolled");
				}
			});
			
			// Stripe Payment Links - no backend or Stripe.js required

			// Non-blocking email capture (freemium)
			function initEmailCapture() {
				const savedEmail = localStorage.getItem(STORAGE_KEY_EMAIL);
				const banner = document.getElementById('email-capture-banner');
				const input = document.getElementById('email-capture-input');
				const btn = document.getElementById('email-capture-btn');
				const status = document.getElementById('email-capture-status');

				if (!banner || !input || !btn || !status) return;

				if (savedEmail) {
					banner.style.display = 'none';
					return;
				}

				banner.style.display = 'block';

				btn.addEventListener('click', function() {
					const email = (input.value || '').trim();
					if (!email || !email.includes('@')) {
						status.style.display = 'block';
						status.style.color = '#f44336';
						status.textContent = 'Please enter a valid email.';
					return;
				}
					localStorage.setItem(STORAGE_KEY_EMAIL, email);
					status.style.display = 'block';
					status.style.color = '#4caf50';
					status.textContent = 'Saved! Thank you.';
					setTimeout(() => {
						banner.style.display = 'none';
					}, 1200);
				});
			}
			
			function showSubscriptionModal() {
				const modal = document.getElementById('subscription-modal');
				const errorDiv = document.getElementById('subscription-error');
				const button = document.getElementById('start-subscription-btn');
				
				if (modal) {
					modal.style.display = 'flex';
				}
				
				// Payment Links work without backend - always enable button
					if (errorDiv) {
						errorDiv.style.display = 'none';
						errorDiv.textContent = '';
					}
					if (button) {
						button.disabled = false;
						button.textContent = 'Start 7-Day Free Trial';
				}
			}
			
			function closeSubscriptionModal() {
				const modal = document.getElementById('subscription-modal');
				if (modal) {
					modal.style.display = 'none';
				}
				const errorDiv = document.getElementById('subscription-error');
				if (errorDiv) {
					errorDiv.style.display = 'none';
					errorDiv.textContent = '';
				}
			}
			
			// Close modal when clicking outside
			document.addEventListener('click', function(event) {
				const modal = document.getElementById('subscription-modal');
				if (modal && event.target === modal) {
					closeSubscriptionModal();
				}
			});
			
			function startSubscription() {
				// Redirect directly to Stripe Payment Link (no backend needed)
				const paymentLinkConfigured = STRIPE_PAYMENT_LINK && STRIPE_PAYMENT_LINK !== 'https://buy.stripe.com/YOUR_PAYMENT_LINK_HERE';
				
				if (paymentLinkConfigured) {
					// Close modal and redirect to Payment Link
					closeSubscriptionModal();
					window.location.href = STRIPE_PAYMENT_LINK;
				} else {
					// Fallback error (shouldn't happen if Payment Link is configured)
					const errorDiv = document.getElementById('subscription-error');
						if (errorDiv) {
							errorDiv.style.display = 'block';
						errorDiv.textContent = '‚ö†Ô∏è Payment Link not configured. Please contact support.';
					}
				}
			}
			
			// Mark user as subscribed (called after successful payment)
			function markAsSubscribed() {
				localStorage.setItem(STORAGE_KEY_SUBSCRIBED, 'true');
				signalsVisible = true;
				updateTrialStatus('subscribed');
				// Reload signals if they were hidden
				loadSignals();
				if (!refreshInterval) {
					refreshInterval = setInterval(loadSignals, 30000);
				}
			}
			
			// Check if user is returning from successful payment
			// This handles both Stripe Checkout (session_id) and Payment Links (paid=true)
			const urlParams = new URLSearchParams(window.location.search);
			if (urlParams.get('session_id') || urlParams.get('paid') === 'true') {
				// Mark as subscribed and show success message
				markAsSubscribed();
				setTimeout(() => {
					alert('üéâ Payment successful! Thank you for subscribing. You now have permanent access to all signals.');
					// Clean up URL
					window.history.replaceState({}, document.title, window.location.pathname);
				}, 500);
			}
			
			// =============================================================================
			// WATCHLIST FUNCTIONALITY WITH NOTIFICATIONS
			// =============================================================================
			
			// Watchlist storage functions
			function getWatchlist() {
				try {
					const stored = localStorage.getItem('watchlist');
					return stored ? JSON.parse(stored) : [];
				} catch (e) {
					console.error('Error loading watchlist:', e);
					return [];
				}
			}
			
			function saveWatchlist(symbols) {
				try {
					localStorage.setItem('watchlist', JSON.stringify(symbols));
				} catch (e) {
					console.error('Error saving watchlist:', e);
				}
			}
			
			function isInWatchlist(symbol) {
				const watchlist = getWatchlist();
				return watchlist.includes(symbol);
			}
			
			function toggleWatchlist(symbol) {
				// Check if user has access (trial active or subscribed)
				if (!hasAccess()) {
					showSubscriptionModal();
					return;
				}
				
				const watchlist = getWatchlist();
				const index = watchlist.indexOf(symbol);
				
				if (index > -1) {
					watchlist.splice(index, 1);
					console.log(`Removed ${symbol} from watchlist`);
				} else {
					watchlist.push(symbol);
					console.log(`Added ${symbol} to watchlist`);
					if (watchlist.length === 1) {
						requestNotificationPermission();
					}
				}
				
				saveWatchlist(watchlist);
				updateWatchlistDisplay();
				if (window.allSignals) {
					renderSignals(window.allSignals);
					renderAssetList(window.allSignals);
				}
			}
			
			// Signal history storage
			function getSignalHistory() {
				try {
					const stored = localStorage.getItem('signalHistory');
					return stored ? JSON.parse(stored) : {};
				} catch (e) {
					return {};
				}
			}
			
			function saveSignalHistory(history) {
				try {
					localStorage.setItem('signalHistory', JSON.stringify(history));
				} catch (e) {
					console.error('Error saving signal history:', e);
				}
			}
			
			// Notification functions
			function requestNotificationPermission() {
				if ('Notification' in window) {
					if (Notification.permission === 'default') {
						Notification.requestPermission().then(permission => {
							updateNotificationButton();
						});
					} else {
						updateNotificationButton();
					}
				}
			}
			
			function updateNotificationButton() {
				const btn = document.getElementById('request-notification-btn');
				if (!btn) return;
				
				if ('Notification' in window) {
					if (Notification.permission === 'granted') {
						btn.style.display = 'none';
					} else if (Notification.permission === 'denied') {
						btn.textContent = 'üîî Notifications Blocked';
						btn.style.opacity = '0.5';
						btn.disabled = true;
					} else {
						btn.style.display = 'block';
					}
				}
			}
			
			function playNotificationSound() {
				try {
					const audioContext = new (window.AudioContext || window.webkitAudioContext)();
					const oscillator = audioContext.createOscillator();
					const gainNode = audioContext.createGain();
					
					oscillator.connect(gainNode);
					gainNode.connect(audioContext.destination);
					
					oscillator.frequency.setValueAtTime(800, audioContext.currentTime);
					oscillator.frequency.setValueAtTime(1000, audioContext.currentTime + 0.1);
					
					gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
					gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
					
					oscillator.start(audioContext.currentTime);
					oscillator.stop(audioContext.currentTime + 0.3);
				} catch (e) {
					console.error('Error playing sound:', e);
				}
			}
			
			function showNotification(title, body, symbol) {
				playNotificationSound();
				
				if ('Notification' in window && Notification.permission === 'granted') {
					const notification = new Notification(title, {
						body: body,
						icon: '/favicon.ico',
						badge: '/favicon.ico',
						tag: symbol
					});
					
					setTimeout(() => notification.close(), 5000);
					notification.onclick = () => {
						window.focus();
						notification.close();
					};
				}
				
				showVisualAlert(title, body, symbol);
			}
			
			function showVisualAlert(title, body, symbol) {
				const alert = document.createElement('div');
				alert.style.cssText = `
					position: fixed; top: 20px; right: 20px;
					background: rgba(255, 193, 7, 0.95); color: #000;
					padding: 15px 20px; border-radius: 8px;
					box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
					z-index: 10000; max-width: 350px;
					animation: slideIn 0.3s ease-out;
				`;
				alert.innerHTML = `
					<div style="font-weight: bold; font-size: 16px; margin-bottom: 5px;">${title}</div>
					<div style="font-size: 14px; color: rgba(0, 0, 0, 0.8);">${body}</div>
				`;
				
				const style = document.createElement('style');
				style.textContent = `@keyframes slideIn {
					from { transform: translateX(400px); opacity: 0; }
					to { transform: translateX(0); opacity: 1; }
				}`;
				document.head.appendChild(style);
				
				document.body.appendChild(alert);
				setTimeout(() => {
					alert.style.animation = 'slideIn 0.3s ease-out reverse';
					setTimeout(() => alert.remove(), 300);
				}, 5000);
			}
			
			function checkWatchlistChanges(currentSignals) {
				const watchlist = getWatchlist();
				if (watchlist.length === 0) return;
				
				const previousSignals = getSignalHistory();
				const currentSignalMap = {};
				
				currentSignals.forEach(signal => {
					currentSignalMap[signal.symbol] = {
						action: signal.action || 'unknown',
						buyScore: signal.buy_score || 0,
						sellScore: signal.sell_score || 0
					};
				});
				
				watchlist.forEach(symbol => {
					const current = currentSignalMap[symbol];
					const previous = previousSignals[symbol];
					
					if (!current) return;
					
					if (previous) {
						if (current.action.toLowerCase() !== previous.action.toLowerCase()) {
							showNotification(`${symbol} Signal Changed!`, 
								`Changed from ${previous.action.toUpperCase()} to ${current.action.toUpperCase()}`, symbol);
						} else if (current.action.toLowerCase() === 'buy' && current.buyScore >= 16 && previous.buyScore < 16) {
							showNotification(`${symbol} BUY Threshold Met!`, 
								`BUY score: ${current.buyScore}/38`, symbol);
						} else if (current.action.toLowerCase() === 'sell' && current.sellScore >= 13 && previous.sellScore < 13) {
							showNotification(`${symbol} SELL Threshold Met!`, 
								`SELL score: ${current.sellScore}/37`, symbol);
						}
					}
				});
				
				saveSignalHistory(currentSignalMap);
			}
			
			function updateWatchlistDisplay() {
				const container = document.getElementById('watchlist-items');
				if (!container) return;
				
				// Check if user has access (trial active or subscribed)
				if (!hasAccess()) {
					const paymentLinkConfigured = STRIPE_PAYMENT_LINK && STRIPE_PAYMENT_LINK !== 'https://buy.stripe.com/YOUR_PAYMENT_LINK_HERE';
					container.innerHTML = paymentLinkConfigured 
						? `<div style="color: rgba(255, 255, 255, 0.9); text-align: center; padding: 30px; grid-column: 1 / -1; background: rgba(244, 67, 54, 0.15); border: 2px solid rgba(244, 67, 54, 0.7); border-radius: 8px;">
							<p style="font-size: 16px; margin-bottom: 15px; font-weight: bold;">‚è∞ Your Trial Has Expired</p>
							<p style="font-size: 14px; margin-bottom: 20px; color: rgba(255, 255, 255, 0.8);">Subscribe to access your watchlist and get notifications.</p>
							<a href="${STRIPE_PAYMENT_LINK}" target="_blank" onclick="event.stopPropagation();" style="display: inline-block; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; padding: 12px 24px; border-radius: 6px; font-size: 14px; font-weight: bold; cursor: pointer; text-decoration: none;">üí≥ Subscribe Now</a>
						</div>`
						: `<div style="color: rgba(255, 255, 255, 0.9); text-align: center; padding: 30px; grid-column: 1 / -1; background: rgba(244, 67, 54, 0.15); border: 2px solid rgba(244, 67, 54, 0.7); border-radius: 8px;">
							<p style="font-size: 16px; margin-bottom: 15px; font-weight: bold;">‚è∞ Your Trial Has Expired</p>
							<p style="font-size: 14px; margin-bottom: 20px; color: rgba(255, 255, 255, 0.8);">Subscribe to access your watchlist.</p>
						</div>`;
					return;
				}
				
				const watchlist = getWatchlist();
				
				if (watchlist.length === 0) {
					container.innerHTML = `<div style="color: rgba(255, 255, 255, 0.5); text-align: center; padding: 20px; font-style: italic; grid-column: 1 / -1;">
						No symbols in watchlist yet. Add symbols using the ‚≠ê button on signal cards.
					</div>`;
					return;
				}
				
				const currentSignals = window.allSignals || [];
				const signalMap = {};
				currentSignals.forEach(s => signalMap[s.symbol] = s);
				
				container.innerHTML = watchlist.map(symbol => {
					const signal = signalMap[symbol];
					const isBuy = signal && signal.action && signal.action.toLowerCase() === 'buy';
					return `<div style="background: rgba(0, 0, 0, 0.3); padding: 12px; border-radius: 6px; border-left: 3px solid ${isBuy ? '#4caf50' : '#f44336'};">
						<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
							<span style="font-weight: bold; color: #ffc107;">${symbol}</span>
							<button onclick="toggleWatchlist('${symbol.replace(/'/g, "\\'")}');" 
									style="background: rgba(255, 193, 7, 0.2); border: 1px solid #ffc107; color: #ffc107; padding: 2px 6px; border-radius: 4px; cursor: pointer; font-size: 12px;">
								Remove
							</button>
						</div>
						<div style="color: rgba(255, 255, 255, 0.8); font-size: 13px;">
							${isBuy ? 'üü¢' : 'üî¥'} ${signal ? signal.action.toUpperCase() : 'No Signal'}
							${signal && signal.price ? ` | $${parseFloat(signal.price).toFixed(2)}` : ''}
						</div>
					</div>`;
				}).join('');
			}
			
			// Initialize on page load
			document.addEventListener('DOMContentLoaded', function() {
				updateNotificationButton();
				const btn = document.getElementById('request-notification-btn');
				if (btn) btn.addEventListener('click', requestNotificationPermission);
				updateWatchlistDisplay();
			});
		</script>
		
		<!-- Footer with Copyright -->
		<footer style="text-align: center; padding: 20px; color: rgba(255, 255, 255, 0.7); font-size: 14px; margin-top: 40px; border-top: 1px solid rgba(255, 193, 7, 0.3);">
			<p style="margin: 0;">¬© 2024 All Rights Reserved</p>
		</footer>
	</body>
</html>

