<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link type="text/css" rel="stylesheet" href="style/montserrat.css">
		<link type="text/css" rel="stylesheet" href="style/font-awesome.css">
		<link type="text/css" rel="stylesheet" href="style/index.css">
		<link rel="shortcut icon" href="img/favico.ico" type="image/x-icon">
		<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
		<script src="https://js.stripe.com/v3/"></script>
		<title>Trading Signals - Live Feed</title>
		<style>
			.signals-container {
				margin-top: 100px;
				padding: 20px;
			}
			.signals-header {
				text-align: center;
				margin-bottom: 30px;
			}
			.status-indicator {
				display: inline-block;
				width: 12px;
				height: 12px;
				border-radius: 50%;
				margin-right: 8px;
				animation: pulse 2s infinite;
			}
			.status-indicator.active {
				background-color: #4caf50;
			}
			.status-indicator.inactive {
				background-color: #f44336;
			}
			@keyframes pulse {
				0%, 100% { opacity: 1; }
				50% { opacity: 0.5; }
			}
			.signals-grid {
				display: grid !important;
				grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
				gap: 20px;
				margin-top: 20px;
				visibility: visible !important;
				opacity: 1 !important;
				min-height: 200px;
			}
			
			/* Mobile responsive styles */
			@media (max-width: 768px) {
				/* Navigation - stack vertically on mobile */
				nav {
					padding: 15px 0 !important;
					transition: padding 0.3s ease, font-size 0.3s ease;
				}
				
				/* When scrolled on mobile - make nav MUCH smaller */
				nav.scrolled {
					padding: 5px 0 !important;
				}
				
				nav .content {
					display: flex !important;
					flex-direction: column !important;
					align-items: center !important;
					gap: 10px !important;
					padding: 10px 0 !important;
					transition: gap 0.3s ease;
				}
				
				/* When scrolled - reduce gap between nav items */
				nav.scrolled .content {
					gap: 3px !important;
					padding: 0 !important;
				}
				
				nav a {
					margin: 5px 0 !important;
					font-size: 0.9em !important;
					padding: 8px !important;
					display: block !important;
					transition: font-size 0.3s ease, padding 0.3s ease, margin 0.3s ease;
				}
				
				/* When scrolled - make nav links much smaller */
				nav.scrolled a {
					font-size: 0.7em !important;
					padding: 3px 8px !important;
					margin: 2px 0 !important;
					line-height: 1.2 !important;
				}
				
				/* Content adjustments */
				.content {
					width: 100% !important;
					padding: 0 15px !important;
				}
				
				.signals-container {
					margin-top: 120px !important;
					padding: 15px !important;
				}
				
				/* Signals grid - single column on mobile */
				.signals-grid {
					grid-template-columns: 1fr !important;
					gap: 15px !important;
				}
				
				.signal-card {
					margin: 0 !important;
					padding: 15px !important;
				}
				
				.signal-symbol {
					font-size: 20px !important;
				}
				
				.signal-action {
					font-size: 14px !important;
					padding: 4px 10px !important;
				}
				
				/* Live signals navigation - stack vertically */
				#live-signals-nav {
					flex-direction: column !important;
					gap: 15px !important;
					padding: 15px !important;
				}
				
				#live-signals-nav button {
					width: 100% !important;
					padding: 12px !important;
					text-align: center !important;
					font-size: 14px !important;
				}
				
				/* Page navigation buttons - stack vertically */
				#page-navigation {
					flex-direction: column !important;
					gap: 10px !important;
					padding: 15px !important;
				}
				
				#page-navigation a {
					width: 100% !important;
					padding: 12px !important;
					text-align: center !important;
				}
				
				/* Headings */
				h1 {
					font-size: 1.8em !important;
				}
				
				h2 {
					font-size: 1.5em !important;
				}
				
				/* Disclaimer modal - full width on mobile */
				.disclaimer-modal {
					max-width: 95% !important;
					padding: 20px !important;
					max-height: 90vh !important;
				}
				
				.disclaimer-modal h2 {
					font-size: 20px !important;
				}
				
				.disclaimer-content {
					font-size: 14px !important;
					line-height: 1.6 !important;
				}
				
				/* Indicator sections */
				.indicators-section {
					padding: 20px 15px !important;
				}
				
				.indicators-header h2 {
					font-size: 24px !important;
				}
				
				.indicator-category {
					padding: 15px !important;
				}
				
				.indicator-category h3 {
					font-size: 20px !important;
				}
				
				/* Summary stats grid - single column */
				.summary-stats ul {
					grid-template-columns: 1fr !important;
				}
				
				/* Asset list grid - single column on mobile */
				.asset-list-grid {
					grid-template-columns: 1fr !important;
					gap: 12px !important;
				}
				
				.asset-list-item {
					padding: 15px !important;
					flex-direction: column !important;
					align-items: flex-start !important;
					gap: 10px !important;
				}
				
				.asset-signal {
					align-items: flex-start !important;
					width: 100%;
				}
				
				/* Backtest image - responsive */
				.backtest-section img {
					width: 100% !important;
					height: auto !important;
				}
			}
			
			/* Tablet adjustments */
			@media (min-width: 769px) and (max-width: 1024px) {
				.signals-grid {
					grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)) !important;
				}
				
				#page-navigation {
					flex-wrap: wrap !important;
				}
				
				#page-navigation a {
					flex: 1 1 calc(50% - 10px) !important;
				}
			}
			.signal-card {
				background: rgba(255, 255, 255, 0.05) !important;
				border: 1px solid rgba(255, 255, 255, 0.1) !important;
				border-radius: 8px;
				padding: 20px;
				transition: all 0.3s ease;
				animation: fadeInUp 0.5s ease;
				display: block !important;
				visibility: visible !important;
				opacity: 1 !important;
				color: #ffffff !important;
				margin: 10px;
				/* Ensure visibility on dark background */
				background-color: rgba(20, 20, 20, 0.7) !important;
				backdrop-filter: blur(2px);
				/* Elevate above any overlays */
				position: relative;
				z-index: 1;
				/* Prevent any accidental hiding */
				mix-blend-mode: normal !important;
				pointer-events: auto !important;
			}
			.signal-card:hover {
				transform: translateY(-5px);
				box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
				border-color: rgba(255, 255, 255, 0.3);
			}
			.signal-card.buy {
				border-left: 4px solid #4caf50;
			}
			.signal-card.sell {
				border-left: 4px solid #f44336;
			}
			.confluence-badge {
				display: inline-block;
				padding: 5px 10px;
				border-radius: 6px;
				font-size: 11px;
				font-weight: bold;
				margin-left: 8px;
			}
			.confluence-pure {
				background-color: rgba(33, 150, 243, 0.25);
				color: #42a5f5;
				border: 1px solid rgba(33, 150, 243, 0.4);
			}
			.confluence-ema {
				background-color: rgba(255, 152, 0, 0.25);
				color: #ffa726;
				border: 1px solid rgba(255, 152, 0, 0.4);
			}
			.confluence-hmm {
				background-color: rgba(156, 39, 176, 0.25);
				color: #ab47bc;
				border: 1px solid rgba(156, 39, 176, 0.4);
			}
			.confluence-extreme {
				background-color: rgba(244, 67, 54, 0.25);
				color: #ef5350;
				border: 1px solid rgba(244, 67, 54, 0.4);
			}
			.note-highlight {
				font-weight: 600;
				color: #fff !important;
				margin-top: 10px;
				padding: 8px;
				background: rgba(255, 255, 255, 0.08);
				border-radius: 4px;
				border-left: 3px solid rgba(255,255,255,0.6);
			}
			.signal-header {
				display: flex;
				justify-content: space-between;
				align-items: center;
				margin-bottom: 15px;
			}
			.signal-header > div {
				display: flex;
				align-items: center;
				gap: 8px;
			}
			.signal-action {
				font-size: 18px;
				font-weight: bold;
				text-transform: uppercase;
				padding: 5px 15px;
				border-radius: 4px;
			}
			.signal-action.buy {
				background-color: rgba(76, 175, 80, 0.2);
				color: #4caf50;
			}
			.signal-action.sell {
				background-color: rgba(244, 67, 54, 0.2);
				color: #f44336;
			}
			.signal-symbol {
				font-size: 24px;
				font-weight: bold;
				color: #ffffff !important; /* force visible on dark bg */
			}
			.signal-details {
				margin-top: 15px;
			}
			.signal-detail-row {
				display: flex;
				justify-content: space-between;
				padding: 8px 0;
				border-bottom: 1px solid rgba(255, 255, 255, 0.1);
			}
			.signal-detail-row:last-child {
				border-bottom: none;
			}
			.signal-detail-label {
				color: rgba(255, 255, 255, 0.85) !important; /* more visible */
				font-size: 14px;
			}
			.signal-detail-value {
				color: #ffffff !important;
				font-weight: 600;
			}
			.signal-timestamp {
				font-size: 12px;
				color: rgba(255, 255, 255, 0.75) !important;
				margin-top: 10px;
			}
			.empty-state {
				text-align: center;
				padding: 60px 20px;
				color: rgba(255, 255, 255, 0.6);
			}
			.refresh-info {
				text-align: center;
				margin-top: 5px;
				margin-bottom: 5px;
				color: rgba(255, 255, 255, 0.5);
				font-size: 14px;
			}
			.loading {
				text-align: center;
				padding: 40px;
				color: rgba(255, 255, 255, 0.6) !important;
				visibility: visible !important;
				display: block !important;
			}
			.empty-state {
				text-align: center;
				padding: 60px 20px;
				color: rgba(255, 255, 255, 0.6) !important;
				visibility: visible !important;
				display: block !important;
			}
			.disclaimer-overlay {
				position: fixed;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				background: rgba(0, 0, 0, 0.95);
				z-index: 10000;
				display: flex;
				justify-content: center;
				align-items: center;
				padding: 20px;
			}
			.disclaimer-modal {
				background: var(--bg-color);
				border: 2px solid var(--primary-color);
				border-radius: 12px;
				padding: 30px;
				max-width: 700px;
				max-height: 80vh;
				overflow-y: auto;
				box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
			}
			.disclaimer-modal h2 {
				color: var(--primary-color);
				margin-top: 0;
				margin-bottom: 20px;
				text-align: center;
				font-size: 24px;
			}
			.disclaimer-content {
				color: rgba(255, 255, 255, 0.9);
				line-height: 1.8;
				margin-bottom: 25px;
			}
			.disclaimer-content p {
				margin-bottom: 15px;
			}
			.disclaimer-content strong {
				color: var(--primary-color);
				font-weight: bold;
			}
			.disclaimer-content ul {
				margin-left: 20px;
				margin-bottom: 15px;
			}
			.disclaimer-content li {
				margin-bottom: 10px;
			}
			.disclaimer-warning {
				background: rgba(244, 67, 54, 0.2);
				border-left: 4px solid #f44336;
				padding: 15px;
				margin: 20px 0;
				border-radius: 4px;
			}
			.disclaimer-accept {
				display: flex;
				align-items: center;
				justify-content: center;
				gap: 12px;
				margin: 25px 0;
			}
			.disclaimer-checkbox {
				width: 20px;
				height: 20px;
				cursor: pointer;
			}
			.disclaimer-checkbox-label {
				color: rgba(255, 255, 255, 0.9);
				cursor: pointer;
				user-select: none;
			}
			.disclaimer-button {
				width: 100%;
				padding: 15px;
				background: var(--primary-color);
				color: var(--bg-color);
				border: none;
				border-radius: 6px;
				font-size: 16px;
				font-weight: bold;
				cursor: pointer;
				transition: all 0.3s ease;
				opacity: 0.5;
				pointer-events: none;
			}
			.disclaimer-button:enabled {
				opacity: 1;
				pointer-events: auto;
			}
			.disclaimer-button:enabled:hover {
				background: #d4b896;
				transform: translateY(-2px);
				box-shadow: 0 4px 12px rgba(241, 207, 171, 0.4);
			}
			.disclaimer-hidden {
				display: none !important;
			}
			#page-navigation {
				display: flex !important;
				visibility: visible !important;
				opacity: 1 !important;
			}
			#page-navigation a {
				display: inline-block !important;
				visibility: visible !important;
				opacity: 1 !important;
				color: #fff !important;
			}
			.indicators-section {
				margin-top: 60px;
				padding: 40px 20px;
				background: rgba(0, 0, 0, 0.3);
				border-radius: 12px;
				border: 1px solid rgba(255, 255, 255, 0.1);
				display: block !important;
				visibility: visible !important;
				opacity: 1 !important;
			}
			.indicators-header {
				text-align: center;
				margin-bottom: 40px;
			}
			.indicators-header h2 {
				color: var(--primary-color);
				font-size: 32px;
				margin-bottom: 10px;
			}
			.indicators-header p {
				color: rgba(255, 255, 255, 0.7);
				font-size: 16px;
				max-width: 800px;
				margin: 0 auto;
			}
			.indicators-content {
				max-width: 1200px;
				margin: 0 auto;
			}
			.indicator-category {
				margin-bottom: 40px;
				background: rgba(255, 255, 255, 0.03);
				border-radius: 8px;
				padding: 25px;
				border-left: 4px solid var(--primary-color);
			}
			.indicator-category h3 {
				color: var(--primary-color);
				font-size: 24px;
				margin-bottom: 20px;
				border-bottom: 1px solid rgba(255, 255, 255, 0.1);
				padding-bottom: 10px;
			}
			.indicator-category h4 {
				color: rgba(255, 255, 255, 0.9);
				font-size: 18px;
				margin-top: 20px;
				margin-bottom: 12px;
			}
			.indicator-category ul {
				list-style: none;
				padding-left: 0;
				margin: 0;
			}
			.indicator-category li {
				color: rgba(255, 255, 255, 0.8);
				padding: 8px 0;
				padding-left: 20px;
				position: relative;
				line-height: 1.6;
			}
			.indicator-category li:before {
				content: "‚ñ∏";
				position: absolute;
				left: 0;
				color: var(--primary-color);
			}
			.indicator-category strong {
				color: var(--primary-color);
				font-weight: bold;
			}
			.summary-stats {
				background: rgba(241, 207, 171, 0.1);
				border: 2px solid var(--primary-color);
				border-radius: 8px;
				padding: 30px;
				margin-top: 40px;
				text-align: center;
			}
			.summary-stats h3 {
				color: var(--primary-color);
				font-size: 28px;
				margin-bottom: 20px;
			}
			.summary-stats ul {
				list-style: none;
				padding: 0;
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
				gap: 15px;
				margin: 20px 0;
			}
			.summary-stats li {
				color: rgba(255, 255, 255, 0.9);
				font-size: 16px;
				padding: 10px;
				background: rgba(0, 0, 0, 0.2);
				border-radius: 4px;
			}
			.philosophy-box {
				background: rgba(76, 175, 80, 0.1);
				border-left: 4px solid #4caf50;
				padding: 25px;
				margin-top: 30px;
				border-radius: 4px;
			}
			.philosophy-box h4 {
				color: #4caf50;
				margin-top: 0;
				margin-bottom: 15px;
			}
			.philosophy-box ol {
				margin-left: 20px;
				color: rgba(255, 255, 255, 0.9);
			}
			.philosophy-box li {
				margin-bottom: 10px;
				line-height: 1.6;
			}
			.asset-list-item {
				background: rgba(255, 255, 255, 0.05);
				border: 1px solid rgba(255, 255, 255, 0.1);
				border-radius: 8px;
				padding: 20px;
				transition: all 0.3s ease;
				display: flex;
				justify-content: space-between;
				align-items: center;
			}
			.asset-list-item:hover {
				transform: translateY(-3px);
				box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
				border-color: rgba(255, 255, 255, 0.3);
			}
			.asset-list-item.buy {
				border-left: 4px solid #4caf50;
			}
			.asset-list-item.sell {
				border-left: 4px solid #f44336;
			}
			.asset-name {
				font-size: 20px;
				font-weight: bold;
				color: var(--primary-color);
			}
			.asset-signal {
				display: flex;
				flex-direction: column;
				align-items: flex-end;
				gap: 5px;
			}
			.asset-signal-action {
				font-size: 16px;
				font-weight: bold;
				text-transform: uppercase;
				padding: 6px 12px;
				border-radius: 4px;
			}
			.asset-signal-action.buy {
				background-color: rgba(76, 175, 80, 0.2);
				color: #4caf50;
			}
			.asset-signal-action.sell {
				background-color: rgba(244, 67, 54, 0.2);
				color: #f44336;
			}
			.asset-signal-time {
				font-size: 12px;
				color: rgba(255, 255, 255, 0.5);
			}
			.asset-signal-price {
				font-size: 14px;
				color: rgba(255, 255, 255, 0.7);
			}
			.subscribe-button {
				background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
				color: #fff;
				border: none;
				padding: 12px 24px;
				border-radius: 6px;
				font-weight: bold;
				font-size: 16px;
				cursor: pointer;
				transition: all 0.3s ease;
				box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
			}
			.subscribe-button:hover {
				transform: translateY(-2px);
				box-shadow: 0 6px 16px rgba(102, 126, 234, 0.6);
			}
			.subscribe-button:disabled {
				opacity: 0.6;
				cursor: not-allowed;
				transform: none;
			}
			.subscription-badge {
				display: inline-block;
				padding: 4px 12px;
				background: rgba(76, 175, 80, 0.2);
				color: #4caf50;
				border: 1px solid #4caf50;
				border-radius: 12px;
				font-size: 12px;
				font-weight: bold;
				margin-left: 10px;
			}
			.subscription-modal {
				position: fixed;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				background: rgba(0, 0, 0, 0.95);
				z-index: 10001;
				display: none;
				justify-content: center;
				align-items: center;
				padding: 20px;
			}
			.subscription-modal-content {
				background: var(--bg-color);
				border: 2px solid var(--primary-color);
				border-radius: 12px;
				padding: 40px;
				max-width: 500px;
				text-align: center;
				box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
			}
			.subscription-modal-content h2 {
				color: var(--primary-color);
				margin-top: 0;
				margin-bottom: 20px;
				font-size: 28px;
			}
			.subscription-modal-content p {
				color: rgba(255, 255, 255, 0.9);
				line-height: 1.8;
				margin-bottom: 15px;
			}
			.subscription-features {
				text-align: left;
				margin: 25px 0;
				padding: 20px;
				background: rgba(255, 255, 255, 0.05);
				border-radius: 8px;
			}
			.subscription-features ul {
				list-style: none;
				padding: 0;
				margin: 0;
			}
			.subscription-features li {
				color: rgba(255, 255, 255, 0.9);
				padding: 8px 0;
				padding-left: 25px;
				position: relative;
			}
			.subscription-features li:before {
				content: "‚úì";
				position: absolute;
				left: 0;
				color: #4caf50;
				font-weight: bold;
				font-size: 18px;
			}
			.subscription-pricing {
				background: rgba(76, 175, 80, 0.1);
				border: 2px solid #4caf50;
				border-radius: 8px;
				padding: 20px;
				margin: 25px 0;
			}
			.subscription-pricing .price {
				font-size: 36px;
				font-weight: bold;
				color: #4caf50;
				margin: 10px 0;
			}
			.subscription-pricing .trial {
				color: rgba(255, 255, 255, 0.8);
				font-size: 14px;
				margin-top: 10px;
			}

			/* --- Hard overrides to ensure signals are visible --- */
			.signals-container,
			#crypto-signals-container,
			#stock-signals-container,
			#signals-grid,
			#stock-signals-grid,
			#old-signals-grid,
			#stock-historical-grid,
			.asset-list-grid {
				visibility: visible !important;
				opacity: 1 !important;
				display: grid !important;
				pointer-events: auto !important;
				z-index: 1;
			}

			/* If a grid is meant to be hidden by JS, JS will set display:none explicitly */
			.signal-card,
			.signal-card * {
				color: #ffffff !important;
				opacity: 1 !important;
				mix-blend-mode: normal !important;
				text-shadow: 0 0 1px rgba(0,0,0,0.4);
			}

			.signal-card {
				background-color: rgba(20, 20, 20, 0.8) !important;
				backdrop-filter: blur(2px);
				position: relative;
				z-index: 2;
			}
		</style>
	</head>
	<body>
		<!-- Disclaimer Modal -->
		<div id="disclaimer-overlay" class="disclaimer-overlay">
			<div class="disclaimer-modal">
				<h2>‚ö†Ô∏è Important Disclaimer</h2>
				<div class="disclaimer-content">
					<div class="disclaimer-warning">
						<strong>NOT FINANCIAL ADVICE:</strong> I am not a certified financial advisor, registered investment advisor, or licensed financial professional. The trading signals displayed on this website are for informational and educational purposes only.
					</div>
					
					<p><strong>Seek Professional Advice:</strong> Before making any investment decisions, you should consult with a qualified financial advisor, accountant, or other professional who can provide advice tailored to your individual circumstances.</p>
					
					<p><strong>Cryptocurrency Volatility:</strong> Cryptocurrencies are among the most volatile assets in the world. Prices can experience extreme fluctuations and may decline by 99% or more. You could lose your entire investment.</p>
					
					<p><strong>SEC & CFTC Disclaimers:</strong></p>
					<ul>
						<li>Past performance does not guarantee future results.</li>
						<li>All investments carry risk of loss, including the potential loss of principal.</li>
						<li>Cryptocurrency markets are largely unregulated and may be subject to manipulation.</li>
						<li>Trading cryptocurrencies involves substantial risk of loss and is not suitable for all investors.</li>
						<li>You should only invest money you can afford to lose.</li>
					</ul>
					
					<p><strong>Risk Management:</strong> Manage your risk accordingly. Never invest more than you can afford to lose. Use proper position sizing, stop-loss orders, and risk management techniques.</p>
					
					<div class="disclaimer-warning">
						<strong>Security Warnings:</strong>
						<ul>
							<li><strong>Hold Your Own Keys:</strong> Always maintain control of your private keys and seed phrases. Never share them with anyone, including this website or any service.</li>
							<li><strong>Website Permissions:</strong> Be extremely careful when granting websites or applications permission to access your cryptocurrency wallets or funds. Only connect to trusted, verified services.</li>
							<li><strong>Phishing Scams:</strong> Be vigilant against phishing scams. Always verify website URLs, never click suspicious links, and never enter your private keys or seed phrases on any website.</li>
							<li><strong>No Liability:</strong> This website and its operators are not responsible for any losses, damages, or security breaches that may occur from using the information displayed here.</li>
						</ul>
					</div>
					
					<p><strong>No Guarantees:</strong> Trading signals are not guarantees of profit. Market conditions can change rapidly, and past signals do not predict future performance.</p>
				</div>
				
				<div class="disclaimer-accept">
					<input type="checkbox" id="disclaimer-checkbox" class="disclaimer-checkbox">
					<label for="disclaimer-checkbox" class="disclaimer-checkbox-label">
						I have read and understand the risks. I agree that I am solely responsible for my investment decisions and will not hold this website or its operators liable for any losses.
					</label>
				</div>
				
				<button id="disclaimer-accept-btn" class="disclaimer-button" disabled>
					Accept & Continue
				</button>
			</div>
		</div>
		
		<!-- Subscription Modal -->
		<div id="subscription-modal" class="subscription-modal">
			<div class="subscription-modal-content">
				<h2>üöÄ Premium Trading Signals</h2>
				<p>Get unlimited access to all trading signals with our premium subscription.</p>
				
				<div class="subscription-pricing">
					<div class="price">$9.99<span style="font-size: 18px; color: rgba(255, 255, 255, 0.7);">/month</span></div>
					<div class="trial">‚ú® 7-Day Free Trial ‚Ä¢ No Credit Card Required</div>
				</div>
				
				<div class="subscription-features">
					<ul>
						<li>Unlimited access to all trading signals</li>
						<li>Real-time crypto and stock signals</li>
						<li>Historical signal analysis</li>
						<li>Asset list with latest signals</li>
						<li>Priority support</li>
					</ul>
				</div>
				
				<button id="start-subscription-btn" class="subscribe-button" onclick="startSubscription()">
					Start 7-Day Free Trial
				</button>
				<button onclick="closeSubscriptionModal()" style="background: transparent; border: 1px solid rgba(255, 255, 255, 0.3); color: rgba(255, 255, 255, 0.7); padding: 10px 20px; border-radius: 6px; margin-top: 15px; cursor: pointer; transition: all 0.3s ease;" onmouseover="this.style.borderColor='rgba(255, 255, 255, 0.5)'; this.style.color='#fff';" onmouseout="this.style.borderColor='rgba(255, 255, 255, 0.3)'; this.style.color='rgba(255, 255, 255, 0.7)';">
					Maybe Later
				</button>
				<div id="subscription-error" style="color: #f44336; margin-top: 15px; display: none;"></div>
			</div>
		</div>
		
		<nav>
			<div id="backing"></div>
			<div class="content">
				<a href="index.html">HOME</a>
				<a href="catalog.html">CATALOG</a>
				<a href="signals.html" style="font-weight: bold;">SIGNALS</a>
				<a href="#" onclick="event.preventDefault(); showStockSignals(); return false;">üìà STOCKS</a>
				<a href="#" onclick="event.preventDefault(); showHistoricalSignals(); return false;">üìú HISTORICAL</a>
				<a href="#" onclick="event.preventDefault(); showSubscriptionModal(); return false;" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 6px; padding: 8px 16px; margin-left: 10px;">
					üí≥ Subscribe
				</a>
			</div>
		</nav>
		
		<div class="content signals-container" id="signals-content">
			<!-- Trial Status Banner -->
			<div id="trial-status-banner" style="background: linear-gradient(135deg, rgba(76, 175, 80, 0.2) 0%, rgba(33, 150, 243, 0.2) 100%); border: 2px solid rgba(76, 175, 80, 0.5); border-radius: 12px; padding: 20px; margin-bottom: 30px; text-align: center;">
				<div id="trial-status-message" style="color: #fff; font-size: 16px; font-weight: bold; line-height: 1.6;">
					<!-- Will be populated by JavaScript -->
				</div>
			</div>
			<!-- Email capture (non-blocking, freemium) -->
			<div id="email-capture-banner" style="display: none; background: linear-gradient(135deg, rgba(255, 193, 7, 0.2) 0%, rgba(255, 152, 0, 0.2) 100%); border: 2px solid rgba(255, 193, 7, 0.6); border-radius: 12px; padding: 16px; margin-bottom: 20px;">
				<div style="color: #fff; font-weight: bold; margin-bottom: 8px;">Stay in the loop</div>
				<div style="color: rgba(255,255,255,0.85); font-size: 14px; margin-bottom: 8px;">Enter your email so we can keep your trial consistent across devices.</div>
				<div style="display: flex; gap: 10px; flex-wrap: wrap; align-items: center;">
					<input id="email-capture-input" type="email" placeholder="you@example.com" style="flex: 1 1 240px; min-width: 180px; padding: 10px; border-radius: 6px; border: 1px solid rgba(255,255,255,0.3); background: rgba(0,0,0,0.4); color: #fff;" />
					<button id="email-capture-btn" class="subscribe-button" style="padding: 10px 18px;">Save Email</button>
				</div>
				<div id="email-capture-status" style="color: #4caf50; font-size: 13px; margin-top: 6px; display: none;"></div>
			</div>
			
			<div class="signals-header">
				<h1>Trading Signals</h1>
				<p>Live feed of buy and sell signals from trading strategies</p>
				<div style="margin-top: 15px;">
					<span class="status-indicator active" id="status-indicator"></span>
					<span id="status-text">Connected</span>
					<span style="margin-left: 20px;" id="last-update"></span>
				</div>
			</div>
			
			<!-- Live Signals Navigation Bar (Crypto vs Stocks) -->
			<div id="live-signals-nav" style="display: flex !important; visibility: visible !important; opacity: 1 !important; justify-content: center; gap: 20px; margin: 30px 0 20px; padding: 20px; background: rgba(0, 0, 0, 0.8); border-radius: 8px; border: 2px solid rgba(255, 255, 255, 0.2); z-index: 100;">
				<button id="nav-crypto-btn" onclick="switchToCrypto()" onmouseover="if(this.style.background.includes('1)')) { this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 16px rgba(33, 150, 243, 0.6)'; }" onmouseout="if(this.style.background.includes('1)')) { this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 12px rgba(33, 150, 243, 0.4)'; }" style="display: inline-block !important; visibility: visible !important; opacity: 1 !important; color: #fff !important; text-decoration: none; padding: 15px 30px; background: rgba(33, 150, 243, 1) !important; border: 3px solid #42a5f5; border-radius: 8px; font-weight: bold; font-size: 16px; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 12px rgba(33, 150, 243, 0.4);">
					üíé Live Signals - Crypto
				</button>
				<button id="nav-stocks-btn" onclick="switchToStocks()" onmouseover="if(this.style.background.includes('1)')) { this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 16px rgba(76, 175, 80, 0.6)'; }" onmouseout="if(this.style.background.includes('1)')) { this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 12px rgba(76, 175, 80, 0.4)'; }" style="display: inline-block !important; visibility: visible !important; opacity: 1 !important; color: #fff !important; text-decoration: none; padding: 15px 30px; background: rgba(76, 175, 80, 0.5) !important; border: 3px solid rgba(76, 175, 80, 0.5); border-radius: 8px; font-weight: bold; font-size: 16px; cursor: pointer; transition: all 0.3s ease;">
					üìà Live Signals - Stocks
				</button>
			</div>
			
			<!-- Page Navigation -->
			<div id="page-navigation" style="display: flex !important; visibility: visible !important; opacity: 1 !important; justify-content: center; gap: 15px; margin: 30px 0 20px; padding: 20px; background: rgba(0, 0, 0, 0.7); border-radius: 8px; flex-wrap: wrap; z-index: 100;">
				<a href="#asset-list" onclick="event.preventDefault(); showAssetList(); return false;" style="display: inline-block !important; visibility: visible !important; opacity: 1 !important; color: #fff !important; text-decoration: none; padding: 12px 24px; background: rgba(255, 193, 7, 0.8) !important; border: 2px solid #ffc107; border-radius: 6px; font-weight: bold; transition: all 0.3s ease;" onmouseover="this.style.background='rgba(255, 193, 7, 1)'; this.style.transform='translateY(-2px)'" onmouseout="this.style.background='rgba(255, 193, 7, 0.8)'; this.style.transform='translateY(0)'">
					üìã List of Assets
				</a>
				<a href="#backtest" style="display: inline-block !important; visibility: visible !important; opacity: 1 !important; color: #fff !important; text-decoration: none; padding: 12px 24px; background: rgba(76, 175, 80, 0.8) !important; border: 2px solid #4caf50; border-radius: 6px; font-weight: bold; transition: all 0.3s ease;" onmouseover="this.style.background='rgba(76, 175, 80, 1)'; this.style.transform='translateY(-2px)'" onmouseout="this.style.background='rgba(76, 175, 80, 0.8)'; this.style.transform='translateY(0)'">
					üìà Backtesting
				</a>
				<a href="#trading-advice" style="display: inline-block !important; visibility: visible !important; opacity: 1 !important; color: #fff !important; text-decoration: none; padding: 12px 24px; background: rgba(255, 152, 0, 0.8) !important; border: 2px solid #ffa726; border-radius: 6px; font-weight: bold; transition: all 0.3s ease;" onmouseover="this.style.background='rgba(255, 152, 0, 1)'; this.style.transform='translateY(-2px)'" onmouseout="this.style.background='rgba(255, 152, 0, 0.8)'; this.style.transform='translateY(0)'">
					üí° Trading Advice
				</a>
				<a href="#code-explanation" style="display: inline-block !important; visibility: visible !important; opacity: 1 !important; color: #fff !important; text-decoration: none; padding: 12px 24px; background: rgba(156, 39, 176, 0.8) !important; border: 2px solid #ab47bc; border-radius: 6px; font-weight: bold; transition: all 0.3s ease;" onmouseover="this.style.background='rgba(156, 39, 176, 1)'; this.style.transform='translateY(-2px)'" onmouseout="this.style.background='rgba(156, 39, 176, 0.8)'; this.style.transform='translateY(0)'">
					üîß Code Explanation
				</a>
			</div>
			
			<div id="live-signals"></div>
			
			<!-- Crypto Signals (Recent - Last 1 Day) -->
			<div id="crypto-signals-container" style="display: block;">
			<h2 style="color: var(--primary-color); font-size: 28px; margin: 40px 0 20px; text-align: center;">üíé Cryptocurrency Signals (Last 24 Hours)</h2>
			<div id="signals-grid" class="signals-grid" style="background: rgba(255,0,0,0.1); border: 2px dashed rgba(255,255,255,0.3); padding: 20px; min-height: 50px; margin-bottom: 0 !important;">
				<div class="loading">‚è≥ Waiting for signals...</div>
				</div>
			</div>
			
			<!-- Stock Signals (Recent - Last 7 Days) - Hidden by default -->
			<div id="stock-signals-container" style="margin: 40px 0; padding: 0; display: none;">
				<h2 style="color: var(--primary-color); font-size: 28px; margin: 40px 0 20px; text-align: center;">üìà Stock & ETF Signals (Last 7 Days)</h2>
				<p style="color: rgba(255, 255, 255, 0.6); font-size: 14px; text-align: center; margin-bottom: 20px; max-width: 800px; margin-left: auto; margin-right: auto;">
					Stocks and ETFs are long-term plays, so signals remain valid for extended periods. Recent stock signals from the past week are shown below.
				</p>
				
				<!-- Top 3 Signals Section with Thresholds -->
				<div id="top-signals-section" style="margin: 30px 0; padding: 25px; background: rgba(33, 150, 243, 0.1); border: 2px solid rgba(33, 150, 243, 0.5); border-radius: 12px;">
					<div style="text-align: center; margin-bottom: 20px;">
						<h3 style="color: var(--primary-color); font-size: 24px; margin-bottom: 15px;">üèÜ Top 3 Stock Signals (Best of the Day)</h3>
						<div style="background: rgba(0, 0, 0, 0.3); padding: 15px; border-radius: 8px; margin-bottom: 15px; border-left: 4px solid #ffc107;">
							<div style="color: #ffc107; font-weight: bold; font-size: 16px; margin-bottom: 8px;">üìä Signal Thresholds Explained</div>
							<div style="color: rgba(255, 255, 255, 0.9); font-size: 14px; line-height: 1.6;">
								<strong>BUY Threshold:</strong> ‚â•16/38 indicators (‚âà42%) must agree<br>
								<strong>SELL Threshold:</strong> ‚â•13/37 indicators (‚âà35%) must agree<br>
								<span style="color: rgba(255, 255, 255, 0.7); font-size: 13px; display: block; margin-top: 8px;">
									üí° These are the <strong>best signals</strong> from today's scan, even if they don't meet the full threshold. 
									On quiet market days, these represent the strongest setups available.
								</span>
							</div>
						</div>
					</div>
					
					<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px;">
						<!-- Top 3 BUY Signals -->
						<div style="background: rgba(76, 175, 80, 0.15); border: 2px solid rgba(76, 175, 80, 0.5); border-radius: 8px; padding: 20px;">
							<h4 style="color: #4caf50; font-size: 20px; margin-bottom: 15px; text-align: center;">üü¢ Top 3 BUY Signals</h4>
							<div id="top-buy-signals" style="min-height: 100px;">
								<div style="color: rgba(255, 255, 255, 0.6); text-align: center; padding: 20px;">Loading...</div>
							</div>
						</div>
						
						<!-- Top 3 SELL Signals -->
						<div style="background: rgba(244, 67, 54, 0.15); border: 2px solid rgba(244, 67, 54, 0.5); border-radius: 8px; padding: 20px;">
							<h4 style="color: #f44336; font-size: 20px; margin-bottom: 15px; text-align: center;">üî¥ Top 3 SELL Signals</h4>
							<div id="top-sell-signals" style="min-height: 100px;">
								<div style="color: rgba(255, 255, 255, 0.6); text-align: center; padding: 20px;">Loading...</div>
							</div>
						</div>
					</div>
				</div>
				
				<div id="stock-signals-grid" class="signals-grid" style="background: rgba(76, 175, 80, 0.1); border: 2px solid rgba(76, 175, 80, 0.3); padding: 20px; min-height: 50px;">
					<div class="loading">‚è≥ Loading stock signals...</div>
				</div>
			</div>
			
			<!-- Asset List Section - Hidden by default -->
			<div id="asset-list"></div>
			<div id="asset-list-container" style="margin: 40px 0; padding: 0; display: none;">
				<h2 style="color: var(--primary-color); font-size: 28px; margin: 40px 0 20px; text-align: center;">üìã Asset List - Latest Signals</h2>
				<p style="color: rgba(255, 255, 255, 0.6); font-size: 14px; text-align: center; margin-bottom: 30px; max-width: 800px; margin-left: auto; margin-right: auto;">
					Find your favorite asset below to see its most recent trading signal. This view shows the latest signal for each asset, making it easy to check the current status of any asset you're tracking.
				</p>
				
				<!-- Crypto Assets List -->
				<div style="margin-bottom: 40px;">
					<h3 style="color: var(--primary-color); font-size: 24px; margin-bottom: 20px; text-align: center;">üíé Cryptocurrencies</h3>
					<div id="crypto-asset-list" class="asset-list-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 15px; margin-bottom: 30px;">
						<div class="loading">‚è≥ Loading crypto assets...</div>
					</div>
				</div>
				
				<!-- Stock Assets List -->
				<div>
					<h3 style="color: var(--primary-color); font-size: 24px; margin-bottom: 20px; text-align: center;">üìà Stocks & ETFs</h3>
					<div id="stock-asset-list" class="asset-list-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 15px;">
						<div class="loading">‚è≥ Loading stock assets...</div>
					</div>
				</div>
			</div>
			
			<!-- Backtest Results Section -->
			<div id="backtest"></div>
			<div class="backtest-section" style="display: block !important; visibility: visible !important; opacity: 1 !important; margin: 10px 0 0px 0 !important; padding: 40px 20px; background: rgba(76, 175, 80, 0.15); border-radius: 12px; border: 3px solid #4caf50;">
				<h2 style="color: #f1cfab; font-size: 32px; margin-bottom: 15px; text-align: center; display: block !important; visibility: visible !important;">
					üìà Backtest Performance
				</h2>
				
				<div style="display: block !important; visibility: visible !important; margin: 30px auto; max-width: 1200px; background: rgba(255, 0, 0, 0.1); padding: 20px;">
					<img src="img/Best%20backtest%2030m.png" 
					     alt="Best Backtest Results - 30 Minute Timeframe" 
					     style="display: block !important; visibility: visible !important; opacity: 1 !important; width: 100%; height: auto; border-radius: 8px; box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4); border: 3px solid #4caf50;"
					     onerror="console.error('Image failed to load:', this.src); this.style.border='5px solid red'; this.style.background='yellow'; alert('IMAGE LOAD ERROR: ' + this.src);">
				</div>
				
				<!-- Detailed Explanation -->
				<div style="display: block !important; visibility: visible !important; opacity: 1 !important; margin-top: 30px; text-align: left; max-width: 1000px; margin-left: auto; margin-right: auto; background: rgba(0, 0, 0, 0.5); padding: 30px; border-radius: 8px; border-left: 4px solid #f1cfab;">
					<p style="display: block !important; visibility: visible !important; color: rgba(255, 255, 255, 0.95); font-size: 16px; line-height: 1.8; margin-bottom: 15px;">
						Now I could <strong>lie to you</strong> and tell you that this is real. Unfortunately this is overly optimistic because of repainting. 
						<strong>HOWEVER</strong>, I started to ponder how I could solve the problem.
					</p>
					
					<p style="color: rgba(255, 255, 255, 0.9); font-size: 16px; line-height: 1.8; margin-bottom: 15px;">
						<strong style="color: #4caf50;">The solution:</strong> Delay the bot intentionally to have it look back in time to see if the signal was <strong>REAL</strong> and to crunch the numbers on historical data that can <strong>NO LONGER BE CHANGED</strong>. On the backend, I have preliminary signals that fire, but they will only be shown on this website once enough time has passed by, and once enough signal confluence becomes true. 
					</p>
					
					<p style="color: rgba(255, 255, 255, 0.9); font-size: 16px; line-height: 1.8; margin-bottom: 15px;">
						This is a big reason that led to the <strong style="color: var(--primary-color);">double filtering strategy</strong>‚Äîfirst TradingView, then have Python code to help watch the trade to make sure everything is going to plan and it is not a repainting volatile fake-out. The other big reason for Python code? <strong style="color: #ab47bc;">Sophisticated AI algorithms that are not possible in TradingView.</strong>
					</p>
					
					<div style="background: rgba(244, 67, 54, 0.15); border: 2px solid #ef5350; padding: 25px; border-radius: 8px; margin: 20px 0;">
						<p style="color: rgba(255, 255, 255, 0.95); font-size: 18px; line-height: 1.8; margin: 0; font-weight: bold;">
							That being said, <span style="color: #ef5350; font-size: 24px;">447,623,973,008% ROI</span> with 
							<span style="color: #4caf50;">83.87% accuracy</span>, 
							<span style="color: #ffa726;">14.362 Profit Factor</span> is <strong>INSANE</strong>, and I am <strong>INSANE</strong> for giving this away for FREE. 
							When Blackrock finds out about this, they'll certainly make me "sleep with the fishes." üêüüíÄ
						</p>
					</div>
					
					<p style="color: rgba(255, 255, 255, 0.9); font-size: 16px; line-height: 1.8; margin-bottom: 15px;">
						<strong>Still need more proof?</strong> I ran <strong style="color: #42a5f5;">Monte Carlo tests</strong>. That means I even ran the bot through <em>alternate versions of history</em>. What if Bitcoin was at $2 right now, would the bot still have made money? <strong style="color: #4caf50;">Yes</strong>, the bot is still successful in alternate versions of history, so I didn't shoot the arrow first and then draw a bullseye around it. This helps to avoid future knowledge or over-fitting hard-coded bias.
					</p>
					
					<p style="color: rgba(255, 255, 255, 0.9); font-size: 16px; line-height: 1.8; margin-bottom: 0;">
						<strong>In fact, the backtests were so good that I caused TradingView to have errors</strong> and I had to start putting the starting capital at <strong style="color: var(--primary-color);">$1.00</strong>. 
						If I put $1,000 starting capital, <span style="color: #f44336; font-weight: bold;">TradingView's UI would break!</span> 
						<span style="background: rgba(255, 193, 7, 0.2); padding: 2px 8px; border-radius: 4px; font-weight: bold;">Also, that backtest image is from 3 years ago before 100,000 additional lines of code‚Äîimagine what it can do now!</span> üöÄ
					</p>
				</div>
				
				<p style="color: rgba(255, 255, 255, 0.6); font-size: 14px; margin-top: 30px; font-style: italic; text-align: center;">
					Past performance does not guarantee future results. All trading involves risk. 
					See full disclaimer for important risk information.
				</p>
			</div>
			
			<!-- Signal Timing & Repainting Explanation -->
			<div id="trading-advice"></div>
			<div class="indicators-section" style="margin-top: 0px !important; background: rgba(76, 175, 80, 0.1); border: 2px solid #4caf50;">
				<div class="indicators-header">
					<h2>üí° How to Use These Signals</h2>
					<p style="color: rgba(255, 255, 255, 0.9); font-size: 18px; max-width: 900px; margin: 0 auto 30px; line-height: 1.8;">
						<strong>Important: There is NO race to act on signals immediately.</strong> In fact, waiting for confirmation is often the smarter approach.
					</p>
				</div>
				
				<div class="indicators-content">
					<div class="indicator-category" style="background: rgba(76, 175, 80, 0.05);">
						<h3 style="color: #4caf50;">üéØ Signal Timing Philosophy</h3>
						
						<h4>Wait for Confirmation (Recommended)</h4>
						<ul>
							<li><strong>Don't rush the entry</strong> - Give signals a few hours to confirm the move is real. Consider starting with a smaller position (25-50% of your intended size) and adding to it as the move confirms through price action, additional indicators, or time. This scaling approach lets you participate while managing risk.
							<br><br>
							<strong>Understanding "Repainting":</strong> There's a phenomenon called repainting, which is when live prices are moving so fast that the signal "changes its mind." In order to mitigate repainting, consider slowly scaling in as you feel the move gets more and more confirmed. Of course, the market is filled with manipulation and "short squeezes," so this thinking helps mitigate that risk. 
							<br><br>
							<strong>Reality check:</strong> It's next to impossible to completely eliminate this‚Äîit's just the nature of trading. An asset can have a +50% move and then take it all back in the SAME candle. That's part of the game. This is why we emphasize position sizing and scaling, not all-or-nothing entries.</li>
							<li><strong>Avoid fake-outs</strong> - Extreme volatility can create false signals that reverse quickly</li>
							<li><strong>Let the move develop</strong> - The best traders don't try to catch the perfect bottom or top</li>
							<li><strong>Patience pays</strong> - A confirmed trend is worth more than catching the first tick</li>
						</ul>
						
						<h4>Understanding "Disappearing" Signals</h4>
						<p style="color: rgba(255, 255, 255, 0.8); margin-bottom: 15px;">
							You may notice that some signals appear on this website but later disappear from our backend charts. 
							<strong>This is a feature, not a bug.</strong>
						</p>
						<ul>
							<li><strong>Backend behavior</strong> - During extreme volatility, our algorithms may invalidate a signal if conditions change rapidly</li>
							<li><strong>Frontend behavior</strong> - Once a signal appears here, it stays permanently (with timestamp proof)</li>
							<li><strong>Why this matters</strong> - This creates a transparent, auditable record of ALL signals generated, even ones that don't fully develop</li>
							<li><strong>Real trading</strong> - This mirrors actual market conditions where some setups fail and that's perfectly normal</li>
						</ul>
						
						<h4>Anti-Repainting Proof</h4>
						<p style="color: rgba(255, 255, 255, 0.8); margin-bottom: 15px;">
							<strong>Repainting</strong> is when trading systems retroactively change or delete past signals to make their performance look better. 
							We explicitly prevent this through transparency:
						</p>
						<ul>
							<li><strong>Permanent timestamps</strong> - Every signal gets an immutable ISO 8601 timestamp the moment it's generated</li>
							<li><strong>Never deleted</strong> - Signals are archived (not removed) after 4 days, providing long-term proof</li>
							<li><strong>The longer signals age</strong> - The more proof they provide that we haven't edited or manipulated them</li>
							<li><strong>GitHub commit history</strong> - Every update to signals.json is version-controlled with commit timestamps</li>
							<li><strong>What you see is what was generated</strong> - No cherry-picking, no editing, no hiding bad calls</li>
						</ul>
						
						<div style="background: rgba(255, 193, 7, 0.1); border-left: 4px solid #ffc107; padding: 20px; margin-top: 20px; border-radius: 4px;">
							<h4 style="color: #ffc107; margin-top: 0;">üí° Professional Trader Mindset</h4>
							<p style="color: rgba(255, 255, 255, 0.9); margin-bottom: 10px;">
								The best traders understand that:
							</p>
							<ul style="margin-bottom: 0;">
								<li><strong>Not every signal will be profitable</strong> - That's trading. Even 55-60% win rate with proper risk management is excellent</li>
								<li><strong>Confirmation > Speed</strong> - Missing the first 2% of a move to gain 80% confidence is a good trade-off</li>
								<li><strong>Risk management matters most</strong> - Use stop-losses, position sizing, and never risk more than 1-2% per trade</li>
								<li><strong>The trend is your friend</strong> - Signals work best when aligned with higher timeframe trends</li>
								<li><strong>Patience wins</strong> - Let high-probability setups come to you rather than forcing trades</li>
							</ul>
						</div>
					</div>
				</div>
			</div>
			
			<!-- Ticker Symbols Section -->
			<div id="code-explanation"></div>
			<div class="indicators-section" style="margin-top: 40px;">
				<div class="indicators-header">
					<h2>üîß System Overview</h2>
					<p>We focus on a curated selection of assets to ensure quality analysis and signal generation. Below are the specific ticker symbols we actively monitor and trade.</p>
				</div>
				
				<div class="indicators-content">
					<div class="indicator-category">
						<h3>CRYPTOCURRENCIES (Bot 162)</h3>
						<p style="color: rgba(255, 255, 255, 0.8); margin-bottom: 15px;">Our cryptocurrency trading focuses on major liquid pairs with strong market depth:</p>
						<ul>
							<li><strong>BTC/USD</strong> - Bitcoin</li>
							<li><strong>ETH/USD</strong> - Ethereum</li>
							<li><strong>SOL/USD</strong> - Solana</li>
							<li><strong>CRV/USD</strong> - Curve DAO Token</li>
							<li><strong>XRP/USD</strong> - Ripple</li>
							<li><strong>DOGE/USD</strong> - Dogecoin</li>
							<li><strong>LINK/USD</strong> - Chainlink</li>
							<li><strong>ADA/USD</strong> - Cardano</li>
							<li><strong>SUI/USD</strong> - Sui</li>
							<li><strong>PEPE/USD</strong> - Pepe</li>
						</ul>
						<p style="color: rgba(255, 255, 255, 0.6); font-size: 0.9em; margin-top: 10px; font-style: italic;">Note: Additional cryptocurrencies may be traded based on JSON webhook signals and market conditions.</p>
					</div>
					
					<div class="indicator-category">
						<h3>STOCKS & ETFs (Stock Strategy 11)</h3>
						<p style="color: rgba(255, 255, 255, 0.8); margin-bottom: 15px;">Our stock strategy focuses on sector ETFs, benchmarks, and select individual stocks:</p>
						<h4>US Sector ETFs</h4>
						<ul>
							<li><strong>XLK</strong> - Technology Select Sector SPDR Fund</li>
							<li><strong>XLY</strong> - Consumer Discretionary Select Sector SPDR Fund</li>
							<li><strong>XLP</strong> - Consumer Staples Select Sector SPDR Fund</li>
							<li><strong>XLI</strong> - Industrial Select Sector SPDR Fund</li>
							<li><strong>XLB</strong> - Materials Select Sector SPDR Fund</li>
							<li><strong>XLRE</strong> - Real Estate Select Sector SPDR Fund</li>
							<li><strong>XLU</strong> - Utilities Select Sector SPDR Fund</li>
							<li><strong>XLC</strong> - Communication Services Select Sector SPDR Fund</li>
							<li><strong>XLF</strong> - Financial Select Sector SPDR Fund</li>
							<li><strong>XLV</strong> - Health Care Select Sector SPDR Fund</li>
							<li><strong>XLE</strong> - Energy Select Sector SPDR Fund</li>
						</ul>
						<h4>Specialized Sectors</h4>
						<ul>
							<li><strong>SOXX</strong> - iShares Semiconductor ETF</li>
						</ul>
						<h4>Individual Stocks</h4>
						<ul>
							<li><strong>NVDA</strong> - NVIDIA Corporation</li>
						</ul>
						<h4>Benchmarks</h4>
						<ul>
							<li><strong>SPY</strong> - SPDR S&P 500 ETF Trust</li>
						</ul>
						<h4>Precious Metals</h4>
						<ul>
							<li><strong>GLD</strong> - SPDR Gold Trust</li>
							<li><strong>SLV</strong> - iShares Silver Trust</li>
							<li><strong>PPLT</strong> - Aberdeen Standard Physical Platinum Shares ETF</li>
							<li><strong>PALL</strong> - Aberdeen Standard Physical Palladium Shares ETF</li>
						</ul>
						<h4>Energy</h4>
						<ul>
							<li><strong>USO</strong> - United States Oil Fund</li>
						</ul>
						<h4>International & Credit</h4>
						<ul>
							<li><strong>EEM</strong> - iShares MSCI Emerging Markets ETF</li>
							<li><strong>PCEF</strong> - Invesco CEF Income Composite ETF</li>
							<li><strong>HYG</strong> - iShares iBoxx $ High Yield Corporate Bond ETF</li>
						</ul>
						<h4>Country/Region ETFs</h4>
						<ul>
							<li><strong>MCHI</strong> - iShares MSCI China ETF</li>
							<li><strong>INDA</strong> - iShares MSCI India ETF</li>
							<li><strong>EWJ</strong> - iShares MSCI Japan ETF</li>
							<li><strong>EWG</strong> - iShares MSCI Germany ETF</li>
							<li><strong>EWT</strong> - iShares MSCI Taiwan ETF</li>
						</ul>
					</div>
				</div>
			</div>
			
			<!-- Indicator Inventory Section -->
			<div class="indicators-section">
				<div class="indicators-header">
					<h2>üìä Comprehensive Indicator Analysis</h2>
					<p>Our trading signals are generated using a sophisticated multi-indicator confluence approach. Below is a complete inventory of all technical indicators, filters, and analysis methods used across our trading systems.</p>
				</div>
				
				<div class="indicators-content">
					<div class="indicator-category">
						<h3>TREND INDICATORS</h3>
						<h4>Moving Averages</h4>
						<ul>
							<li><strong>EMA (Exponential Moving Average)</strong>
								<ul>
									<li>Fast EMA (12-period) - short-term trend</li>
									<li>Slow EMA (26-period) - medium-term trend</li>
									<li>EMA 13 - megabot trend direction</li>
									<li>EMA 21 - megabot secondary trend</li>
									<li>EMA 195 - long-term trend filter</li>
								</ul>
							</li>
							<li><strong>SMA (Simple Moving Average)</strong>
								<ul>
									<li>SMA 18 - short-term average</li>
									<li>SMA 20 - standard trend line</li>
									<li>SMA 50 - medium-term trend (BTC halving analysis)</li>
									<li>SMA 200 - long-term trend (BTC halving analysis)</li>
								</ul>
							</li>
							<li><strong>Hull Moving Average (HMA)</strong> - Base length 8, scalar 5 - smoothed trend following</li>
							<li><strong>Guppy GMMA (Multiple Moving Averages)</strong> - Multiple EMA layers for trend confirmation</li>
						</ul>
						<h4>Trend Strength & Direction</h4>
						<ul>
							<li><strong>ADX (Average Directional Index)</strong> - 14-period ADX for trend strength measurement, ADX thresholds: 7-8 for shorts, 8+ for longs, ADX Divergence - price vs trend strength divergence</li>
							<li><strong>Parabolic SAR</strong> - Acceleration 0.02, maximum 0.2 - dynamic stop and reverse</li>
							<li><strong>Ichimoku Cloud</strong> - Tenkan (9-period), Kijun (26-period), Senkou A/B (52-period), Chikou span, cloud thickness analysis, comprehensive trend system with support/resistance</li>
							<li><strong>SuperTrend</strong> - ATR-based trend following with dynamic stop levels, Factor 3.0, ATR period 10, SuperTrend Slope Divergence - price vs trend slope divergence</li>
							<li><strong>Directional Movement</strong> - +DI and -DI components for trend direction, DX (Directional Index) calculation</li>
						</ul>
						<h4>Advanced Trend Detection</h4>
						<ul>
							<li><strong>Parabola Detection</strong> - Mathematical curve fitting (quadratic regression), R¬≤ confidence threshold (0.70 default), Deviation threshold (2% default), ATR and ADX filtered parabola detection, Persistent parabola signals with duration tracking</li>
							<li><strong>MegaBot Crossover System</strong> - Higher timeframe close vs open crossover (720-minute default), 34-period SMA on higher timeframe, Multi-timeframe trend confirmation</li>
						</ul>
					</div>
					
					<div class="indicator-category">
						<h3>MOMENTUM INDICATORS</h3>
						<h4>Oscillators</h4>
						<ul>
							<li><strong>RSI (Relative Strength Index)</strong> - 14-period standard RSI, 7-period fast RSI (SuperTrend variant), 21-period slow RSI (SuperTrend variant), RSI Divergence (regular and hidden bullish/bearish), RSI momentum filter for regime detection</li>
							<li><strong>Stochastic RSI</strong> - 14-period RSI, 14-period stochastic, 3-period smoothing, Stochastic RSI Divergence (regular and hidden)</li>
							<li><strong>MACD (Moving Average Convergence Divergence)</strong> - MACD1: Fast 12, Slow 26, Signal 9 (standard), MACD2 (Impulse MACD / LazyBear): 34-period SMMA-based, MACD Histogram analysis, MACD Divergence (regular and hidden), MACD crossover signals (up/down, above/below zero)</li>
							<li><strong>Williams %R</strong> - 14-period momentum oscillator (-100 to 0 scale), Williams %R Divergence</li>
							<li><strong>CCI (Commodity Channel Index)</strong> - 20-period CCI (-200 to +200 scale), CCI Divergence</li>
							<li><strong>MFI (Money Flow Index)</strong> - 14-period volume-weighted momentum (0-100 scale), MFI Divergence</li>
							<li><strong>ROC (Rate of Change)</strong> - 12-period percentage price change, ROC Divergence</li>
						</ul>
						<h4>Momentum Filters</h4>
						<ul>
							<li><strong>Divergence Analysis</strong> - Price vs indicator divergence detection, Regular and hidden divergences (bullish/bearish), Lookback: 20 periods, min swings: 2, persistence: 3 bars, Applied to: RSI, Stochastic RSI, MACD, CCI, MFI, Williams %R, ROC, OBV, SuperTrend, Bollinger Bands, VROC, ATR</li>
						</ul>
					</div>
					
					<div class="indicator-category">
						<h3>VOLATILITY INDICATORS</h3>
						<h4>Volatility Measurement</h4>
						<ul>
							<li><strong>ATR (Average True Range)</strong> - 14-period ATR for volatility measurement, ATR-SMA(20) for volatility trend, ATR Channels - dynamic support/resistance with squeeze/bounce/breakout, ATR Divergence, ATR Filter - consolidation detection (1111-period, 2.5 threshold)</li>
							<li><strong>Bollinger Bands</strong> - 20-period, 2.0 standard deviations, Band width analysis, Bollinger Band Width Divergence, Squeeze detection (threshold 0.1), Bounce detection (threshold 0.2)</li>
							<li><strong>Keltner Channels</strong> - 20-period EMA, 2.0 ATR multiplier, Squeeze detection (threshold 0.1), Bounce detection (threshold 0.2)</li>
							<li><strong>RVOL (Relative Volatility)</strong> - Short-term ATR (5) vs Long-term ATR (14), Threshold 0.78 for volatility alerts</li>
						</ul>
						<h4>Advanced Volatility Analysis</h4>
						<ul>
							<li><strong>GAPO (Gopalakrishnan Range Index)</strong> - Real vs noisy trend detection, Base length 5, Min-Max normalization [-1,1], Z-score normalization with tanh clamping</li>
							<li><strong>Hurst Exponent</strong> (referenced for future implementation)</li>
							<li><strong>Detrended Price Oscillator</strong> (referenced for future implementation)</li>
						</ul>
					</div>
					
					<div class="indicator-category">
						<h3>VOLUME INDICATORS</h3>
						<h4>Volume Analysis</h4>
						<ul>
							<li><strong>Volume SMA Ratio</strong> - 20-period volume vs 20-period SMA, Volume confirmation threshold (1.1x default)</li>
							<li><strong>VWAP (Volume Weighted Average Price)</strong> - Daily session VWAP, VWAP deviation analysis</li>
							<li><strong>OBV (On-Balance Volume)</strong> - 14-period cumulative volume flow, OBV Divergence (regular and hidden)</li>
							<li><strong>Volume Profile</strong> - High Volume Nodes (HVN) - strong support/resistance, Low Volume Nodes (LVN) - breakout zones, Volume trend analysis</li>
							<li><strong>VROC (Volume Rate of Change)</strong> - 10-period volume momentum, VROC SMA and momentum analysis, VROC Divergence</li>
						</ul>
					</div>
					
					<div class="indicator-category">
						<h3>SUPPORT & RESISTANCE INDICATORS</h3>
						<h4>Dynamic Levels</h4>
						<ul>
							<li><strong>Donchian Channels</strong> - 20-period high/low breakout system</li>
							<li><strong>Support/Resistance Detection</strong> - Pivot-based S/R levels (4-period pivots, max 5 levels), Channel width analysis (10% max), Strength-based ranking (min strength 2), Most recent resistance tracking, Underneath resistance detection (0.1-2% band)</li>
							<li><strong>Fibonacci Retracements</strong> - 0.382, 0.500, 0.618, 0.764, 0.854 levels, 150-bar lookback for high/low, Fib 0.382 avoid-long band (1% underneath)</li>
							<li><strong>Round Number Detection</strong> - Multiples of 50, 100, 1000, 10000, Proximity range (3 points default), Avoid trading near round numbers</li>
						</ul>
					</div>
					
					<div class="indicator-category">
						<h3>CANDLESTICK PATTERNS</h3>
						<h4>Pattern Recognition</h4>
						<ul>
							<li><strong>Bullish Patterns</strong> - Bullish Engulfing, Bullish Marubozu, Bullish Hammer, Three Bull Soldiers</li>
							<li><strong>Bearish Patterns</strong> - Bearish Engulfing, Bearish Marubozu, Shooting Star, Three Bear Soldiers</li>
							<li><strong>Pattern Filters</strong> - Body size threshold (10% of range), Lower lows confirmation, Star pattern detection (78.6% threshold)</li>
						</ul>
					</div>
					
					<div class="indicator-category">
						<h3>ELLIOTT WAVE ANALYSIS</h3>
						<h4>Wave Patterns</h4>
						<ul>
							<li><strong>Motive Waves (1-2-3-4-5)</strong> - Bullish and bearish impulse patterns, Wave validation (W3 != min of W1, W3, W5), Wave structure confirmation</li>
							<li><strong>Corrective Waves (A-B-C)</strong> - Bullish and bearish corrective patterns, Fibonacci-based validation (0.854 threshold), Box pattern for corrective waves</li>
							<li><strong>Wave Invalidation</strong> - Dot pattern for invalidated waves, Break detection (box breakouts)</li>
							<li><strong>Fibonacci Extensions</strong> - 0.500, 0.618, 0.764, 0.854 levels, Wave-based Fibonacci projections</li>
						</ul>
					</div>
					
					<div class="indicator-category">
						<h3>ADVANCED FILTERS & SIGNALS</h3>
						<h4>Cycle & Frequency Analysis</h4>
						<ul>
							<li><strong>Hilbert Transform</strong> - Cycle length detection, Real and imaginary components, Phase analysis (teal/maroon/silver fills)</li>
							<li><strong>Ehler's Roofing Filter</strong> - High-pass filter (48-period default), Super Smoother Filter (10-period, 2-3 poles), Noise reduction for trend clarity</li>
						</ul>
						<h4>AI-Powered Market Regime Detection</h4>
						<ul>
							<li><strong>Hidden Markov Model (AI System)</strong> - 9-state Gaussian AI model, Features: Log Returns, Volatility, RSI, MFI, Regime labels: Extreme Bearish ‚Üí Extreme Bullish, Regime persistence tracking, Transition probability analysis</li>
							<li><strong>Regime Filter (BTC Halving)</strong> - Weekly timeframe EMA(20), Market price vs EMA + 0.25 ATR, RSI momentum filter (70 threshold, optional), Bullish/bearish/caution counters</li>
						</ul>
						<h4>Market Structure</h4>
						<ul>
							<li><strong>BTC Halving Cycles</strong> - Halving dates: 2012, 2016, 2020, 2024, Bull run length: 552 bars (4H) / 2208 bars (1H), Pre-halving length: 1100 bars (4H) / 4400 bars (1H), Max bull length: 3312 bars (4H) / 13248 bars (1H), Macro cycle timing filters</li>
						</ul>
					</div>
					
					<div class="indicator-category">
						<h3>STATISTICAL & AI INDICATORS</h3>
						<h4>Statistical Analysis</h4>
						<ul>
							<li><strong>Z-Score</strong> - 20-period Z-score of close price, Standard deviation measurement, Threshold: ¬±2.0 default</li>
							<li><strong>Technical Rating (TradingView)</strong> - Combined MA + Indicators rating, Separate MA rating and Indicators rating, Unified 0-100 scale</li>
							<li><strong>Sharpe Ratio</strong> - Risk-adjusted return measurement, Benchmark comparison (SPX default)</li>
							<li><strong>Sortino Ratio</strong> - Downside risk-adjusted return, Risk-free rate consideration (2% default)</li>
						</ul>
						<h4>Artificial Intelligence</h4>
						<ul>
							<li><strong>Hidden Markov Model (AI Regime Detection)</strong> - 9-state regime detection, Gaussian emission probabilities, Bayesian Information Criterion (BIC) for model selection, K-Means clustering for regime labeling, Feature standardization (StandardScaler)</li>
						</ul>
					</div>
					
					<div class="indicator-category">
						<h3>TIMING & FILTERS</h3>
						<h4>Time-Based Filters</h4>
						<ul>
							<li><strong>Day-of-Week Filter</strong> - Friday block for buy entries, Sunday night avoidance for shorts</li>
							<li><strong>Bar Confirmation</strong> - 1-bar delay for signal confirmation, Barstate.isconfirmed requirement</li>
							<li><strong>Cooldown Periods</strong> - EMA+JSON cooldown: 360 minutes, Per-symbol execution tracking</li>
						</ul>
						<h4>Risk Management Filters</h4>
						<ul>
							<li><strong>Monte Carlo Skip</strong> - Probabilistic trade skipping (0-100%), Random spread application</li>
							<li><strong>Position Filters</strong> - Flat position requirement for new entries, Bars in position tracking, Bars since no position tracking</li>
							<li><strong>Profit/Loss Filters</strong> - Trade profit percentage tracking, Minimum profit threshold (0.50%), Maximum loss threshold (-1.0%), Average take profit (6.59% in bear markets)</li>
						</ul>
					</div>
					
					<div class="indicator-category">
						<h3>MULTI-TIMEFRAME ANALYSIS</h3>
						<h4>Timeframe Confirmation</h4>
						<ul>
							<li><strong>Multi-Timeframe (MTF) Confirmation</strong> - Daily ‚Üí Weekly ‚Üí Monthly resampling, Strength boost: +50% (weekly), +100% (monthly), MTF alignment indicators</li>
							<li><strong>Higher Timeframe Requests</strong> - 720-minute (12-hour) megabot timeframe, Weekly and monthly confirmations, Lookahead bias prevention</li>
						</ul>
					</div>
					
					<div class="indicator-category">
						<h3>CONVICTION RANKING SYSTEM</h3>
						<p style="color: rgba(255, 255, 255, 0.9); font-size: 16px; margin-bottom: 25px; font-weight: bold;">
							Every signal is ranked by conviction level based on how many layers of analysis confirmed it. 
							More stars = More filters passed = Higher reliability.
						</p>
						
						<div style="background: rgba(33, 150, 243, 0.15); border-left: 4px solid #42a5f5; padding: 20px; margin-bottom: 20px; border-radius: 4px;">
							<h4 style="color: #42a5f5; margin-top: 0;">‚≠ê STANDARD CONVICTION</h4>
							<p style="color: rgba(255, 255, 255, 0.85); margin-bottom: 10px;">
								<strong>Source:</strong> TradingView chart analysis<br>
								<strong>Filters passed:</strong> 100+ technical indicators working together
							</p>
							<p style="color: rgba(255, 255, 255, 0.7); font-size: 14px; margin: 0;">
								These signals have already passed strict confluence requirements on the TradingView platform. 
								Multiple indicators must agree before the signal fires.
							</p>
						</div>
						
						<div style="background: rgba(255, 152, 0, 0.15); border-left: 4px solid #ffa726; padding: 20px; margin-bottom: 20px; border-radius: 4px;">
							<h4 style="color: #ffa726; margin-top: 0;">‚≠ê‚≠ê HIGH CONVICTION</h4>
							<p style="color: rgba(255, 255, 255, 0.85); margin-bottom: 10px;">
								<strong>Source:</strong> TradingView + Python double-filter<br>
								<strong>Additional filters:</strong> EMA trends, volatility checks, risk management
							</p>
							<p style="color: rgba(255, 255, 255, 0.7); font-size: 14px; margin: 0;">
								TradingView signal that passed a second round of filtering in our Python algorithms. 
								Additional confirmation from moving averages, volatility analysis, and risk parameters must all align.
							</p>
						</div>
						
						<div style="background: rgba(156, 39, 176, 0.15); border-left: 4px solid #ab47bc; padding: 20px; margin-bottom: 20px; border-radius: 4px;">
							<h4 style="color: #ab47bc; margin-top: 0;">‚≠ê‚≠ê‚≠ê ULTRA HIGH CONVICTION</h4>
							<p style="color: rgba(255, 255, 255, 0.85); margin-bottom: 10px;">
								<strong>Source:</strong> TradingView + AI confirmation<br>
								<strong>AI layer:</strong> 9-state Hidden Markov Model analyzing market regime
							</p>
							<p style="color: rgba(255, 255, 255, 0.7); font-size: 14px; margin: 0;">
								Both TradingView indicators AND our AI system agree on the signal direction. 
								The AI analyzes market structure, volatility patterns, and regime shifts to confirm the setup is legitimate.
							</p>
						</div>
						
						<div style="background: rgba(244, 67, 54, 0.15); border-left: 4px solid #ef5350; padding: 20px; margin-bottom: 20px; border-radius: 4px;">
							<h4 style="color: #ef5350; margin-top: 0;">‚≠ê‚≠ê‚≠ê‚≠ê BEST CONVICTION</h4>
							<p style="color: rgba(255, 255, 255, 0.85); margin-bottom: 10px;">
								<strong>Source:</strong> AI-detected extreme regime (standalone)<br>
								<strong>Rarity:</strong> Only triggered in the strongest market conditions
							</p>
							<p style="color: rgba(255, 255, 255, 0.7); font-size: 14px; margin: 0;">
								<strong>The rarest and most reliable signals.</strong> Our AI system detects extreme bullish or bearish market regimes 
								with such high confidence that it publishes the signal even without TradingView confirmation. 
								These represent the clearest, highest-probability setups.
							</p>
						</div>
						
						<div style="background: rgba(255, 193, 7, 0.1); border-left: 4px solid #ffc107; padding: 20px; margin-top: 30px; border-radius: 4px;">
							<h4 style="color: #ffc107; margin-top: 0;">üí° How to Use the Conviction System</h4>
							<ul style="margin-bottom: 0;">
								<li><strong>Position Sizing</strong> - Consider larger positions on higher conviction signals (still maintain proper risk management)</li>
								<li><strong>Entry Timing</strong> - Standard signals may benefit from additional confirmation time; Best signals are often immediate opportunities</li>
								<li><strong>Risk Tolerance</strong> - Conservative traders focus on Ultra High and Best; aggressive traders can trade all levels</li>
								<li><strong>Track Performance</strong> - Monitor which conviction levels work best for your trading style and market conditions</li>
								<li><strong>Not Guarantees</strong> - Higher conviction = higher probability, but no signal is perfect. Always use stop-losses.</li>
						</ul>
						</div>
					</div>
					
					<div class="summary-stats">
						<h3>üìà Summary Statistics</h3>
						<ul>
							<li><strong>Trend Indicators</strong>: 15+</li>
							<li><strong>Momentum Indicators</strong>: 20+ (including divergences)</li>
							<li><strong>Volatility Indicators</strong>: 10+</li>
							<li><strong>Volume Indicators</strong>: 8+</li>
							<li><strong>Support/Resistance</strong>: 6+</li>
							<li><strong>Candlestick Patterns</strong>: 8+</li>
							<li><strong>Elliott Wave</strong>: Complete 5-wave + ABC system</li>
							<li><strong>Advanced Filters</strong>: 10+</li>
							<li><strong>Statistical/ML</strong>: 5+</li>
							<li><strong>Timing Filters</strong>: 5+</li>
							<li style="grid-column: 1 / -1; font-size: 20px; font-weight: bold; color: var(--primary-color); margin-top: 10px;"><strong>Total Unique Indicators: 100+</strong></li>
						</ul>
						
						<div class="philosophy-box">
							<h4>Signal Generation Philosophy</h4>
							<p style="color: rgba(255, 255, 255, 0.9); margin-bottom: 15px;">Our trading systems employ a <strong>multi-indicator confluence approach</strong> where signals require:</p>
							<ol>
								<li><strong>Multiple confirmations</strong> across different indicator categories</li>
								<li><strong>Timeframe alignment</strong> (daily, weekly, monthly)</li>
								<li><strong>Regime awareness</strong> (HMM, halving cycles, market structure)</li>
								<li><strong>Risk filters</strong> (volatility, volume, timing)</li>
								<li><strong>Pattern recognition</strong> (Elliott Wave, candlesticks, parabola)</li>
								<li><strong>Statistical validation</strong> (Z-scores, Sharpe/Sortino, technical ratings)</li>
							</ol>
							<p style="color: rgba(255, 255, 255, 0.9); margin-top: 15px; font-style: italic;">This comprehensive approach ensures that only <strong>high-conviction signals</strong> with multiple layers of confirmation are generated, reducing false signals and improving trade quality.</p>
						</div>
					</div>
				</div>
			</div>
		</div>
		
		<!-- Stock Historical Signals Section (7+ days old) - Hidden by default -->
		<div id="stock-historical-container" style="margin: 40px 0 !important; padding: 0; display: none;">
			<div style="text-align: center; margin-bottom: 20px;">
				<h2 style="color: var(--primary-color); margin-bottom: 15px;">üìà Historical Stock & ETF Signals (7+ Days Old)</h2>
				<p style="color: rgba(255, 255, 255, 0.5); font-size: 14px; margin-top: 10px; max-width: 600px; margin-left: auto; margin-right: auto;">
					Stock signals older than 7 days are archived here. Stocks are long-term plays, so these signals remain relevant for extended periods.<br>
					<span id="stock-historical-count-display" style="display: block; margin-top: 10px; color: rgba(255, 255, 255, 0.7); font-weight: bold;">(<span id="stock-historical-count">0</span> archived stock signals)</span>
				</p>
			</div>
			
			<div id="stock-historical-grid" class="signals-grid" style="display: grid; background: rgba(76, 175, 80, 0.1); border: 2px solid rgba(76, 175, 80, 0.3); padding: 20px; opacity: 0.8;">
				<!-- Historical stock signals will be rendered here -->
			</div>
		</div>
		
		<!-- Old Signals Section (Crypto 1+ days old) - Hidden by default -->
		<div class="refresh-info" style="display: none;">
			Auto-refreshing every 30 seconds
		</div>
		
		<div id="old-signals-container" style="margin: 20px 0 !important; padding: 0; display: none;">
			<div style="text-align: center; margin-bottom: 20px;">
				<h2 style="color: var(--primary-color); margin-bottom: 15px;">üìú Historical Crypto Signals (1+ Days Old)</h2>
				<p style="color: rgba(255, 255, 255, 0.5); font-size: 14px; margin-top: 10px; max-width: 600px; margin-left: auto; margin-right: auto;">
					Crypto signals older than 1 day are archived here for transparency and backtesting.<br>
					The longer a signal has aged without being edited, the more proof it provides against repainting.
					<span id="old-signals-count-display" style="display: block; margin-top: 10px; color: rgba(255, 255, 255, 0.7); font-weight: bold;">(<span id="old-signals-count">0</span> archived crypto signals)</span>
				</p>
			</div>
			
			<div id="old-signals-grid" class="signals-grid" style="display: grid; background: rgba(0, 0, 0, 0.3); border: 2px solid rgba(255, 255, 255, 0.2); padding: 20px; opacity: 0.7;">
				<!-- Old crypto signals will be rendered here -->
			</div>
		</div>
		
		<script>
			let refreshInterval;
			
			// Disclaimer handling
			function initDisclaimer() {
				const overlay = document.getElementById('disclaimer-overlay');
				const checkbox = document.getElementById('disclaimer-checkbox');
				const acceptBtn = document.getElementById('disclaimer-accept-btn');
				const signalsContent = document.getElementById('signals-content');
				
				// Check if user has already accepted
				const accepted = localStorage.getItem('disclaimer-accepted');
				if (accepted === 'true') {
					overlay.classList.add('disclaimer-hidden');
					return;
				}
				
				// Hide signals content until accepted
				signalsContent.style.display = 'none';
				
				// Enable/disable accept button based on checkbox
				checkbox.addEventListener('change', function() {
					acceptBtn.disabled = !checkbox.checked;
				});
				
				// Handle accept button
				acceptBtn.addEventListener('click', function() {
					if (checkbox.checked) {
						localStorage.setItem('disclaimer-accepted', 'true');
						overlay.classList.add('disclaimer-hidden');
						signalsContent.style.display = 'block';
					}
				});
			}
			
			// Initialize disclaimer on page load
			initDisclaimer();
			
			function formatTimestamp(timestamp) {
				if (!timestamp) return 'N/A';
				try {
					const date = new Date(timestamp);
					return date.toLocaleString('en-US', {
						month: 'short',
						day: 'numeric',
						year: 'numeric',
						hour: '2-digit',
						minute: '2-digit',
						second: '2-digit'
					});
				} catch (e) {
					return timestamp;
				}
			}
			
			function formatPrice(price) {
				if (price === null || price === undefined) return 'N/A';
				return '$' + parseFloat(price).toFixed(4);
			}
			
			function formatQuantity(quantity, symbol) {
				if (quantity === null || quantity === undefined) return 'N/A';
				const qty = parseFloat(quantity);
				const formattedQty = qty.toLocaleString('en-US', {
					minimumFractionDigits: 2,
					maximumFractionDigits: 2
				});
				
				// If quantity is exactly 100, it's likely USD
				if (qty === 100) {
					return formattedQty + ' USD';
				}
				
				// Otherwise, extract asset symbol and show both quantity and asset
				if (symbol) {
					const asset = symbol.split('/')[0]; // Extract "CRV" from "CRV/USD"
					return formattedQty + ' ' + asset;
				}
				
				return formattedQty;
			}
			
			// Function to identify if a signal is a stock/ETF (not crypto)
			function isStockSignal(signal) {
				const symbol = (signal.symbol || '').toUpperCase();
				// Crypto symbols typically have "/USD" or "/USDT" etc.
				if (symbol.includes('/')) {
					return false;
				}
				// Common stock/ETF patterns (letters only, typically 2-5 characters)
				// This will catch SPY, XLK, NVDA, GLD, etc.
				return /^[A-Z]{1,5}$/.test(symbol);
			}
			
			function switchToCrypto() {
				const cryptoContainer = document.getElementById('crypto-signals-container');
				const stockContainer = document.getElementById('stock-signals-container');
				const assetListContainer = document.getElementById('asset-list-container');
				const cryptoBtn = document.getElementById('nav-crypto-btn');
				const stocksBtn = document.getElementById('nav-stocks-btn');
				
				// Show crypto, hide stocks and asset list
				if (cryptoContainer) cryptoContainer.style.display = 'block';
				if (stockContainer) stockContainer.style.display = 'none';
				if (assetListContainer) assetListContainer.style.display = 'none';
				
				// Update button styles
				if (cryptoBtn) {
					cryptoBtn.style.background = 'rgba(33, 150, 243, 1)';
					cryptoBtn.style.border = '3px solid #42a5f5';
					cryptoBtn.style.boxShadow = '0 4px 12px rgba(33, 150, 243, 0.4)';
				}
				if (stocksBtn) {
					stocksBtn.style.background = 'rgba(76, 175, 80, 0.5)';
					stocksBtn.style.border = '3px solid rgba(76, 175, 80, 0.5)';
					stocksBtn.style.boxShadow = 'none';
					stocksBtn.style.transform = 'translateY(0)';
				}
				
				// Scroll to crypto section
				setTimeout(() => {
					if (cryptoContainer) {
						cryptoContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
					}
				}, 100);
			}
			
			function switchToStocks() {
				const cryptoContainer = document.getElementById('crypto-signals-container');
				const stockContainer = document.getElementById('stock-signals-container');
				const stockHistoricalContainer = document.getElementById('stock-historical-container');
				const assetListContainer = document.getElementById('asset-list-container');
				const cryptoBtn = document.getElementById('nav-crypto-btn');
				const stocksBtn = document.getElementById('nav-stocks-btn');
				
				// Hide crypto and asset list, show stocks
				if (cryptoContainer) cryptoContainer.style.display = 'none';
				if (stockContainer) stockContainer.style.display = 'block';
				if (stockHistoricalContainer) stockHistoricalContainer.style.display = 'block';
				if (assetListContainer) assetListContainer.style.display = 'none';
				
				// Update button styles
				if (cryptoBtn) {
					cryptoBtn.style.background = 'rgba(33, 150, 243, 0.5)';
					cryptoBtn.style.border = '3px solid rgba(33, 150, 243, 0.5)';
					cryptoBtn.style.boxShadow = 'none';
					cryptoBtn.style.transform = 'translateY(0)';
				}
				if (stocksBtn) {
					stocksBtn.style.background = 'rgba(76, 175, 80, 1)';
					stocksBtn.style.border = '3px solid #4caf50';
					stocksBtn.style.boxShadow = '0 4px 12px rgba(76, 175, 80, 0.4)';
				}
				
				// Scroll to stock signals section
					setTimeout(() => {
					if (stockContainer) {
						stockContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
					}
					}, 100);
			}
			
			function showStockSignals() {
				// Redirect to the new navigation system
				switchToStocks();
			}
			
			function showHistoricalSignals() {
				const oldContainer = document.getElementById('old-signals-container');
				const oldGrid = document.getElementById('old-signals-grid');
				
				if (!oldContainer) return;
				
				// Toggle visibility
				if (oldContainer.style.display === 'none' || oldContainer.style.display === '') {
					// Show historical crypto signals
					oldContainer.style.display = 'block';
					if (oldGrid) {
						oldGrid.style.display = 'grid';
					}
					// Scroll to the historical signals section
					setTimeout(() => {
						oldContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
					}, 100);
				} else {
					// Hide historical signals
					oldContainer.style.display = 'none';
					if (oldGrid) {
						oldGrid.style.display = 'none';
					}
					// Scroll back to top
					window.scrollTo({ top: 0, behavior: 'smooth' });
				}
			}
			
			function showAssetList() {
				const assetListContainer = document.getElementById('asset-list-container');
				const cryptoContainer = document.getElementById('crypto-signals-container');
				const stockContainer = document.getElementById('stock-signals-container');
				
				if (!assetListContainer) return;
				
				// Hide other sections
				if (cryptoContainer) cryptoContainer.style.display = 'none';
				if (stockContainer) stockContainer.style.display = 'none';
				
				// Show asset list
				assetListContainer.style.display = 'block';
				
				// Scroll to asset list
				setTimeout(() => {
					assetListContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
				}, 100);
				
				// Render the asset list if we have signals
				if (window.allSignals && window.allSignals.length > 0) {
					renderAssetList(window.allSignals);
				}
			}
			
			function renderAssetList(signals) {
				if (!signals || signals.length === 0) {
					document.getElementById('crypto-asset-list').innerHTML = '<div class="empty-state"><p>No signals available</p></div>';
					document.getElementById('stock-asset-list').innerHTML = '<div class="empty-state"><p>No signals available</p></div>';
					return;
				}
				
				// Create a map to store the most recent signal per asset
				const assetMap = new Map();
				
				// Process all signals to find the most recent one per asset
				signals.forEach(signal => {
					const symbol = signal.symbol || '';
					const timestamp = new Date(signal.timestamp || signal.received_at).getTime();
					
					// Check if we already have a signal for this asset
					if (!assetMap.has(symbol) || timestamp > assetMap.get(symbol).timestamp) {
						assetMap.set(symbol, {
							symbol: symbol,
							action: signal.action || 'unknown',
							price: signal.price,
							timestamp: timestamp,
							note: signal.note || '',
							source: signal.source || ''
						});
					}
				});
				
				// Separate crypto and stocks
				const cryptoAssets = [];
				const stockAssets = [];
				
				assetMap.forEach((assetData, symbol) => {
					if (isStockSignal({ symbol: symbol })) {
						stockAssets.push(assetData);
					} else {
						cryptoAssets.push(assetData);
					}
				});
				
				// Sort alphabetically
				cryptoAssets.sort((a, b) => a.symbol.localeCompare(b.symbol));
				stockAssets.sort((a, b) => a.symbol.localeCompare(b.symbol));
				
				// Render crypto assets
				const cryptoList = document.getElementById('crypto-asset-list');
				if (cryptoAssets.length === 0) {
					cryptoList.innerHTML = '<div class="empty-state"><p>No cryptocurrency signals available</p></div>';
				} else {
					cryptoList.innerHTML = cryptoAssets.map(asset => renderAssetItem(asset)).join('');
				}
				
				// Render stock assets
				const stockList = document.getElementById('stock-asset-list');
				if (stockAssets.length === 0) {
					stockList.innerHTML = '<div class="empty-state"><p>No stock signals available</p></div>';
				} else {
					stockList.innerHTML = stockAssets.map(asset => renderAssetItem(asset)).join('');
				}
			}
			
			function renderAssetItem(asset) {
				const isBuy = asset.action.toLowerCase() === 'buy';
				const actionClass = isBuy ? 'buy' : 'sell';
				const actionEmoji = isBuy ? 'üü¢ üìà' : 'üî¥ üìâ';
				
				// Determine conviction badge
				let signalBadge = '';
				let signalClass = '';
				const note = asset.note || '';
				if (note.includes('Pure JSON Trade')) {
					signalBadge = '‚≠ê';
					signalClass = 'confluence-pure';
				} else if (note.includes('EMA + JSON')) {
					signalBadge = '‚≠ê‚≠ê';
					signalClass = 'confluence-ema';
				} else if (note.includes('HMM + JSON')) {
					signalBadge = '‚≠ê‚≠ê‚≠ê';
					signalClass = 'confluence-hmm';
				} else if (note.includes('HMM Extreme')) {
					signalBadge = '‚≠ê‚≠ê‚≠ê‚≠ê';
					signalClass = 'confluence-extreme';
				}
				
				return `
					<div class="asset-list-item ${actionClass}">
						<div>
							<div class="asset-name">${asset.symbol}</div>
							${asset.price !== null && asset.price !== undefined ? `
								<div class="asset-signal-price">${formatPrice(asset.price)}</div>
							` : ''}
						</div>
						<div class="asset-signal">
							<div style="display: flex; align-items: center; gap: 8px;">
								<span class="asset-signal-action ${actionClass}">${actionEmoji} ${asset.action.toUpperCase()}</span>
								${signalBadge ? `<span class="confluence-badge ${signalClass}" style="font-size: 12px;">${signalBadge}</span>` : ''}
							</div>
							<div class="asset-signal-time">${formatTimestamp(new Date(asset.timestamp))}</div>
						</div>
					</div>
				`;
			}
			
			function renderTop3Signals(signals) {
				// Extract stock signals only
				const stockSignals = signals.filter(s => isStockSignal(s));
				
				if (stockSignals.length === 0) {
					document.getElementById('top-buy-signals').innerHTML = '<div style="color: rgba(255, 255, 255, 0.6); text-align: center; padding: 20px;">No stock signals available</div>';
					document.getElementById('top-sell-signals').innerHTML = '<div style="color: rgba(255, 255, 255, 0.6); text-align: center; padding: 20px;">No stock signals available</div>';
					return;
				}
				
				// Constants for thresholds
				const BUY_THRESHOLD = 16;  // ‚â•16/38 (‚âà42%)
				const SELL_THRESHOLD = 13; // ‚â•13/37 (‚âà35%)
				
				// Extract scores from signals (if available in metadata)
				// Signals might have buy_score, sell_score, total_buy, total_sell in note or metadata
				const signalsWithScores = stockSignals.map(signal => {
					// Try to extract scores from note or metadata
					let buyScore = 0, sellScore = 0, totalBuy = 38, totalSell = 37;
					
					// Check if signal has score metadata
					if (signal.buy_score !== undefined) {
						buyScore = signal.buy_score;
						totalBuy = signal.total_buy_components || 38;
					}
					if (signal.sell_score !== undefined) {
						sellScore = signal.sell_score;
						totalSell = signal.total_sell_components || 37;
					}
					
					// Try parsing from note if available
					const note = signal.note || '';
					const buyMatch = note.match(/buy\s+(\d+)\/(\d+)/i);
					const sellMatch = note.match(/sell\s+(\d+)\/(\d+)/i);
					
					if (buyMatch) {
						buyScore = parseInt(buyMatch[1]);
						totalBuy = parseInt(buyMatch[2]);
					}
					if (sellMatch) {
						sellScore = parseInt(sellMatch[1]);
						totalSell = parseInt(sellMatch[2]);
					}
					
					return {
						symbol: signal.symbol || 'N/A',
						price: signal.price,
						buyScore: buyScore,
						sellScore: sellScore,
						totalBuy: totalBuy,
						totalSell: totalSell,
						action: signal.action,
						timestamp: signal.timestamp || signal.received_at,
						sector: signal.sector || 'N/A'
					};
				});
				
				// Sort by buy_score descending
				const topBuy = signalsWithScores
					.filter(s => s.action && s.action.toLowerCase() === 'buy')
					.sort((a, b) => b.buyScore - a.buyScore)
					.slice(0, 3);
				
				// Sort by sell_score descending
				const topSell = signalsWithScores
					.filter(s => s.action && s.action.toLowerCase() === 'sell')
					.sort((a, b) => b.sellScore - a.sellScore)
					.slice(0, 3);
				
				// Render Top 3 BUY
				const buyContainer = document.getElementById('top-buy-signals');
				if (topBuy.length === 0) {
					buyContainer.innerHTML = '<div style="color: rgba(255, 255, 255, 0.6); text-align: center; padding: 20px;">No BUY signals today</div>';
				} else {
					buyContainer.innerHTML = topBuy.map((signal, idx) => {
						const metThreshold = signal.buyScore >= BUY_THRESHOLD;
						const thresholdStatus = metThreshold 
							? `<span style="color: #4caf50; font-weight: bold;">‚úÖ Met (‚â•${BUY_THRESHOLD})</span>`
							: `<span style="color: #ffc107; font-weight: bold;">‚ö†Ô∏è Need ${BUY_THRESHOLD - signal.buyScore} more (threshold: ‚â•${BUY_THRESHOLD})</span>`;
						
						return `
							<div style="background: rgba(0, 0, 0, 0.3); padding: 15px; margin-bottom: 12px; border-radius: 6px; border-left: 3px solid #4caf50;">
								<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
									<span style="color: #4caf50; font-weight: bold; font-size: 18px;">#${idx + 1} ${signal.symbol}</span>
									${signal.price ? `<span style="color: #fff; font-weight: bold;">$${parseFloat(signal.price).toFixed(2)}</span>` : ''}
								</div>
								<div style="color: rgba(255, 255, 255, 0.9); font-size: 14px; margin-bottom: 6px;">
									<strong>BUY Score:</strong> ${signal.buyScore}/${signal.totalBuy} ${thresholdStatus}
								</div>
								<div style="color: rgba(255, 255, 255, 0.7); font-size: 13px;">
									SELL: ${signal.sellScore}/${signal.totalSell} | Sector: ${signal.sector}
								</div>
							</div>
						`;
					}).join('');
				}
				
				// Render Top 3 SELL
				const sellContainer = document.getElementById('top-sell-signals');
				if (topSell.length === 0) {
					sellContainer.innerHTML = '<div style="color: rgba(255, 255, 255, 0.6); text-align: center; padding: 20px;">No SELL signals today</div>';
				} else {
					sellContainer.innerHTML = topSell.map((signal, idx) => {
						const metThreshold = signal.sellScore >= SELL_THRESHOLD;
						const thresholdStatus = metThreshold 
							? `<span style="color: #4caf50; font-weight: bold;">‚úÖ Met (‚â•${SELL_THRESHOLD})</span>`
							: `<span style="color: #ffc107; font-weight: bold;">‚ö†Ô∏è Need ${SELL_THRESHOLD - signal.sellScore} more (threshold: ‚â•${SELL_THRESHOLD})</span>`;
						
						return `
							<div style="background: rgba(0, 0, 0, 0.3); padding: 15px; margin-bottom: 12px; border-radius: 6px; border-left: 3px solid #f44336;">
								<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
									<span style="color: #f44336; font-weight: bold; font-size: 18px;">#${idx + 1} ${signal.symbol}</span>
									${signal.price ? `<span style="color: #fff; font-weight: bold;">$${parseFloat(signal.price).toFixed(2)}</span>` : ''}
								</div>
								<div style="color: rgba(255, 255, 255, 0.9); font-size: 14px; margin-bottom: 6px;">
									<strong>SELL Score:</strong> ${signal.sellScore}/${signal.totalSell} ${thresholdStatus}
								</div>
								<div style="color: rgba(255, 255, 255, 0.7); font-size: 13px;">
									BUY: ${signal.buyScore}/${signal.totalBuy} | Sector: ${signal.sector}
								</div>
							</div>
						`;
					}).join('');
				}
			}
			
			function renderSignals(signals) {
				// Store signals globally so asset list can access them
				window.allSignals = signals;
				
				const grid = document.getElementById('signals-grid'); // Crypto recent
				const oldGrid = document.getElementById('old-signals-grid'); // Crypto historical
				const oldContainer = document.getElementById('old-signals-container'); // Crypto historical container
				const stockGrid = document.getElementById('stock-signals-grid'); // Stock recent
				const stockContainer = document.getElementById('stock-signals-container'); // Stock recent container
				const stockHistoricalGrid = document.getElementById('stock-historical-grid'); // Stock historical
				const stockHistoricalContainer = document.getElementById('stock-historical-container'); // Stock historical container
				
				console.log('renderSignals called with', signals.length, 'signals');
				
				if (!signals || signals.length === 0) {
					grid.innerHTML = '<div class="empty-state"><h3>‚è≥ Waiting for signals...</h3><p>Signals will appear here automatically when your trading bots generate them</p></div>';
					oldContainer.style.display = 'none';
					stockContainer.style.display = 'none';
					stockHistoricalContainer.style.display = 'none';
					return;
				}
				
				// Separate stocks from crypto
				const stockSignals = [];
				const cryptoSignals = [];
				
				signals.forEach(signal => {
					if (isStockSignal(signal)) {
						stockSignals.push(signal);
					} else {
						cryptoSignals.push(signal);
					}
				});
				
				// Process CRYPTO signals: recent (1 day) vs historical (1+ days)
				const oneDayAgo = Date.now() - (1 * 24 * 60 * 60 * 1000);
				const recentCrypto = [];
				const oldCrypto = [];
				
				cryptoSignals.forEach(signal => {
					const timestamp = new Date(signal.timestamp || signal.received_at);
					if (timestamp.getTime() > oneDayAgo) {
						recentCrypto.push(signal);
					} else {
						oldCrypto.push(signal);
					}
				});
				
				// Process STOCK signals: recent (7 days, since stocks are long-term) vs historical (7+ days)
				const sevenDaysAgo = Date.now() - (7 * 24 * 60 * 60 * 1000);
				const recentStocks = [];
				const oldStocks = [];
				
				stockSignals.forEach(signal => {
					const timestamp = new Date(signal.timestamp || signal.received_at);
					if (timestamp.getTime() > sevenDaysAgo) {
						// Stocks from last 7 days are considered recent (long-term plays)
						recentStocks.push(signal);
					} else {
						// Stocks older than 7 days go to historical
						oldStocks.push(signal);
					}
				});
				
				console.log('Crypto - Recent:', recentCrypto.length, 'Old:', oldCrypto.length);
				console.log('Stocks - Recent:', recentStocks.length, 'Historical (7+ days):', oldStocks.length);
				
				// Render CRYPTO signals
				if (recentCrypto.length === 0) {
					grid.innerHTML = '<div class="empty-state"><h3>‚è≥ No recent crypto signals</h3><p>Check historical signals or wait for new signals</p></div>';
				} else {
					renderSignalCards(recentCrypto, grid);
				}
				
				// Render crypto historical (hidden by default)
				if (oldCrypto.length > 0) {
					oldContainer.style.display = 'none';
					document.getElementById('old-signals-count').textContent = oldCrypto.length;
					if (document.getElementById('old-signals-count-display')) {
						document.getElementById('old-signals-count-display').style.display = 'block';
					}
					renderSignalCards(oldCrypto, oldGrid);
				} else {
					oldContainer.style.display = 'none';
				}
				
				// Render STOCK signals
				if (recentStocks.length > 0) {
					renderSignalCards(recentStocks, stockGrid);
					// Render Top 3 signals section
					renderTop3Signals(signals);
					// Stock container visibility controlled by navigation buttons, don't override here
				} else {
					stockGrid.innerHTML = '<div class="empty-state"><h3>‚è≥ No recent stock signals</h3><p>Check historical stock signals or wait for new signals</p></div>';
					// Still try to render Top 3 from all signals
					renderTop3Signals(signals);
					// Stock container visibility controlled by navigation buttons, don't override here
				}
				
				// Render stock historical (hidden by default)
				if (oldStocks.length > 0) {
					stockHistoricalContainer.style.display = 'none';
					document.getElementById('stock-historical-count').textContent = oldStocks.length;
					if (document.getElementById('stock-historical-count-display')) {
						document.getElementById('stock-historical-count-display').style.display = 'block';
					}
					renderSignalCards(oldStocks, stockHistoricalGrid);
				} else {
					stockHistoricalContainer.style.display = 'none';
				}
			}
			
			function renderSignalCards(signals, targetGrid) {
				try {
					const html = signals.map((signal, index) => {
						console.log('Processing signal', index, signal);
						const action = signal.action || 'unknown';
						const isBuy = action.toLowerCase() === 'buy';
						const actionClass = isBuy ? 'buy' : 'sell';
						
						// Determine signal conviction level from note
						let signalBadge = '';
						let signalClass = '';
						const note = signal.note || '';
						if (note.includes('Pure JSON Trade')) {
							signalBadge = '‚≠ê STANDARD CONVICTION';
							signalClass = 'confluence-pure';
						} else if (note.includes('EMA + JSON')) {
							signalBadge = '‚≠ê‚≠ê HIGH CONVICTION';
							signalClass = 'confluence-ema';
						} else if (note.includes('HMM + JSON')) {
							signalBadge = '‚≠ê‚≠ê‚≠ê ULTRA HIGH CONVICTION';
							signalClass = 'confluence-hmm';
						} else if (note.includes('HMM Extreme')) {
							signalBadge = '‚≠ê‚≠ê‚≠ê‚≠ê BEST CONVICTION';
							signalClass = 'confluence-extreme';
						}
						// Skip "Raw JSON signal" - internal only, not shown to users
						
						const cardHtml = `
							<div class="signal-card ${actionClass}">
								<div class="signal-header">
									<span class="signal-symbol">${signal.symbol || 'N/A'}</span>
									<div>
										<span class="signal-action ${actionClass}">${isBuy ? 'üü¢ üìà' : 'üî¥ üìâ'} ${action.toUpperCase()}</span>
										${signalBadge ? `<span class="confluence-badge ${signalClass}">${signalBadge}</span>` : ''}
									</div>
								</div>
								<div class="signal-details">
									${signal.price !== null && signal.price !== undefined ? `
										<div class="signal-detail-row">
											<span class="signal-detail-label">Price:</span>
											<span class="signal-detail-value">${formatPrice(signal.price)}</span>
										</div>
									` : ''}
									${signal.source ? `
										<div class="signal-detail-row">
											<span class="signal-detail-label">Source:</span>
											<span class="signal-detail-value">${signal.source}</span>
										</div>
									` : ''}
									${signal.note ? `
										<div class="note-highlight">
											${signal.note}
										</div>
									` : ''}
								</div>
								<div class="signal-timestamp">
									${formatTimestamp(signal.timestamp || signal.received_at)}
								</div>
							</div>
						`;
						return cardHtml;
					}).join('');
					
					console.log('Generated HTML length:', html.length);
					console.log('First 200 chars of HTML:', html.substring(0, 200));
					console.log('Setting innerHTML...');
					targetGrid.innerHTML = html;
					console.log('innerHTML set. Grid children:', targetGrid.children.length);
					console.log('Grid innerHTML length after set:', targetGrid.innerHTML.length);
					
					// Force a visual test
					if (targetGrid.children.length > 0) {
						console.log('First child element:', targetGrid.children[0]);
						console.log('First child visible?', window.getComputedStyle(targetGrid.children[0]).display);
					}
				} catch (error) {
					console.error('Error in renderSignalCards:', error);
					targetGrid.innerHTML = '<div class="empty-state"><h3>Error rendering signals</h3><p>' + error.message + '</p></div>';
				}
			}
			
			function loadSignals() {
				console.log('Loading signals...');
				// Try to load signals.json (list of all signals)
				fetch('signals/signals.json')
					.then(response => {
						console.log('Response status:', response.status);
						if (!response.ok) {
							// If signals.json doesn't exist, try latest.json
							return fetch('signals/latest.json')
								.then(res => {
									if (!res.ok) throw new Error('No signals file found');
									return res.json();
								})
								.then(data => [data]); // Wrap single signal in array
						}
						return response.json();
					})
					.then(data => {
						console.log('Received data:', data);
				// Only block if trial truly expired
				if (!signalsVisible) {
					console.log('Trial expired: hiding signals');
					hideAllSignals();
					return;
				}
						// Ensure data is an array
						const signals = Array.isArray(data) ? data : [data];
						console.log('Rendering', signals.length, 'signals');
						renderSignals(signals);
						
						// Update asset list if it's currently visible
						const assetListContainer = document.getElementById('asset-list-container');
						if (assetListContainer && assetListContainer.style.display !== 'none') {
							renderAssetList(signals);
						}
						
						document.getElementById('status-indicator').className = 'status-indicator active';
						document.getElementById('status-text').textContent = 'Connected';
						document.getElementById('last-update').textContent = 'Last updated: ' + new Date().toLocaleTimeString();
					})
					.catch(error => {
						console.error('Error loading signals:', error);
						document.getElementById('signals-grid').innerHTML = 
							'<div class="empty-state"><h3>‚è≥ Waiting for signals...</h3><p>Our servers are restarting. Signals are stale. Please check back in a few minutes.</p></div>';
						document.getElementById('status-indicator').className = 'status-indicator inactive';
						document.getElementById('status-text').textContent = 'Servers Restarting';
						showServerRestartBanner();
					});
			}
			
			// ========================================
			// TRIAL TRACKING & ACCESS CONTROL
			// ========================================
			
			const TRIAL_DAYS = 7;
			const STORAGE_KEY_TRIAL_START = 'trial_start_date';
			const STORAGE_KEY_SUBSCRIBED = 'is_subscribed';
			const STORAGE_KEY_EMAIL = 'user_email';
			
			// Initialize trial tracking
			function initializeTrial() {
				// Initialize non-blocking email capture
				initEmailCapture();

				// Check if user is marked as subscribed
				const isSubscribed = localStorage.getItem(STORAGE_KEY_SUBSCRIBED) === 'true';
				if (isSubscribed) {
					updateTrialStatus('subscribed');
					return true; // Full access
				}
				
				// Check if trial has started
				let trialStartDate = localStorage.getItem(STORAGE_KEY_TRIAL_START);
				
				if (!trialStartDate) {
					// First visit - start trial now
					trialStartDate = new Date().toISOString();
					localStorage.setItem(STORAGE_KEY_TRIAL_START, trialStartDate);
					updateTrialStatus('active');
					return true; // Show signals during trial
				}
				
				// Check if trial has expired
				const startDate = new Date(trialStartDate);
				const now = new Date();
				const daysElapsed = (now - startDate) / (1000 * 60 * 60 * 24);
				
				if (daysElapsed >= TRIAL_DAYS) {
					updateTrialStatus('expired');
					return false; // Hide signals after trial
				} else {
					const daysRemaining = Math.ceil(TRIAL_DAYS - daysElapsed);
					updateTrialStatus('active', daysRemaining);
					return true; // Show signals during trial
				}
			}
			
			// Update trial status banner
			function updateTrialStatus(status, daysRemaining = null) {
				const banner = document.getElementById('trial-status-banner');
				const message = document.getElementById('trial-status-message');
				
				if (!banner || !message) return;
				
				if (status === 'subscribed') {
					banner.style.background = 'linear-gradient(135deg, rgba(76, 175, 80, 0.3) 0%, rgba(76, 175, 80, 0.2) 100%)';
					banner.style.borderColor = 'rgba(76, 175, 80, 0.7)';
					message.innerHTML = '‚úÖ <strong>Premium Subscriber</strong> - Full access to all trading signals';
				} else if (status === 'active') {
					banner.style.background = 'linear-gradient(135deg, rgba(33, 150, 243, 0.3) 0%, rgba(76, 175, 80, 0.2) 100%)';
					banner.style.borderColor = 'rgba(33, 150, 243, 0.7)';
					if (daysRemaining !== null) {
						message.innerHTML = `üéâ <strong>7-Day Free Trial Active</strong> - ${daysRemaining} day${daysRemaining !== 1 ? 's' : ''} remaining. Signals are visible!`;
					} else {
						message.innerHTML = 'üéâ <strong>7-Day Free Trial Started</strong> - Signals are now visible!';
					}
				} else if (status === 'expired') {
					banner.style.background = 'linear-gradient(135deg, rgba(244, 67, 54, 0.4) 0%, rgba(255, 152, 0, 0.3) 100%)';
					banner.style.borderColor = 'rgba(244, 67, 54, 1)';
					banner.style.borderWidth = '3px';
					banner.style.boxShadow = '0 4px 20px rgba(244, 67, 54, 0.5)';
					message.style.fontSize = '20px';
					message.style.fontWeight = 'bold';
					message.innerHTML = '‚è∞ <strong style="font-size: 24px;">Your Trial Has Expired</strong><br><span style="font-size: 18px; font-weight: normal; margin-top: 10px; display: block;">Please subscribe to continue viewing signals.</span><br><a href="#" onclick="event.preventDefault(); showSubscriptionModal(); return false;" style="color: #fff; text-decoration: underline; font-weight: bold; font-size: 18px; margin-top: 10px; display: inline-block; background: rgba(255, 255, 255, 0.2); padding: 8px 16px; border-radius: 6px;">Subscribe Now ‚Üí</a>';
				}
			}
			
			// Hide all signal grids when trial expires
			function hideAllSignals() {
				const grids = [
					document.getElementById('signals-grid'),
					document.getElementById('stock-signals-grid'),
					document.getElementById('old-signals-grid'),
					document.getElementById('stock-historical-grid'),
					document.getElementById('crypto-asset-list'),
					document.getElementById('stock-asset-list')
				];
				
				grids.forEach(grid => {
					if (grid) {
						grid.innerHTML = '<div class="empty-state" style="text-align: center; padding: 60px 40px; background: rgba(244, 67, 54, 0.15); border: 3px solid rgba(244, 67, 54, 0.7); border-radius: 12px; margin: 20px 0;"><h2 style="color: #fff; font-size: 32px; margin-bottom: 20px; font-weight: bold;">‚è∞ Your Trial Has Expired</h2><p style="color: #fff; font-size: 20px; margin: 20px 0; font-weight: 500;">Your 7-day free trial has ended.</p><p style="color: rgba(255, 255, 255, 0.9); font-size: 18px; margin-bottom: 30px;">Please subscribe to continue viewing all trading signals.</p><button onclick="showSubscriptionModal()" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; padding: 18px 40px; border-radius: 8px; font-size: 20px; font-weight: bold; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(102, 126, 234, 0.5);" onmouseover="this.style.transform=\'translateY(-3px)\'; this.style.boxShadow=\'0 6px 25px rgba(102, 126, 234, 0.7)\';" onmouseout="this.style.transform=\'translateY(0)\'; this.style.boxShadow=\'0 4px 15px rgba(102, 126, 234, 0.5)\';">üí≥ Subscribe Now - $9.99/month</button></div>';
						grid.style.opacity = '1';
						grid.style.visibility = 'visible';
						grid.style.display = 'grid';
					}
				});
			}
			
			// Check if signals should be visible
			let signalsVisible = true; // Default to visible
			
			// Initialize: Show crypto by default on page load
			window.addEventListener('DOMContentLoaded', function() {
				// Check trial status first
				signalsVisible = initializeTrial();
				
				switchToCrypto();
				
				// Load signals immediately regardless; loadSignals will hide if expired
				loadSignals();
			// Auto-refresh every 30 seconds
			refreshInterval = setInterval(loadSignals, 30000);
			});
			
			// Add scroll detection for mobile nav shrinking
			window.addEventListener("scroll", function() {
				var distance = window.pageYOffset || document.documentElement.scrollTop;
				if(distance > 20) {
					document.querySelector("nav").classList.add("scrolled");
					document.getElementById("backing").classList.add("scrolled");
				} else {
					document.querySelector("nav").classList.remove("scrolled");
					document.getElementById("backing").classList.remove("scrolled");
				}
			});
			
			// Stripe Subscription Code
			let stripe = null;
			let stripePublicKey = null;
			
			// Backend API URL - adjust if your backend is on a different port/domain
			// For local development: backend runs on port 5006
			// For production: backend should be deployed (AWS, Heroku, etc.) or use ngrok for testing
			function getStripeApiBase() {
				const hostname = window.location.hostname;
				
				// Local development
				if (hostname === 'localhost' || hostname === '127.0.0.1' || hostname === '') {
					return 'http://localhost:5006';
				}
				
				// Production - check for custom backend URL in localStorage (for testing with ngrok, etc.)
				const customBackend = localStorage.getItem('stripe_backend_url');
				if (customBackend) {
					console.log(`Using custom backend URL: ${customBackend}`);
					return customBackend;
				}
				
				// Production - try same origin first (if backend is proxied)
				// If this doesn't work, you'll need to deploy the backend or use ngrok
				return window.location.origin;
			}
			const STRIPE_API_BASE = getStripeApiBase();
			
			// Load Stripe public key from backend
			async function loadStripeKey() {
				const apiUrl = `${STRIPE_API_BASE}/api/stripe-public-key`;
				console.log(`üîó Attempting to load Stripe key from: ${apiUrl}`);
				
				try {
					// Try the backend API endpoint
					// Note: ngrok free tier may require visiting the URL in browser first to accept warning
					const response = await fetch(apiUrl, {
						method: 'GET',
						headers: {
							'Content-Type': 'application/json',
							'ngrok-skip-browser-warning': 'true', // Bypass ngrok free tier warning page
							'User-Agent': 'Mozilla/5.0', // Some ngrok configurations require this
						},
						mode: 'cors', // Explicitly enable CORS
						credentials: 'omit', // Don't send cookies
					});
					
					if (response.ok) {
						const data = await response.json();
						if (data.publicKey) {
							stripePublicKey = data.publicKey;
							console.log('‚úÖ Stripe public key loaded from backend');
						}
				} else if (response.status === 403) {
					// ngrok free tier blocking - user may need to visit URL in browser first
					console.warn('‚ö†Ô∏è ngrok returned 403. If using ngrok free tier, visit the URL in a browser first to accept the warning:');
					console.warn(`   ${apiUrl}`);
					console.warn('   Then refresh this page.');
					showServerRestartBanner();
				} else {
					console.warn('‚ö†Ô∏è Could not load Stripe key from backend API. Servers may be restarting.');
					console.warn(`   Status: ${response.status}`);
					showServerRestartBanner();
				}
			} catch (error) {
				console.error('‚ùå Error loading Stripe key from backend:', error);
				if (error.message && error.message.includes('403')) {
					console.warn('‚ö†Ô∏è ngrok is blocking the request. Visit the ngrok URL in a browser first to accept the warning.');
				} else {
					console.warn('‚ö†Ô∏è Servers are restarting. Please check back in a few minutes.');
				}
				showServerRestartBanner();
			}
			
			// If we still don't have a key, try to initialize with a placeholder
			// This will allow the UI to work but subscription won't function
			if (!stripePublicKey) {
				console.warn('‚ö†Ô∏è Servers are restarting. Subscription feature will be available shortly.');
				showServerRestartBanner();
				return;
			}
				
				try {
					stripe = Stripe(stripePublicKey);
					console.log('‚úÖ Stripe initialized successfully');
					hideServerRestartBanner(); // Hide banner when Stripe is ready
				} catch (error) {
					console.error('‚ùå Error initializing Stripe:', error);
					showServerRestartBanner();
				}
			}
			
			// Initialize Stripe on page load
			loadStripeKey();
			
			// Show/hide server restart banner
			function showServerRestartBanner() {
				const banner = document.getElementById('server-restart-banner');
				if (banner) {
					banner.style.display = 'block';
				}
			}
			
			function hideServerRestartBanner() {
				const banner = document.getElementById('server-restart-banner');
				if (banner) {
					banner.style.display = 'none';
				}
			}

			// Non-blocking email capture (freemium)
			function initEmailCapture() {
				const savedEmail = localStorage.getItem(STORAGE_KEY_EMAIL);
				const banner = document.getElementById('email-capture-banner');
				const input = document.getElementById('email-capture-input');
				const btn = document.getElementById('email-capture-btn');
				const status = document.getElementById('email-capture-status');

				if (!banner || !input || !btn || !status) return;

				if (savedEmail) {
					banner.style.display = 'none';
					return;
				}

				banner.style.display = 'block';

				btn.addEventListener('click', function() {
					const email = (input.value || '').trim();
					if (!email || !email.includes('@')) {
						status.style.display = 'block';
						status.style.color = '#f44336';
						status.textContent = 'Please enter a valid email.';
						return;
					}
					localStorage.setItem(STORAGE_KEY_EMAIL, email);
					status.style.display = 'block';
					status.style.color = '#4caf50';
					status.textContent = 'Saved! Thank you.';
					setTimeout(() => {
						banner.style.display = 'none';
					}, 1200);
				});
			}
			
			function showSubscriptionModal() {
				const modal = document.getElementById('subscription-modal');
				const errorDiv = document.getElementById('subscription-error');
				const button = document.getElementById('start-subscription-btn');
				
				if (modal) {
					modal.style.display = 'flex';
				}
				
				// Check if Stripe is initialized and show warning if not
				if (!stripe) {
					if (errorDiv) {
						errorDiv.style.display = 'block';
						const hostname = window.location.hostname;
						if (hostname === 'brianstreckfus.com' || hostname.includes('brianstreckfus.com')) {
							errorDiv.innerHTML = '‚ö†Ô∏è <strong>Backend not available.</strong><br><br>' +
								'The Stripe payment server needs to be deployed to production.<br>' +
								'<small style="color: rgba(255,255,255,0.7);">For testing, you can use ngrok to expose your local backend, or deploy to AWS/Heroku.</small>';
						} else {
							errorDiv.innerHTML = '‚ö†Ô∏è <strong>Our servers are restarting.</strong><br>' +
								'Subscription service will be available shortly. Please check back in a few minutes.';
						}
					}
					if (button) {
						button.disabled = true;
						button.textContent = 'Backend Not Available';
					}
				} else {
					if (errorDiv) {
						errorDiv.style.display = 'none';
						errorDiv.textContent = '';
					}
					if (button) {
						button.disabled = false;
						button.textContent = 'Start 7-Day Free Trial';
					}
				}
			}
			
			function closeSubscriptionModal() {
				const modal = document.getElementById('subscription-modal');
				if (modal) {
					modal.style.display = 'none';
				}
				const errorDiv = document.getElementById('subscription-error');
				if (errorDiv) {
					errorDiv.style.display = 'none';
					errorDiv.textContent = '';
				}
			}
			
			// Close modal when clicking outside
			document.addEventListener('click', function(event) {
				const modal = document.getElementById('subscription-modal');
				if (modal && event.target === modal) {
					closeSubscriptionModal();
				}
			});
			
			async function startSubscription() {
				const button = document.getElementById('start-subscription-btn');
				const errorDiv = document.getElementById('subscription-error');
				
				if (!stripe) {
					// Try to load key again
					await loadStripeKey();
					if (!stripe) {
						if (errorDiv) {
							errorDiv.style.display = 'block';
							errorDiv.innerHTML = '‚ö†Ô∏è <strong>Our servers are restarting.</strong><br><br>' +
								'Subscription service will be available shortly. Please check back in a few minutes.';
						}
						if (button) {
							button.disabled = false;
							button.textContent = 'Start 7-Day Free Trial';
						}
						return;
					}
				}
				
				// Disable button during processing
				if (button) {
					button.disabled = true;
					button.textContent = 'Processing...';
				}
				
				if (errorDiv) {
					errorDiv.style.display = 'none';
					errorDiv.textContent = '';
				}
				
				try {
					// Call backend to create checkout session
					const response = await fetch(`${STRIPE_API_BASE}/api/create-checkout-session`, {
						method: 'POST',
						headers: {
							'Content-Type': 'application/json',
							'ngrok-skip-browser-warning': 'true', // Bypass ngrok free tier warning page
						},
						body: JSON.stringify({
							productType: 'subscription',
							trial_days: 7,  // 7-day free trial
							// priceId is optional - backend will create one if not provided
						}),
					});
					
					const session = await response.json();
					
					if (session.error) {
						throw new Error(session.error);
					}
					
					// Redirect to Stripe Checkout
					if (session.sessionId) {
						const result = await stripe.redirectToCheckout({
							sessionId: session.sessionId,
						});
						
						if (result.error) {
							throw new Error(result.error.message);
						}
					} else {
						throw new Error('No session ID received from server');
					}
				} catch (error) {
					console.error('Subscription error:', error);
					if (errorDiv) {
						errorDiv.style.display = 'block';
						if (error.message && (error.message.includes('fetch') || error.message.includes('Failed to fetch'))) {
							// Network error - backend not reachable
							const hostname = window.location.hostname;
							if (hostname === 'brianstreckfus.com' || hostname.includes('brianstreckfus.com')) {
								errorDiv.innerHTML = '‚ö†Ô∏è <strong>Backend not available.</strong><br><br>' +
									'The Stripe payment server needs to be deployed to production.<br>' +
									'<small style="color: rgba(255,255,255,0.7);">For now, the subscription feature is only available when the backend is running locally or deployed.</small>';
							} else {
								errorDiv.innerHTML = '‚ö†Ô∏è <strong>Our servers are restarting.</strong><br>Please check back in a few minutes.';
							}
						} else {
							errorDiv.textContent = 'Error: ' + (error.message || 'Failed to start subscription. Our servers may be restarting. Please try again in a few minutes.');
						}
					}
					if (button) {
						button.disabled = false;
						button.textContent = 'Start 7-Day Free Trial';
					}
				}
			}
			
			// Mark user as subscribed (called after successful payment)
			function markAsSubscribed() {
				localStorage.setItem(STORAGE_KEY_SUBSCRIBED, 'true');
				signalsVisible = true;
				updateTrialStatus('subscribed');
				// Reload signals if they were hidden
				loadSignals();
				if (!refreshInterval) {
					refreshInterval = setInterval(loadSignals, 30000);
				}
			}
			
			// Check if user is returning from successful payment
			const urlParams = new URLSearchParams(window.location.search);
			if (urlParams.get('session_id')) {
				// Mark as subscribed and show success message
				markAsSubscribed();
				setTimeout(() => {
					alert('üéâ Subscription activated! Thank you for subscribing. You now have full access to all signals.');
					// Clean up URL
					window.history.replaceState({}, document.title, window.location.pathname);
				}, 500);
			}
		</script>
	</body>
</html>

